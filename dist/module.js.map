{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./style/CoordinateSpace.css","webpack:///./style/SimpleEditor.css","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/style-loader/lib/addStyles.js","webpack:///../node_modules/style-loader/lib/urls.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./Functions/CreateInput/createInputCoor.tsx","webpack:///./Functions/CreateInput/createInputsOrientedLink.tsx","webpack:///./Functions/CreateInput/createInputsPoint.tsx","webpack:///./Functions/EditParameter/editGoodParameter.tsx","webpack:///./Functions/EditParameter/editGoodParameterOrientedLink.tsx","webpack:///./Functions/EditParameter/editGoodParameterPoint.tsx","webpack:///./Functions/Input/inputButton.tsx","webpack:///./Functions/Input/inputSelect.tsx","webpack:///./Functions/Input/inputSelectOrientedLink.tsx","webpack:///./Functions/Input/inputSelectPoint.tsx","webpack:///./Functions/Input/inputSeriesColorPicker.tsx","webpack:///./Functions/Input/inputText.tsx","webpack:///./Functions/Input/inputTextOrientedLink.tsx","webpack:///./Functions/Input/inputTextPoint.tsx","webpack:///./Functions/fetchMetrics.tsx","webpack:///./Functions/getLowerLimit.tsx","webpack:///./Functions/getResultQuery.tsx","webpack:///./Functions/initOrientedLink.tsx","webpack:///./Functions/initPoint.tsx","webpack:///./Functions/initRegionCoordinateSpace.tsx","webpack:///./Functions/isNumFloat.tsx","webpack:///./Functions/loaderGabarit.tsx","webpack:///./Functions/parseColor.tsx","webpack:///./Functions/searchIDLimit.tsx","webpack:///./Models/ArrayInputClass.tsx","webpack:///./Models/ArrayInputSelectableClass.tsx","webpack:///./Models/CoordinateSpaceClass.tsx","webpack:///./Models/InputClass.tsx","webpack:///./Models/InputSelectableClass.tsx","webpack:///./Models/LinkURLClass.tsx","webpack:///./Models/LowerLimitClass.tsx","webpack:///./Models/OrientedLinkClass.tsx","webpack:///./Models/PointClass.tsx","webpack:///./Models/PositionParameterClass.tsx","webpack:///./Models/RegionClass.tsx","webpack:///./Models/TextObjectClass.tsx","webpack:///./Models/dropZone.tsx","webpack:///./SimpleEditor.tsx","webpack:///./SimplePanel.tsx","webpack:///./components/CoordinateSpace/addCoordinate.tsx","webpack:///./components/CoordinateSpace/coordinateSpace.tsx","webpack:///./components/CoordinateSpace/editCoordinateSpace.tsx","webpack:///./components/CoordinateSpace/manageAuxiliaryQuery.tsx","webpack:///./components/CoordinateSpace/manageCoordinateSpace.tsx","webpack:///./components/CoordinateSpace/manageMetada.tsx","webpack:///./components/CoordinateSpace/manageQuery.tsx","webpack:///./components/CoordinateSpace/orientedLink/editOrientedLink.tsx","webpack:///./components/CoordinateSpace/orientedLink/orientedLink.tsx","webpack:///./components/CoordinateSpace/point/editPoint.tsx","webpack:///./components/CoordinateSpace/point/point.tsx","webpack:///./components/Draw/drawOrientedLink.tsx","webpack:///./components/Draw/drawPoint.tsx","webpack:///./components/Draw/drawRectangle.tsx","webpack:///./components/Draw/drawRectangleExtend.tsx","webpack:///./components/Parametrage/VariableColor.tsx","webpack:///./components/Parametrage/fixColor.tsx","webpack:///./components/Parametrage/manageLink.tsx","webpack:///./components/Parametrage/manageLowerLimit.tsx","webpack:///./components/Parametrage/parametresGeneriques.tsx","webpack:///./components/Parametrage/positionParameters.tsx","webpack:///./components/Parametrage/styleComponent.tsx","webpack:///./components/Parametrage/textObjects.tsx","webpack:///./components/coordinateSpaceInitial.tsx","webpack:///./components/display.tsx","webpack:///./components/gabarit.tsx","webpack:///./components/importInput.tsx","webpack:///./components/legend.tsx","webpack:///./module.ts","webpack:///./style/CoordinateSpace.css?a586","webpack:///./style/SimpleEditor.css?9203","webpack:///./types.ts","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/ui\"","webpack:///external \"react\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA,kCAAkC,mBAAO,CAAC,yGAAmD;AAC7F;AACA;AACA,cAAc,QAAS,kBAAkB,sBAAsB,EAAE,uBAAuB,uBAAuB,EAAE,SAAS,0EAA0E,kBAAkB,MAAM,iFAAiF,sBAAsB,EAAE,uBAAuB,uBAAuB,EAAE,KAAK;AAC1X;AACA;;;;;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,yGAAmD;AAC7F;AACA;AACA,cAAc,QAAS,wBAAwB,gBAAgB,kBAAkB,gBAAgB,KAAK,iCAAiC,kBAAkB,4BAA4B,KAAK,qBAAqB,sBAAsB,qBAAqB,KAAK,oCAAoC,gBAAgB,EAAE,qCAAqC,0BAA0B,yBAAyB,kBAAkB,gCAAgC,gCAAgC,gCAAgC,0CAA0C,kCAAkC,0CAA0C,mCAAmC,mBAAmB,EAAE,gCAAgC,kBAAkB,qBAAqB,oBAAoB,EAAE,SAAS,uEAAuE,UAAU,KAAK,YAAY,MAAM,YAAY,mBAAmB,MAAM,YAAY,mBAAmB,MAAM,gBAAgB,KAAK,WAAW,WAAW,UAAU,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,iBAAiB,MAAM,UAAU,YAAY,mFAAmF,gBAAgB,kBAAkB,gBAAgB,KAAK,iCAAiC,kBAAkB,4BAA4B,KAAK,qBAAqB,sBAAsB,qBAAqB,KAAK,oCAAoC,gBAAgB,EAAE,qCAAqC,kBAAkB,wBAAwB,kCAAkC,mCAAmC,mBAAmB,EAAE,gCAAgC,kBAAkB,qBAAqB,oBAAoB,EAAE,KAAK;AACruD;AACA;;;;;;;;;;;;;ACNa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;AC7FA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,wDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEO;AACP;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,o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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"div.inputCoor {\\n  margin-bottom: 2%; }\\n\\ndiv.buttonAddCoor {\\n  text-align: center; }\\n\", \"\",{\"version\":3,\"sources\":[\"CoordinateSpace.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB,EAAE\",\"file\":\"CoordinateSpace.css\",\"sourcesContent\":[\"div.inputCoor {\\n  margin-bottom: 2%; }\\n\\ndiv.buttonAddCoor {\\n  text-align: center; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"div.divSimpleEditor {\\n  width: 100%;\\n  /* margin: 2%;\\n  padding: 2%; */ }\\n\\ndiv.CoordinateSpaceInitital {\\n  /* margin: 1%; */\\n  /* margin-bottom: 8%; */ }\\n\\nh3.titreSection {\\n  margin-bottom: 2%;\\n  /*   color: blue; */ }\\n\\n.parameter-interface-container {\\n  width: 100%; }\\n\\n.parameter-interface-list-title {\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-flex-direction: row;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-justify-content: space-around;\\n      -ms-flex-pack: distribute;\\n          justify-content: space-around;\\n  border-bottom: 4px solid white;\\n  margin: 10px 0; }\\n\\n.parameter-interface-title {\\n  padding: 10px;\\n  list-style: none;\\n  cursor: pointer; }\\n\", \"\",{\"version\":3,\"sources\":[\"SimpleEditor.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX;gBACc,EAAE;;AAElB;EACE,gBAAgB;EAChB,uBAAuB,EAAE;;AAE3B;EACE,iBAAiB;EACjB,mBAAmB,EAAE;;AAEvB;EACE,WAAW,EAAE;;AAEf;EACE,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,2BAAmB;MAAnB,uBAAmB;UAAnB,mBAAmB;EACnB,qCAA6B;MAA7B,yBAA6B;UAA7B,6BAA6B;EAC7B,8BAA8B;EAC9B,cAAc,EAAE;;AAElB;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe,EAAE\",\"file\":\"SimpleEditor.css\",\"sourcesContent\":[\"div.divSimpleEditor {\\n  width: 100%;\\n  /* margin: 2%;\\n  padding: 2%; */ }\\n\\ndiv.CoordinateSpaceInitital {\\n  /* margin: 1%; */\\n  /* margin-bottom: 8%; */ }\\n\\nh3.titreSection {\\n  margin-bottom: 2%;\\n  /*   color: blue; */ }\\n\\n.parameter-interface-container {\\n  width: 100%; }\\n\\n.parameter-interface-list-title {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  border-bottom: 4px solid white;\\n  margin: 10px 0; }\\n\\n.parameter-interface-title {\\n  padding: 10px;\\n  list-style: none;\\n  cursor: pointer; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { InputClass } from 'Models/InputClass';\n\nexport const createInputCoor = (id: number, isInitial: boolean): InputClass[] => {\n  const l10n = require('Localization/en.json');\n\n  const newFieldLabel: InputClass = new InputClass(\n    id.toString() + 'label',\n    l10n.basics.label,\n    'label' + id.toString(),\n    'text',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldPositionXMin: InputClass = new InputClass(\n    id.toString() + 'xMin',\n    l10n.inputCoordinate.minXPosition,\n    'positionXMin' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.minXPosition,\n    undefined\n  );\n  const newFieldPositionXMax: InputClass = new InputClass(\n    id.toString() + 'xMax',\n    l10n.inputCoordinate.maxXPosition,\n    'positionXMax' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.maxXPosition,\n    undefined\n  );\n  const newFieldPositionYMin: InputClass = new InputClass(\n    id.toString() + 'yMin',\n    l10n.inputCoordinate.minYPosition,\n    'positionYMin' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.minYPosition,\n    undefined\n  );\n  const newFieldPositionYMax: InputClass = new InputClass(\n    id.toString() + 'yMax',\n    l10n.inputCoordinate.maxYPosition,\n    'positionYMax' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.maxYPosition,\n    undefined\n  );\n  // const newFieldKey: InputClass = new InputClass(id.toString() + 'key',\n  // \tl10n.inputCoordinate.key, 'key' + id.toString(),\n  // \t'text', true, l10n.inputCoordinate.key, undefined);\n  // const newFieldValueKey: InputClass = new InputClass(id.toString() + 'valueKey',\n  // \tl10n.inputCoordinate.valueKey, 'valueKey' + id.toString(),\n  // \t'text', true, l10n.inputCoordinate.valueKey, undefined);\n  // const newFieldButton: InputClass = new InputClass(id.toString() + 'supprimer',\n  // \tl10n.basics.delete, 'supprimer' + id.toString(),\n  // \t'button', false, undefined, l10n.basics.delete);\n\n  let finalArray: InputClass[] = [];\n  if (!isInitial) {\n    finalArray = [\n      newFieldLabel,\n      // newFieldButton,\n    ];\n  } else {\n    finalArray = [newFieldLabel, newFieldPositionXMin, newFieldPositionXMax, newFieldPositionYMin, newFieldPositionYMax];\n  }\n\n  return finalArray;\n};\n","import { InputSelectableClass } from 'Models/InputSelectableClass';\nimport { SelectableValue } from '@grafana/data';\n\nexport const createInputsOrientedLink = (\n  id: number,\n  dataCoordinateSpace: Array<SelectableValue<string>>,\n  dataPoint: Array<SelectableValue<string>>\n): InputSelectableClass[] => {\n  const newFieldOrientationLink: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'orientationLink',\n    'Orientation',\n    'orientationLink' + id.toString(),\n    'select',\n    [\n      { label: 'Nodirectional', value: 'no' },\n      { label: 'Monodirectional', value: 'AB' },\n      { label: 'Bidirectional', value: 'double' },\n    ],\n    '',\n    true,\n    'Orientation',\n    undefined\n  );\n  const newFieldSize: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'size',\n    'Size (px)',\n    'size' + id.toString(),\n    'text',\n    // [\n    //   { value: 'Small', label: 'Small' },\n    //   { value: 'Medium', label: 'Medium' },\n    //   { value: 'Large', label: 'Large' },\n    // ],\n    [],\n    '',\n    true,\n    'Size',\n    undefined\n  );\n  const newFieldPointAPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointAX',\n    'CoordinateClick A - X',\n    'pointAX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointA-X',\n    undefined\n  );\n  const newFieldPointAPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointAY',\n    'CoordinateClick A - Y',\n    'pointAY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointA-Y',\n    undefined\n  );\n  const newFieldPointBPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointBX',\n    'CoordinateClick B - X',\n    'pointBX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointB-X',\n    undefined\n  );\n  const newFieldPointBPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointBY',\n    'CoordinateClick B - Y',\n    'pointBY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointB-Y',\n    undefined\n  );\n  const newFieldLabelLink: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'labelLink',\n    'Label',\n    'label' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldRegionIn: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'regionIn',\n    'AssociateRegionIn',\n    'regionIn' + id.toString(),\n    'select',\n    dataCoordinateSpace,\n    '',\n    true,\n    'Associate Region In',\n    undefined\n  );\n  const newFieldRegionOut: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'regionOut',\n    'AssociateRegionOut',\n    'regionOut' + id.toString(),\n    'select',\n    dataCoordinateSpace,\n    '',\n    true,\n    'Associate Region Out',\n    undefined\n  );\n  const newFieldPointIn: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointIn',\n    'AssociatePointIn',\n    'pointIn' + id.toString(),\n    'select',\n    dataPoint,\n    '',\n    true,\n    'Associate Point In',\n    undefined\n  );\n  const newFieldPointOut: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointOut',\n    'AssociatePointOut',\n    'pointOut' + id.toString(),\n    'select',\n    dataPoint,\n    '',\n    true,\n    'Associate Point Out',\n    undefined\n  );\n  const newFieldIsIncurved: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'isIncurved',\n    'Incurved',\n    'isIncurved' + id.toString(),\n    'select',\n    [\n      { label: 'Yes', value: true },\n      { label: 'No', value: false },\n    ],\n    '',\n    true,\n    'Incurved',\n    undefined\n  );\n  const newFieldPointCPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointCX',\n    'CoordinateClick C - X',\n    'pointCX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointC-X',\n    undefined\n  );\n  const newFieldPointCPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointCY',\n    'CoordinateClick C - Y',\n    'pointCY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointC-Y',\n    undefined\n  );\n  const newFieldButton: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'deleteLink',\n    'Delete',\n    'delete' + id.toString(),\n    'button',\n    [],\n    '',\n    false,\n    undefined,\n    'delete'\n  );\n\n  const finalArray: InputSelectableClass[] = [\n    newFieldLabelLink,\n    newFieldOrientationLink,\n    newFieldSize,\n    newFieldPointIn,\n    newFieldRegionIn,\n    newFieldPointAPositionX,\n    newFieldPointAPositionY,\n    newFieldPointOut,\n    newFieldRegionOut,\n    newFieldPointBPositionX,\n    newFieldPointBPositionY,\n    newFieldIsIncurved,\n    newFieldPointCPositionX,\n    newFieldPointCPositionY,\n    newFieldButton,\n  ];\n  return finalArray;\n};\n","import { InputSelectableClass } from 'Models/InputSelectableClass';\n//import { SelectableValue } from '@grafana/data';\n//import { RegionClass } from 'Models/RegionClass';\n\nexport const createInputsPoint = (id: number): InputSelectableClass[] => {\n  const newFieldDrawGraphicMarker: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'drawGraphicMarker',\n    'Display ',\n    'drawGraphicMarker' + id.toString(),\n    'select',\n    [\n      { value: 'true', label: 'Yes' },\n      { value: 'false', label: 'No' },\n    ],\n    '',\n    true,\n    'drawGraphicMarker',\n    undefined\n  );\n  const newFieldShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'shape',\n    'Shape',\n    'shape' + id.toString(),\n    'select',\n    [\n      { value: 'none', label: 'None' },\n      { value: 'circle', label: 'Circle' },\n      { value: 'square', label: 'Square' },\n      { value: 'diamond', label: 'Diamond' },\n    ],\n    '',\n    true,\n    'Shape',\n    undefined\n  );\n  const newFieldSizeWidthShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'sizeWidth',\n    'Size (px)',\n    'sizeWidth' + id.toString(),\n    'text',\n    // [\n    //   { value: 'small', label: 'Small' },\n    //   { value: 'medium', label: 'Medium' },\n    //   { value: 'large', label: 'Large' },\n    // ],\n    [],\n    '',\n    true,\n    'SizeWidth',\n    undefined\n  );\n  const newFieldSizeHeightShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'sizeHeight',\n    'Width',\n    'sizeHeight' + id.toString(),\n    'select',\n    [\n      { value: 'small', label: 'Small' },\n      { value: 'medium', label: 'Medium' },\n      { value: 'large', label: 'Large' },\n    ],\n    '',\n    true,\n    'SizeHeight',\n    undefined\n  );\n  const newFieldRotateArrow: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'rotateArrow',\n    'Orientation',\n    'rotateArrow' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'RotateArrow',\n    undefined\n  );\n  const newFieldPositionXShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'positionShapeX',\n    'Position X',\n    'positionShapeX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Position X Shape',\n    undefined\n  );\n  const newFieldPositionYShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'positionShapeY',\n    'Position Y',\n    'positionShapeY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Position Y Shape',\n    undefined\n  );\n  const newFieldLabel: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'labelPoint',\n    'Label',\n    'labelPoint' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldButton: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'deletePoint',\n    'Delete',\n    'delete' + id.toString(),\n    'button',\n    [],\n    '',\n    true,\n    undefined,\n    'Delete'\n  );\n\n  const finalArray: InputSelectableClass[] = [\n    newFieldLabel,\n    newFieldDrawGraphicMarker,\n    newFieldShape,\n    newFieldSizeWidthShape,\n    newFieldSizeHeightShape,\n    newFieldRotateArrow,\n    newFieldPositionXShape,\n    newFieldPositionYShape,\n    newFieldButton,\n  ];\n  return finalArray;\n};\n","import { RegionClass } from 'Models/RegionClass';\nimport { CoordinateSpaceInitial } from 'types';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameter = (\n  name: string,\n  editCoor: CoordinateSpaceInitial,\n  newValue: string,\n  widthBackground: number,\n  heigthBackground: number\n): CoordinateSpaceInitial => {\n  if (name.startsWith('positionXMin')) {\n    editCoor.coordinate.xMin = limitValueInitialSpace(newValue, 1, widthBackground, heigthBackground);\n    //editCoor.coordinate.xMin = newValue;\n  } else if (name.startsWith('positionXMax')) {\n    editCoor.coordinate.xMax = limitValueInitialSpace(newValue, 2, widthBackground, heigthBackground);\n    //editCoor.coordinate.xMax = newValue;\n  } else if (name.startsWith('positionYMin')) {\n    editCoor.coordinate.yMin = limitValueInitialSpace(newValue, 3, widthBackground, heigthBackground);\n    //editCoor.coordinate.yMin = newValue;\n  } else if (name.startsWith('positionYMax')) {\n    editCoor.coordinate.yMax = limitValueInitialSpace(newValue, 4, widthBackground, heigthBackground);\n    //editCoor.coordinate.yMax = newValue;\n  }\n  return editCoor;\n};\n\nexport const limitValueInitialSpace = (coorInitialSpace: string, position: number, widthBackground: number, heigthBackground: number): string => {\n  let result = parseInt(coorInitialSpace, 10);\n  if (position === 1 || position === 2) {\n    //xMin + xMax\n    if (result > widthBackground) {\n      result = widthBackground;\n    }\n  } else if (position === 3 || position === 4) {\n    //yMin + yMax\n    if (result > heigthBackground) {\n      result = heigthBackground;\n    }\n  }\n  // if (!defaultInitialSpace) {\n  //   result = coorInt;\n  // } else {\n  //   if (coorInt > 100) {\n  //     result = 100;\n  //   } else if (coorInt < 0) {\n  //     result = 0;\n  //   } else if (coorInt >= 0 && coorInt <= 100) {\n  //     result = coorInt;\n  //   } else {\n  //     result = 0;\n  //   }\n  // }\n  if (!result) {\n    result = 0;\n  }\n  return result.toString();\n};\n\nexport const editGoodParameterExtend = (\n  name: string,\n  editCoor: RegionClass,\n  newValue: string\n  // widthInitialSpace?: string,\n  // heightInitialSpace?: string\n): RegionClass => {\n  if (name.startsWith('positionXMin')) {\n    editCoor.coords.xMin = newValue;\n  } else if (name.startsWith('positionXMax')) {\n    editCoor.coords.xMax = newValue;\n  } else if (name.startsWith('positionYMin')) {\n    editCoor.coords.yMin = newValue;\n  } else if (name.startsWith('positionYMax')) {\n    editCoor.coords.yMax = newValue;\n  } else if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('image')) {\n    editCoor.img = newValue;\n  } else if (name.startsWith('key')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('valueKey')) {\n    editCoor.mainMetric.keyValue = newValue;\n  }\n  return editCoor;\n};\n","import { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameterOrientedLink = (\n  name: string,\n  editCoor: OrientedLinkClass,\n  newValue: string,\n  newValueSelect: SelectableValue<any>\n): OrientedLinkClass => {\n  if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('orientationLink')) {\n    editCoor.orientationLink = newValueSelect;\n  } else if (name.startsWith('pointAX')) {\n    editCoor.pointAPositionX = newValue;\n  } else if (name.startsWith('pointAY')) {\n    editCoor.pointAPositionY = newValue;\n  } else if (name.startsWith('pointBX')) {\n    editCoor.pointBPositionX = newValue;\n  } else if (name.startsWith('pointBY')) {\n    editCoor.pointBPositionY = newValue;\n  } else if (name.startsWith('colorCoordinateA')) {\n    editCoor.colorCoordinateA = newValue;\n  } else if (name.startsWith('colorCoordinateB')) {\n    editCoor.colorCoordinateB = newValue;\n  } else if (name.startsWith('refIdMainMetric')) {\n    editCoor.mainMetric.refId = newValue;\n  } else if (name.startsWith('keyMainMetric')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('keyValueMainMetric')) {\n    editCoor.mainMetric.keyValue = newValue;\n  } else if (name.startsWith('isIncurved')) {\n    editCoor.isIncurved = newValueSelect;\n  } else if (name.startsWith('pointCX')) {\n    editCoor.pointCPositionX = newValue;\n  } else if (name.startsWith('pointCY')) {\n    editCoor.pointCPositionY = newValue;\n  } else if (name.startsWith('pointIn')) {\n    editCoor.pointIn = newValue;\n  } else if (name.startsWith('pointOut')) {\n    editCoor.pointOut = newValue;\n  } else if (name.startsWith('regionIn')) {\n    editCoor.regionIn = newValue;\n  } else if (name.startsWith('regionOut')) {\n    editCoor.regionOut = newValue;\n  } else if (name.startsWith('size')) {\n    editCoor.size = newValue;\n  }\n  return editCoor;\n};\n","import { PointClass } from 'Models/PointClass';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameterPoint = (name: string, editCoor: PointClass, newValue: string, newValueSelect: SelectableValue<any>): PointClass => {\n  if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('drawGraphicMarker')) {\n    editCoor.drawGraphicMarker = newValueSelect;\n  } else if (name.startsWith('shape')) {\n    editCoor.shape = newValueSelect;\n  } else if (name.startsWith('sizeWidth')) {\n    editCoor.sizeWidth = newValue;\n  } else if (name.startsWith('sizeHeight')) {\n    editCoor.sizeHeight = newValueSelect;\n  } else if (name.startsWith('rotateArrow')) {\n    editCoor.rotateArrow = newValue;\n  } else if (name.startsWith('positionShapeX')) {\n    editCoor.positionShapeX = newValue;\n  } else if (name.startsWith('positionShapeY')) {\n    editCoor.positionShapeY = newValue;\n  } else if (name.startsWith('color')) {\n    editCoor.color = newValue;\n  } else if (name.startsWith('refIdMainMetric')) {\n    editCoor.mainMetric.refId = newValue;\n  } else if (name.startsWith('keyMainMetric')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('keyValueMainMetric')) {\n    editCoor.mainMetric.keyValue = newValue;\n  }\n  return editCoor;\n};\n","import React, { FunctionComponent } from 'react';\nimport { FormField, Button } from '@grafana/ui';\n\ntype InputButtonFieldProps = {\n  label: string;\n  value: string;\n  name: string;\n  required: boolean;\n  _handleChange: (event: any) => void;\n  id: string;\n  withLabel?: boolean;\n};\n\nconst InputButtonField: FunctionComponent<InputButtonFieldProps> = ({ label, value, name, required, _handleChange, id, withLabel }) => {\n  if (withLabel === true) {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={10}\n          inputWidth={20}\n          type=\"button\"\n          required={required}\n          name={name}\n          id={id}\n          onClick={_handleChange}\n          value={label || ''}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <Button onClick={_handleChange} variant=\"danger\" id={id} size=\"md\">\n          Delete\n        </Button>\n        {/* <FormField label={''}\n\t\t\t\t\t\t\t\tinputWidth={20}\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tonClick={_handleChange}\n\t\t\t\t\t\t\t\tvalue={label || ''} /> */}\n      </div>\n    );\n  }\n};\n\nexport default InputButtonField;\n","import React, { FunctionComponent } from 'react';\nimport { Select } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n};\n\nconst InputSelect: FunctionComponent<InputSelectProps> = ({ _onChange, data, defaultValue }) => (\n  <div>\n    <Select onChange={(value) => _onChange(value)} allowCustomValue={false} options={data} width={30} value={defaultValue} />\n  </div>\n);\n\nexport default InputSelect;\n","import React, { FunctionComponent } from 'react';\nimport { Select, FormLabel } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n  name: string;\n  index?: number;\n  label?: string;\n};\n\nconst InputSelectOrientedLink: FunctionComponent<InputSelectProps> = ({ _onChange, data, index, defaultValue, name, label }) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        marginBottom: '2px',\n      }}\n    >\n      <FormLabel width={15}>{label}</FormLabel>\n      <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n    </div>\n  );\n};\n\nexport default InputSelectOrientedLink;\n","import React, { FunctionComponent } from 'react';\nimport { Select, FormLabel } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n  index?: number;\n  name?: string;\n  shape?: string;\n  label?: string;\n};\n\nconst InputSelectPoint: FunctionComponent<InputSelectProps> = ({ _onChange, data, index, defaultValue, name, shape, label }) => {\n  if (name !== undefined) {\n    if (shape !== 'arrow' && name.startsWith('sizeHeight')) {\n      return <div></div>;\n    } else {\n      return (\n        <div\n          style={{\n            display: 'flex',\n            marginBottom: '2px',\n          }}\n        >\n          <FormLabel width={15}>{label}</FormLabel>\n          <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n        </div>\n      );\n    }\n  } else {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          marginBottom: '2px',\n        }}\n      >\n        <FormLabel width={15}>{label}</FormLabel>\n        <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n      </div>\n    );\n  }\n};\n\nexport default InputSelectPoint;\n","import { ColorPicker, FormLabel } from '@grafana/ui';\nimport React, { FunctionComponent } from 'react';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  color: string;\n  keyInt: number;\n  text: string;\n  _onChange: Function;\n  width?: number;\n};\n\n/**\n * 1.7 -> taille approximative d'un caractere\n * @param param0 voir InputTextFieldProps\n */\nexport const InputSeriesColorPicker: FunctionComponent<InputTextFieldProps> = ({ color, keyInt, text, _onChange, width }) => (\n  <div className=\"form-field\">\n    <FormLabel width={width ? width : 15}>{text}</FormLabel>\n    <div\n      id=\"colorPicker\"\n      style={{\n        margin: '0.5%',\n        padding: '0.5%',\n        paddingTop: '5px',\n        backgroundColor: '#1f1f20',\n        border: '3px solid black',\n      }}\n    >\n      <ColorPicker color={color} onChange={(newColor) => _onChange(keyInt, newColor)} />\n    </div>\n  </div>\n);\n\nexport default InputSeriesColorPicker;\n// width || Math.round(text.length * 1.7)\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\n// import { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  disabled?: boolean;\n  id?: string;\n};\n\nexport const InputTextField: FunctionComponent<InputTextFieldProps> = ({\n  label,\n  name,\n  placeholder,\n  required,\n  value,\n  _handleChange,\n  disabled,\n  id,\n}) => (\n  <div>\n    <FormField\n      id={id}\n      label={label}\n      labelWidth={15}\n      inputWidth={15}\n      type=\"text\"\n      required={required}\n      name={name}\n      value={value}\n      onChange={_handleChange}\n      placeholder={placeholder}\n      disabled={disabled ? disabled : false}\n    />\n  </div>\n);\n\nexport default InputTextField;\n\n// Math.round((label && label.length > 0 ? label.length : 1) * 1.7)\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  isIncurved: SelectableValue<boolean>;\n};\n\nexport const InputTextOrientedLink: FunctionComponent<InputTextFieldProps> = ({\n  label,\n  name,\n  placeholder,\n  required,\n  value,\n  _handleChange,\n  isIncurved,\n}) => {\n  if (name.startsWith('pointCX') || name.startsWith('pointCY')) {\n    if (isIncurved.value) {\n      return (\n        <div>\n          <FormField\n            label={label}\n            labelWidth={15}\n            inputWidth={20}\n            type=\"text\"\n            required={required}\n            name={name}\n            value={value}\n            onChange={_handleChange}\n            placeholder={placeholder}\n          />\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  } else {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={required}\n          name={name}\n          value={value}\n          onChange={_handleChange}\n          placeholder={placeholder}\n        />\n      </div>\n    );\n  }\n};\n\nexport default InputTextOrientedLink;\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\n// import { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  shape: string;\n};\n\nexport const InputTextPoint: FunctionComponent<InputTextFieldProps> = ({ label, name, placeholder, required, value, _handleChange, shape }) => {\n  if (name !== undefined) {\n    if (shape !== 'arrow' && name.startsWith('rotateArrow')) {\n      return <div></div>;\n    } else {\n      return (\n        <div>\n          <FormField\n            label={label}\n            labelWidth={15}\n            inputWidth={20}\n            type=\"text\"\n            required={required}\n            name={name}\n            value={value}\n            onChange={_handleChange}\n            placeholder={placeholder}\n          />\n        </div>\n      );\n    }\n  } else {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={required}\n          name={name}\n          value={value}\n          onChange={_handleChange}\n          placeholder={placeholder}\n        />\n      </div>\n    );\n  }\n};\n\nexport default InputTextPoint;\n","import { RegionClass } from '../Models/RegionClass';\nimport { PointClass } from '../Models/PointClass';\nimport { DataFrame } from '@grafana/data';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\nexport const reqMetricRegion = (region: RegionClass, props: any) => {\n  const data: DataFrame[] = [];\n\n  for (const line of props.data.series) {\n    if (line.refId === region.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  region.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxRegion = (region: RegionClass, props: any) => {\n  for (const metric of region.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricPoint = (point: PointClass, props: any) => {\n  const data: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === point.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  point.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxPoint = (point: PointClass, props: any) => {\n  for (const metric of point.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricLink = (link: OrientedLinkClass, props: any) => {\n  const data: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === link.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  link.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxLink = (link: OrientedLinkClass, props: any) => {\n  for (const metric of link.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricOrientedLink = (orientedLink: OrientedLinkClass, props: any) => {\n  const data: DataFrame[] = [];\n  const dataB: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === orientedLink.mainMetric.refId) {\n      data.push(line);\n    }\n    if (line.refId === orientedLink.mainMetricB.refId) {\n      dataB.push(line);\n    }\n  }\n  orientedLink.mainMetric.returnQuery = data;\n  orientedLink.mainMetricB.returnQuery = dataB;\n};\n\nexport const reqMetricAuxOrientedLink = (orientedLink: OrientedLinkClass, props: any) => {\n  for (const metric of orientedLink.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n  for (const metric of orientedLink.metricsB) {\n    const dataB: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        dataB.push(line);\n      }\n    }\n    metric.returnQuery = dataB;\n  }\n};\n\nexport const reqUpdateMetrics = (props: any) => {\n  // Update regions\n  for (const region of props.options.regionCoordinateSpace) {\n    reqMetricRegion(region, props);\n    reqMetricAuxRegion(region, props);\n  }\n  // Update links\n  for (const link of props.options.arrayLinks) {\n    reqMetricLink(link, props);\n    reqMetricAuxLink(link, props);\n  }\n\n  // Update links\n  for (const orientedLink of props.options.arrayOrientedLinks) {\n    reqMetricOrientedLink(orientedLink, props);\n    reqMetricAuxOrientedLink(orientedLink, props);\n  }\n  // Update points\n  for (const point of props.options.arrayPoints) {\n    reqMetricPoint(point, props);\n    reqMetricAuxPoint(point, props);\n  }\n};\n","import { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { RegionClass } from 'Models/RegionClass';\n\nexport interface LowerLimit {\n  /** color for background */\n  colorBack: string;\n  /** border color */\n  colorBorder: string;\n  /** size border */\n  sizeBorder: number;\n}\n\n/**\n * Get color with lower limit and prometheus value\n * @returns {LowerLimit} new color value\n */\nexport const getLowerLimit = (coordinate: RegionClass, value: number | null): LowerLimit => {\n  const lowerLimit: LowerLimitClass[] = coordinate.lowerLimit;\n  const result: LowerLimit = { colorBack: '', colorBorder: '', sizeBorder: 0 };\n\n  if (coordinate.colorMode && value) {\n    for (const line of lowerLimit) {\n      //const min: string = line.lowerLimitMin.replace('>', '');\n      const min = line.lowerLimitMin.split('')[0] === '>' ? line.lowerLimitMin.substr(1) : line.lowerLimitMin;\n      const minFloat: number = parseFloat(min);\n      const maxFloat: number = parseFloat(line.lowerLimitMax);\n      if ((minFloat <= value || !line.lowerLimitMin) && (maxFloat >= value || !line.lowerLimitMax)) {\n        if (lowerLimit.length > 0) {\n          result.colorBack = coordinate.traceBack ? line.backColor : '';\n          result.colorBorder = coordinate.traceBorder ? line.borderColor : '';\n          result.sizeBorder = coordinate.traceBorder ? parseInt(line.sizeBorder, 10) : 0;\n          break;\n        }\n      }\n    }\n  } else {\n    if (lowerLimit.length > 0) {\n      result.colorBack = coordinate.traceBack ? lowerLimit[0].backColor : '';\n      result.colorBorder = coordinate.traceBorder ? lowerLimit[0].borderColor : '';\n      result.sizeBorder = coordinate.traceBorder ? parseInt(lowerLimit[0].sizeBorder, 10) : 0;\n    }\n  }\n  return result;\n};\n","import { Metric } from 'types';\nimport { DataFrame } from '@grafana/data';\nimport { Filtred } from '../Functions/loaderGabarit';\n\n/** search is key and keyValue is in query */\nconst searchNameIsKey = (query: DataFrame, mainMetric: Metric): boolean => {\n  if (mainMetric.key === '' && mainMetric.keyValue === '') {\n    return true;\n  }\n  let remove = query.name?.split('{');\n  const nameQuery: string[] =\n    remove![1].split(',').flatMap((value) => {\n      return value.replace(/[\\\"{}]/gm, '');\n    }) || [];\n  if (nameQuery && nameQuery.length > 0) {\n    for (const oneQuery of nameQuery) {\n      const keyValue: string[] = oneQuery.split('=');\n      if (keyValue.length === 2) {\n        if (keyValue[0] === mainMetric.key && keyValue[1] === mainMetric.keyValue) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n};\n\nexport const searchNameIsFilter = (query: DataFrame, mainMetric: Metric): boolean => {\n  if (!mainMetric.filter) {\n    return true;\n  }\n  let res = 0;\n  const filters: Filtred[] = mainMetric.filter;\n  let remove = query.name?.split('{');\n  const nameQuery: string[] =\n    remove![1].split(',').map((value) => {\n      return value.replace(/[\\\"{}]/gm, '');\n    }) || [];\n  if (nameQuery && nameQuery.length > 0) {\n    for (const oneQuery of nameQuery) {\n      const keyValue: string[] = oneQuery.split('=');\n      for (const filter of filters) {\n        if (keyValue.length === 2) {\n          if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n            res++;\n          }\n        }\n      }\n    }\n    // console.log(res);\n    // console.log(filters.length)\n    if (res === filters.length) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const getResultQuery = (mainMetric: Metric) => {\n  let cnt: number | null = null;\n  if (mainMetric.returnQuery && mainMetric.returnQuery.length > 0) {\n    const debug: number[] = [];\n    let countValue = 0;\n\n    cnt = 0;\n    if (!mainMetric.filter) {\n      for (const line of mainMetric.returnQuery) {\n        const result = searchNameIsKey(line, mainMetric);\n        if (result) {\n          const sizeQuery: number = line.fields[0].values.length;\n          // in grafana 7 change line.field[0] to line.field[1]\n          for (let i = 0; i < sizeQuery; i++) {\n            if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n              cnt += line.fields[0].values.get(i);\n              debug.push(line.fields[0].values.get(i));\n              ++countValue;\n            }\n          }\n        }\n      }\n      if (mainMetric.manageValue === 'avg') {\n        cnt /= countValue;\n      } else if (mainMetric.manageValue === 'err') {\n        if (countValue > 1) {\n          cnt = null;\n        }\n      }\n    } else {\n      for (const line of mainMetric.returnQuery) {\n        const result = searchNameIsFilter(line, mainMetric);\n        if (result) {\n          const sizeQuery: number = line.fields[0].values.length;\n          // in grafana 7 change line.field[0] to line.field[1]\n          for (let i = 0; i < sizeQuery; i++) {\n            if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n              cnt += line.fields[0].values.get(i);\n              debug.push(line.fields[0].values.get(i));\n              ++countValue;\n            }\n          }\n        }\n      }\n      if (mainMetric.manageValue === 'avg') {\n        cnt /= countValue;\n      } else if (mainMetric.manageValue === 'err') {\n        if (countValue > 1) {\n          cnt = null;\n        }\n      }\n    }\n  }\n\n  return cnt;\n};\n/*********************************** the best solution it's check the instant checbox in addquery */\n\n/*****************************Other solution but there are a problem with average of node_network_up */\n\n// export const getResultQuery = (mainMetric: Metric) => {\n//   let cnt: number | null = null;\n//   console.log(mainMetric.returnQuery);\n//   if (mainMetric.returnQuery && mainMetric.returnQuery.length > 0) {\n//     const debug: number[] = [];\n//     let countValue = 0;\n\n//     cnt = 0;\n//     for (const line of mainMetric.returnQuery) {\n//       const result = searchNameIsKey(line, mainMetric);\n//       if (result) {\n//         const sizeQuery: number = line.fields[0].values.length;\n//         // in grafana 7 change line.field[0] to line.field[1]\n//         for (let i = 0; i < sizeQuery; i++) {\n//           if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n//             cnt += line.fields[0].values.get(i);\n//             debug.push(line.fields[0].values.get(i));\n//             ++countValue;\n//           }\n//           if (countValue > -1 && mainMetric.manageValue === 'sum') {\n//             break;\n//           }\n//         }\n//       }\n//     }\n//     if (mainMetric.manageValue === 'avg') {\n//       cnt /= countValue;\n//     } else if (mainMetric.manageValue === 'err') {\n//       if (countValue > -1) {\n//         cnt = null;\n//       }\n//     }\n//     console.log(debug);\n//   }\n\n//   return cnt;\n// };\n","import { TextObject } from '../Models/TextObjectClass';\nimport { LinkURLClass } from '../Models/LinkURLClass';\nimport { PositionParameterClass } from '../Models/PositionParameterClass';\nimport { Metric } from '../types';\nimport { OrientedLinkClass } from '../Models/OrientedLinkClass';\n\nexport const initOrientedLink = (newId: number, newZIndex: number): OrientedLinkClass => {\n  const num: number = newId;\n  const zIndex: number = newZIndex;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'white',\n    'black',\n    { bold: false, italic: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: true,\n      colorTextElement: 'white',\n      addColorBackElement: true,\n      colorBackElement: 'black',\n    }\n  );\n\n  const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n  const initPositionParameter: PositionParameterClass = new PositionParameterClass(\n    '0',\n    '0',\n    '0',\n    '0',\n    {\n      label: 'Right',\n      value: 'Right',\n    },\n    {\n      label: 'Right',\n      value: 'Right',\n    }\n  );\n  const initMainMetrics: Metric = { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' };\n  const initMainMetricsB: Metric = { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' };\n  const newCoordinate: OrientedLinkClass = new OrientedLinkClass(\n    num,\n    linkUrl,\n    [],\n    [],\n    '',\n    initTextObject,\n    // {\n    // \t'key': keyMainMetric || '',\n    // \t'unit': '',\n    // \t'format': '',\n    // \t'keyValue': keyValueMainMetric || '',\n    // \t'refId': refIdMainMetric || '',\n    // \t'manageValue': 'avg',\n    // }\n    initMainMetrics,\n    [],\n    false,\n    false,\n    false,\n    initPositionParameter,\n    'orientedLink' + num.toString(),\n    { label: 'Monodirectional', value: 'AB' },\n    '9',\n    '0',\n    '0',\n    '#5794F2',\n    '0',\n    '0',\n    '#E54658',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    zIndex,\n    '',\n    '',\n    {},\n    initMainMetricsB,\n    [],\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0'\n  );\n  return newCoordinate;\n};\n\nexport const cloneOrientedLink = (orientedLink: OrientedLinkClass): OrientedLinkClass => {\n  const initTextObject: TextObject = new TextObject(\n    //orientedLink.textObj.legend,\n    orientedLink.textObj.value,\n    orientedLink.textObj.isTextTooltip,\n    orientedLink.textObj.colorBack,\n    orientedLink.textObj.colorText,\n    orientedLink.textObj.style,\n    orientedLink.textObj.generateObjectText,\n    orientedLink.textObj.valueGenerateObjectText,\n    orientedLink.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(\n    orientedLink.linkURL.followLink,\n    orientedLink.linkURL.hoveringTooltipLink,\n    orientedLink.linkURL.hoveringTooltipText\n  );\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    orientedLink.positionParameter.labelAPositionX,\n    orientedLink.positionParameter.labelAPositionY,\n    orientedLink.positionParameter.labelBPositionX,\n    orientedLink.positionParameter.labelBPositionY,\n    orientedLink.positionParameter.tooltipPositionA,\n    orientedLink.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: orientedLink.mainMetric.key,\n    unit: orientedLink.mainMetric.unit,\n    format: orientedLink.mainMetric.format,\n    keyValue: orientedLink.mainMetric.keyValue,\n    refId: orientedLink.mainMetric.refId,\n    expr: orientedLink.mainMetric.expr,\n    returnQuery: orientedLink.mainMetric.returnQuery,\n    manageValue: orientedLink.mainMetric.manageValue,\n  };\n  const newCoordinate: OrientedLinkClass = new OrientedLinkClass(\n    orientedLink.id,\n    linkURL,\n    orientedLink.meta,\n    orientedLink.lowerLimit,\n    orientedLink.label,\n    initTextObject,\n    mainMetric,\n    orientedLink.metrics,\n    orientedLink.colorMode,\n    orientedLink.traceBack,\n    orientedLink.traceBorder,\n    positionParameter,\n    orientedLink.name,\n    orientedLink.orientationLink,\n    orientedLink.size,\n    orientedLink.pointAPositionX,\n    orientedLink.pointAPositionY,\n    orientedLink.colorCoordinateA,\n    orientedLink.pointBPositionX,\n    orientedLink.pointBPositionY,\n    orientedLink.colorCoordinateB,\n    orientedLink.valueMainMetricA,\n    orientedLink.valueMainMetricB,\n    orientedLink.pointIn,\n    orientedLink.pointOut,\n    orientedLink.regionIn,\n    orientedLink.regionOut,\n    orientedLink.zIndex,\n    orientedLink.pointCPositionX,\n    orientedLink.pointCPositionY,\n    orientedLink.isIncurved,\n    orientedLink.mainMetricB,\n    orientedLink.metricsB,\n    orientedLink.widthInitialSpaceDefault,\n    orientedLink.heightInitialSpaceDefault,\n    orientedLink.pointAPositionXDefault,\n    orientedLink.pointAPositionYDefault,\n    orientedLink.pointBPositionXDefault,\n    orientedLink.pointBPositionYDefault,\n    orientedLink.pointCPositionXDefault,\n    orientedLink.pointCPositionYDefault\n  );\n  return newCoordinate;\n};\n","import { TextObject } from '../Models/TextObjectClass';\nimport { LinkURLClass } from '../Models/LinkURLClass';\nimport { PositionParameterClass } from '../Models/PositionParameterClass';\nimport { Metric } from '../types';\nimport { PointClass } from '../Models/PointClass';\n//rgba(255, 255, 255, 0)\nexport const initPoint = (index: number): PointClass => {\n  const newId: number = index;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'white',\n    'black',\n    { italic: false, bold: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: true,\n      colorTextElement: '',\n      addColorBackElement: true,\n      colorBackElement: 'black',\n    }\n  );\n  const linkURL: LinkURLClass = new LinkURLClass('', '', '');\n\n  const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n  const newCoordinate: PointClass = new PointClass(\n    newId,\n    linkURL,\n    [],\n    [],\n    '',\n    initTextObject,\n    { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n    [],\n    false,\n    false,\n    false,\n    positionParameter,\n    'point' + newId.toString(),\n    '',\n    { label: 'Yes', value: 'true' },\n    { label: 'Circle', value: 'circle' },\n    '12',\n    { label: 'Medium', value: 'medium' },\n    '0',\n    '0',\n    '0',\n    'black',\n    [],\n    [],\n    '0',\n    '0',\n    '0',\n    '0'\n  );\n  return newCoordinate;\n};\n\nexport const clonePoint = (\n  point: PointClass,\n  xMinInitialSpace: number,\n  xMaxInitialSpace: number,\n  widthBackground: number,\n  yMinInitialSpace: number,\n  yMaxInitialSpace: number,\n  heightBackground: number\n): PointClass => {\n  const initTextObject: TextObject = new TextObject(\n    // point.textObj.legend,\n    point.textObj.value,\n    point.textObj.isTextTooltip,\n    point.textObj.colorBack,\n    point.textObj.colorText,\n    point.textObj.style,\n    point.textObj.generateObjectText,\n    point.textObj.valueGenerateObjectText,\n    point.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(point.linkURL.followLink, point.linkURL.hoveringTooltipLink, point.linkURL.hoveringTooltipText);\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    point.positionParameter.labelAPositionX,\n    point.positionParameter.labelAPositionY,\n    point.positionParameter.labelBPositionX,\n    point.positionParameter.labelBPositionY,\n    point.positionParameter.tooltipPositionA,\n    point.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: point.mainMetric.key,\n    unit: point.mainMetric.unit,\n    format: point.mainMetric.format,\n    keyValue: point.mainMetric.keyValue,\n    filter: point.mainMetric.filter,\n    refId: point.mainMetric.refId,\n    expr: point.mainMetric.expr,\n    returnQuery: point.mainMetric.returnQuery,\n    manageValue: point.mainMetric.manageValue,\n  };\n\n  const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n  const positionXDefault = (((parseInt(point.positionShapeX, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n\n  const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n  const positionYDefault = (((parseInt(point.positionShapeY, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n\n  const newCoordinate: PointClass = new PointClass(\n    point.id,\n    linkURL,\n    point.meta,\n    point.lowerLimit,\n    point.label,\n    initTextObject,\n    mainMetric,\n    point.metrics,\n    point.colorMode,\n    point.traceBack,\n    point.traceBorder,\n    positionParameter,\n    point.name,\n    point.valueMetric,\n    point.drawGraphicMarker,\n    point.shape,\n    point.sizeWidth,\n    point.sizeHeight,\n    point.rotateArrow,\n    point.positionShapeX,\n    point.positionShapeY,\n    point.color,\n    point.associateOrientedLinksIn,\n    point.associateOrientedLinksOut,\n    point.widthInitialSpaceDefault,\n    point.heightInitialSpaceDefault,\n    positionXDefault,\n    positionYDefault\n  );\n  return newCoordinate;\n};\n","import { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { Metric } from 'types';\n\n/** init CoordinateSpaceExtendClass */\nexport const initRegionCoordinateSpace = (index: number): RegionClass => {\n  const newId: number = index + 1;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'rgb(255, 255, 255, 0)',\n    'black',\n    { bold: false, italic: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    }\n  );\n  const linkURL: LinkURLClass = new LinkURLClass('', '', '');\n  const coords: Coord4D = {\n    xMin: '0',\n    xMax: '0',\n    yMin: '0',\n    yMax: '0',\n  };\n  const coordsDefault: Coord4D = {\n    xMin: '0',\n    xMax: '0',\n    yMin: '0',\n    yMax: '0',\n  };\n  const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n  const newCoordinate: RegionClass = new RegionClass(\n    newId,\n    linkURL,\n    [],\n    [],\n    '',\n    initTextObject,\n    { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n    [],\n    false,\n    false,\n    false,\n    positionParameter,\n    '',\n    [],\n    coords,\n    coordsDefault,\n    true,\n    '',\n    '',\n    ''\n  );\n  return newCoordinate;\n};\n\nexport const cloneRegionCoordinateSpace = (\n  region: RegionClass,\n  xMinInitialSpace: number,\n  xMaxInitialSpace: number,\n  widthBackground: number,\n  yMinInitialSpace: number,\n  yMaxInitialSpace: number,\n  heightBackground: number\n): RegionClass => {\n  const initTextObject: TextObject = new TextObject(\n    // region.textObj.legend,\n    region.textObj.value,\n    region.textObj.isTextTooltip,\n    region.textObj.colorBack,\n    region.textObj.colorText,\n    region.textObj.style,\n    region.textObj.generateObjectText,\n    region.textObj.valueGenerateObjectText,\n    region.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(region.linkURL.followLink, region.linkURL.hoveringTooltipLink, region.linkURL.hoveringTooltipText);\n  const coords: Coord4D = {\n    xMin: region.coords.xMin,\n    xMax: region.coords.xMax,\n    yMin: region.coords.yMin,\n    yMax: region.coords.yMax,\n  };\n  const coordsDefault: Coord4D = {\n    xMin: region.coordsDefault.xMin,\n    xMax: region.coordsDefault.xMax,\n    yMin: region.coordsDefault.yMin,\n    yMax: region.coordsDefault.yMax,\n  };\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    region.positionParameter.labelAPositionX,\n    region.positionParameter.labelAPositionY,\n    region.positionParameter.labelBPositionX,\n    region.positionParameter.labelBPositionY,\n    region.positionParameter.tooltipPositionA,\n    region.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: region.mainMetric.key,\n    unit: region.mainMetric.unit,\n    format: region.mainMetric.format,\n    keyValue: region.mainMetric.keyValue,\n    refId: region.mainMetric.refId,\n    expr: region.mainMetric.expr,\n    returnQuery: region.mainMetric.returnQuery,\n    manageValue: region.mainMetric.manageValue,\n  };\n\n  // const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n  // const xMinDefault = (((parseInt(region.coordsDefault.xMin, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n  // const xMaxDefault = (((parseInt(region.coordsDefault.xMax, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n\n  // const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n  // const yMinDefault = (((parseInt(region.coordsDefault.yMin, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n  // const yMaxDefault = (((parseInt(region.coordsDefault.yMax, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n\n  // const coordsDefault: Coord4D = {\n  //   xMin: xMinDefault,\n  //   xMax: xMaxDefault,\n  //   yMin: yMinDefault,\n  //   yMax: yMaxDefault,\n  // };\n\n  const newCoordinate: RegionClass = new RegionClass(\n    region.id,\n    linkURL,\n    region.meta,\n    region.lowerLimit,\n    region.label,\n    initTextObject,\n    mainMetric,\n    region.metrics,\n    region.colorMode,\n    region.traceBack,\n    region.traceBorder,\n    positionParameter,\n    region.idSVG,\n    region.orientedLink,\n    coords,\n    coordsDefault,\n    region.mode,\n    region.img,\n    region.widthInitialSpaceDefault,\n    region.heightInitialSpaceDefault\n  );\n  return newCoordinate;\n};\n","export const isNumFloat = (value: string): number => {\n  if (String(value).match(/^-{0,1}\\d+$/) || String(value).match(/^\\d+\\.\\d+$/)) {\n    return 1;\n  }\n  return 0;\n};\n","//import { SimpleOptions, GlobalGabarit, GabaritFile, TemplateGabaritLink, TemplateGabaritPoint, TemplateGabaritRegion } from '../types';\n//import { Button } from '@grafana/ui';\n\nimport { Coord4D } from 'Models/RegionClass';\n\n// import { PointClass } from '../Models/PointClass';\n// import { RegionClass, Coord4D } from '../Models/RegionClass';\n// import { OrientedLinkClass } from '../Models/OrientedLinkClass';\n\nexport interface LabelCoord2D {\n  x: string;\n  y: string;\n}\n\nexport const coordParse = (coord: string) => {\n  let tmp: string[] = coord.split('#');\n  let result: LabelCoord2D = { x: '', y: '' };\n  result.x = tmp[0].split('|')[1];\n  result.y = tmp[1].split('|')[1];\n  return result;\n};\n\n// Coord Region\nexport const coordParseRegion = (coord: string) => {\n  let tt: string[] = coord.split('#');\n  let result: Coord4D = { xMin: '', xMax: '', yMin: '', yMax: '' };\n  result.xMin = tt[0].split('|')[1];\n  result.xMax = tt[1].split('|')[1];\n  result.yMin = tt[2].split('|')[1];\n  result.yMax = tt[3].split('|')[1];\n  return result;\n};\n\nexport interface Filtred {\n  label: string;\n  value: string;\n}\n\n// FilterParse Region\n\nexport const filterParseRegion = (filter: string) => {\n  let tt: string[] = filter.split('#');\n  let result: Filtred[] = [];\n  tt.forEach((element) => {\n    let split: string[] = element.split('|');\n    result.push({ label: split[0], value: split[1] });\n  });\n  return result;\n};\n\nexport const filterParse = (filter: string) => {\n  if (filter.length > 0) {\n    let tmp: string[] = filter.split('#');\n    let result: Filtred[] = [];\n    tmp.forEach((element) => {\n      let split: string[] = element.split('|');\n      result.push({ label: split[0], value: split[1] });\n    });\n    return result;\n  }\n  return [];\n};\n","/** parse color for svg */\nexport interface Color {\n  /** base color */\n  color: string;\n  /** transparency level */\n  transparency: string;\n}\n\nexport const parseColor = (color: string): Color => {\n  let colorEdit: string = color;\n  let transparency = '';\n  if (color.indexOf('#') > -1) {\n    colorEdit = color.replace('rgba', 'rgb');\n    if (colorEdit.indexOf(',') > -1) {\n      const arrayColor: string[] = colorEdit.split(',');\n      colorEdit = arrayColor[0] + ',' + arrayColor[1] + ',' + arrayColor[2] + ')';\n      if (arrayColor.length > 3) {\n        transparency = arrayColor[3].replace(')', '');\n      }\n    }\n  }\n  return { color: colorEdit, transparency: transparency };\n};\n","import { Background } from 'types';\n\nimport { Coord4D } from 'Models/RegionClass';\n\nexport interface Coor4DNum {\n  xMin: number;\n  xMax: number;\n  yMin: number;\n  yMax: number;\n}\n\n/** verif limit for one coordinate */\n// const verifAllLimit = (n: number, limit: number[], isWith: boolean) => {\n//   //console.log(n);\n//   if (isWith) {\n//     if (limit[0] <= n && limit[1] >= n) {\n//       return true;\n//     }\n//   } else {\n//     if (limit[2] <= n && limit[3] >= n) {\n//       return true;\n//     }\n//   }\n//   return false;\n// };\n\n// /** search all coordinate if attribute is d */\n// const searchOtherLimitDAttribute = (data: string, limit: number[]): boolean => {\n//   const parseWithLetter = [];\n//   const regex = /[a-zA-Z]{1}[0-9.\\W]*/g;\n//   let tmp;\n\n//   do {\n//     tmp = regex.exec(data);\n//     if (tmp) {\n//       parseWithLetter.push(tmp.toString());\n//     }\n//   } while (tmp);\n//   //console.log(parseWithLetter);\n//   for (const line of parseWithLetter) {\n//     const tmpBis: string[] = line.split(' ');\n//     //const tmpTest: string[] = line.split(/,| /);\n\n//     let index = 0;\n//     // console.log(tmpBis);\n//     //console.log(tmpTest);\n//     // console.log(limit);\n//     for (const lineTmp of tmpBis) {\n//       if (lineTmp === '') {\n//         break;\n//       }\n//       if (index !== 0 && index % 2 !== 0) {\n//         if (!verifAllLimit(parseInt(lineTmp, 10), limit, true)) {\n//           //console.log('no');\n//           return true;\n//         }\n//       } else if (index !== 0) {\n//         if (!verifAllLimit(parseInt(lineTmp, 10), limit, false)) {\n//           //console.log('no');\n//           return true;\n//         }\n//       }\n//       ++index;\n//     }\n//   }\n//   //console.log('ok');\n//   return false;\n// };\n\n/** search if x and y are in limit */\n// const searchOtherLimitXYAttribute = (element: HTMLElement, limit: number[], labelX: string, labelY: string): boolean => {\n//   //console.log(element);\n//   const x: number = parseInt(element.getAttribute(labelX) || '0', 10);\n//   const y: number = parseInt(element.getAttribute(labelY) || '0', 10);\n\n//   if (x !== null && y !== null) {\n//     if (verifAllLimit(x, limit, true) && verifAllLimit(y, limit, false)) {\n//       return false;\n//     }\n//   }\n//   return true;\n// };\n\n/** search if x1|2 and y1|2 are in limit */\n// const searchOtherLimitXnYnAttribute = (element: HTMLElement, limit: number[]): boolean => {\n//   const x1: number = parseInt(element.getAttribute('x1') || '0', 10);\n//   const x2: number = parseInt(element.getAttribute('x2') || '0', 10);\n//   const y1: number = parseInt(element.getAttribute('y1') || '0', 10);\n//   const y2: number = parseInt(element.getAttribute('y2') || '0', 10);\n//   if (x1 && x2 && y1 && y2) {\n//     if (verifAllLimit(x1, limit, true) && verifAllLimit(x2, limit, true) && verifAllLimit(y1, limit, false) && verifAllLimit(y2, limit, false)) {\n//       return false;\n//     }\n//   }\n//   return true;\n// };\n\n// /** search if region id svg is in limit */\n// const regionIsOverLimit = (element: HTMLElement | null, limit: number[]): boolean => {\n//   //console.log(element);\n//   if (!element) {\n//     //console.log('1');\n//     return true;\n//   }\n//   let attribute: string | null = element.getAttribute('d');\n//   //console.log(attribute);\n//   if (attribute) {\n//     //console.log('2');\n//     return searchOtherLimitDAttribute(attribute, limit);\n//   }\n//   attribute = element.getAttribute('x');\n//   //console.log(attribute);\n//   if (attribute) {\n//     //console.log('3');\n//     return searchOtherLimitXYAttribute(element, limit, 'x', 'y');\n//   }\n//   attribute = element.getAttribute('x1');\n//   if (attribute) {\n//     //console.log('4');\n//     return searchOtherLimitXnYnAttribute(element, limit);\n//   }\n//   attribute = element.getAttribute('cx');\n//   if (attribute) {\n//     //console.log('5');\n//     return searchOtherLimitXYAttribute(element, limit, 'cx', 'cy');\n//   }\n//   return true;\n// };\n\n/** convert initial percent coordinate from -100 -> 100 to 0 -> 100 */\nconst convertInitialCoordinate = (n: number) => {\n  const midPercent = 50;\n\n  n = n >= 0 ? (n / 2 || 0) + midPercent : -n / 2 - midPercent;\n  return n;\n};\n\nexport const pixelToPercent = (coordinate: Coord4D, baseMap: Background): Coor4DNum => {\n  const limit: number[] = [\n    parseInt(coordinate.xMin, 10),\n    parseInt(coordinate.xMax, 10),\n    parseInt(coordinate.yMin, 10),\n    parseInt(coordinate.yMax, 10),\n  ];\n\n  limit[0] = convertInitialCoordinate(limit[0]);\n  limit[1] = convertInitialCoordinate(limit[1]);\n  limit[2] = convertInitialCoordinate(limit[2]);\n  limit[3] = convertInitialCoordinate(limit[3]);\n\n  const sizeHeight: number = parseInt(baseMap.height, 10);\n  const sizeWidth: number = parseInt(baseMap.width, 10);\n  const percent = 100;\n\n  limit[0] = limit[0] / percent || 0;\n  limit[0] = sizeWidth * limit[0];\n  limit[1] = limit[1] / percent || 0;\n  limit[1] = sizeWidth * limit[1];\n  limit[2] = limit[2] / percent || 0;\n  limit[2] = sizeHeight * limit[2];\n  limit[3] = limit[3] / percent || 0;\n  limit[3] = sizeHeight * limit[3];\n  return {\n    xMin: limit[0],\n    xMax: limit[1],\n    yMin: limit[2],\n    yMax: limit[3],\n  };\n};\n\n/** return all id list in principal id */\nexport const returnAllId = (coordinate: Coord4D, baseMap: Background): string[] => {\n  const arrId: string[] = [];\n  const arrIdVerif: string[] = [];\n  const listElement: NodeListOf<Element> | undefined = document.getElementById(baseMap.idSVG)?.querySelectorAll('*[id]');\n  //console.log(listElement);\n  // const filtered = [listElement].filter();\n  //     function(e) {\n  //       return\n  //     },\n  //     [octpath,octrect,octellipse]\n  // );\n\n  //console.log(listElement);\n\n  if (listElement) {\n    // const limit: number[] = [\n    //   parseInt(coordinate.xMin, 10),\n    //   parseInt(coordinate.xMax, 10),\n    //   parseInt(coordinate.yMin, 10),\n    //   parseInt(coordinate.yMax, 10),\n    // ];\n\n    // limit[0] = convertInitialCoordinate(limit[0]);\n    // limit[1] = convertInitialCoordinate(limit[1]);\n    // limit[2] = convertInitialCoordinate(limit[2]);\n    // limit[3] = convertInitialCoordinate(limit[3]);\n\n    // const sizeHeight: number = parseInt(baseMap.height, 10);\n    // const sizeWidth: number = parseInt(baseMap.width, 10);\n    // const percent = 100;\n\n    // limit[0] = limit[0] / percent || 0;\n    // limit[0] = sizeWidth * limit[0];\n    // limit[1] = limit[1] / percent || 0;\n    // limit[1] = sizeWidth * limit[1];\n    // limit[2] = limit[2] / percent || 0;\n    // limit[2] = sizeHeight * limit[2];\n    // limit[3] = limit[3] / percent || 0;\n    // limit[3] = sizeHeight * limit[3];\n    // const coordInt = pixelToPercent(coordinate, baseMap);\n    // const limit: number[] = [coordInt.xMin, coordInt.xMax, coordInt.yMin, coordInt.yMax];\n    Array.from(listElement).forEach((e: Element) => {\n      //console.log(e);\n      // if (!regionIsOverLimit(document.getElementById(e.id), limit)) {\n      //   //console.log('is pushed');\n      //   arrId.push(e.id);\n      // }\n      if (e.localName === 'path' || e.localName === 'rect' || e.localName === 'ellipse') {\n        arrId.push(e.id);\n      }\n      arrIdVerif.push(e.id);\n    });\n    //console.log(arrId.length);\n    arrId.sort((a: string, b: string) => {\n      if (a < b) {\n        return -1;\n      }\n      if (a > b) {\n        return 1;\n      }\n      return 0;\n    });\n  } else {\n    console.error('id svg not found');\n  }\n  return arrId;\n};\n","import { InputClass } from './InputClass';\n\n/**\n * class ArayInput\n * @param id number\n * @param uneClassInput InputClass[]\n */\nexport class ArrayInputClass {\n  /**\n   * id\n   */\n  id: number;\n  /**\n   * array class InputClass\n   */\n  uneClassInput: InputClass[];\n\n  constructor(id: number, uneClassInput: InputClass[]) {\n    this.id = id;\n    this.uneClassInput = uneClassInput;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: number) {\n    this.id = id;\n  }\n\n  /**\n   * get value of InputClass[]\n   */\n  getUneClassInput() {\n    return this.uneClassInput;\n  }\n\n  /**\n   * set a new InputClass[]\n   * @param uneClassInput new object InputClass[]\n   */\n  setUneClassInput(uneClassInput: InputClass[]) {\n    this.uneClassInput = uneClassInput;\n  }\n}\n","import { InputSelectableClass } from './InputSelectableClass';\n\n/**\n * class ArayInput\n * @param id number\n * @param uneClassInput InputClass[]\n */\nexport class ArrayInputSelectableClass {\n  /**\n   * id\n   */\n  id: number;\n  /**\n   * array class InputClass\n   */\n  uneClassInput: InputSelectableClass[];\n\n  constructor(id: number, uneClassInput: InputSelectableClass[]) {\n    this.id = id;\n    this.uneClassInput = uneClassInput;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: number) {\n    this.id = id;\n  }\n\n  /**\n   * get value of InputClass[]\n   */\n  getUneClassInput() {\n    return this.uneClassInput;\n  }\n\n  /**\n   * set a new InputClass[]\n   * @param uneClassInput new object InputClass[]\n   */\n  setUneClassInput(uneClassInput: InputSelectableClass[]) {\n    this.uneClassInput = uneClassInput;\n  }\n}\n","import { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\n\nexport class CoordinateSpaceClass {\n  /** coordinate id */\n  id: number;\n  /** query */\n  linkURL: LinkURLClass;\n  meta: Metadata[];\n  lowerLimit: LowerLimitClass[];\n  label: string;\n  textObj: TextObject;\n  mainMetric: Metric;\n  metrics: Metric[];\n  colorMode: boolean;\n  traceBack: boolean;\n  traceBorder: boolean;\n  positionParameter: PositionParameterClass;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimit: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass\n  ) {\n    this.id = id;\n    this.linkURL = linkURL;\n    this.meta = meta;\n    this.lowerLimit = lowerLimit;\n    this.label = label;\n    this.textObj = textObj;\n    this.mainMetric = mainMetric;\n    this.metrics = metrics;\n    this.colorMode = colorMode;\n    this.traceBack = traceBack;\n    this.traceBorder = traceBorder;\n    this.positionParameter = positionParameter;\n  }\n}\n","/**\n * class InputClass\n * @param id string\n * @param label string\n * @param name string\n * @param inputType string\n * @param required boolean\n * @param placeholder string?\n * @param value string?\n */\nexport class InputClass {\n  /**\n   * identiofiant unique\n   */\n  id: string;\n  /**\n   * label de l'input\n   */\n  label: string;\n  /**\n   * le nom de l'imput\n   */\n  name: string;\n  /**\n   * le type de l'input (button, text)\n   */\n  inputType: string;\n  /**\n   * obligatoire\n   */\n  required: boolean;\n  /**\n   * texte a afficher\n   */\n  placeholder?: string;\n  /**\n   * la value de l'input\n   */\n  value?: string;\n\n  constructor(id: string, label: string, name: string, inputType: string, required: boolean, placeholder?: string, value?: string) {\n    this.id = id;\n    this.label = label;\n    this.name = name;\n    this.inputType = inputType;\n    this.required = required;\n    this.placeholder = placeholder;\n    this.value = value;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: string) {\n    this.id = id;\n  }\n\n  /**\n   * get label\n   */\n  getLabel(): string {\n    return this.label;\n  }\n\n  /**\n   * set label\n   * @param label new label\n   */\n  setLabel(label: string) {\n    this.label = label;\n  }\n\n  /**\n   * get name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * set name\n   * @param name new name\n   */\n  setName(name: string) {\n    this.name = name;\n  }\n\n  /**\n   * get type input\n   */\n  getInputType() {\n    return this.inputType;\n  }\n\n  /**\n   * set type input\n   * @param inputType new input type\n   */\n  setInputType(inputType: string) {\n    this.inputType = inputType;\n  }\n\n  /**\n   * get required\n   */\n  getRequired() {\n    return this.required;\n  }\n\n  /**\n   * set required\n   * @param required new value required\n   */\n  setRequired(required: boolean) {\n    this.required = required;\n  }\n\n  /**\n   * get placeholder\n   */\n  getPlaceholder() {\n    return this.placeholder;\n  }\n\n  /**\n   * set placeholder\n   * @param placeholder new value placeholder\n   */\n  setPlaceholder(placeholder: string) {\n    this.placeholder = placeholder;\n  }\n\n  /**\n   * get value\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * set value\n   * @param value new value\n   */\n  setValue(value: string) {\n    this.value = value;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\n/**\n * class InputClass\n */\nexport class InputSelectableClass {\n  id: string;\n  label: string;\n  name: string;\n  input_type: string;\n  required: boolean;\n  optionValues: Array<SelectableValue<any>>;\n  defaultValueColor: string;\n  placeholder?: string;\n  value?: string;\n\n  constructor(\n    id: string,\n    label: string,\n    name: string,\n    input_type: string,\n    optionValues: Array<SelectableValue<any>>,\n    defaultValueColor: string,\n    required: boolean,\n    placeholder?: string,\n    value?: string\n  ) {\n    this.id = id;\n    this.label = label;\n    this.name = name;\n    this.input_type = input_type;\n    this.optionValues = optionValues;\n    this.defaultValueColor = defaultValueColor;\n    this.required = required;\n    this.placeholder = placeholder;\n    this.value = value;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  setId(id: string) {\n    this.id = id;\n  }\n\n  getLabel(): string {\n    return this.label;\n  }\n\n  setLabel(label: string) {\n    this.label = label;\n  }\n\n  getName() {\n    return this.name;\n  }\n\n  setName(name: string) {\n    this.name = name;\n  }\n\n  getInputType() {\n    return this.input_type;\n  }\n\n  setInputType(input_type: string) {\n    this.input_type = input_type;\n  }\n\n  getRequired() {\n    return this.required;\n  }\n\n  setRequired(required: boolean) {\n    this.required = required;\n  }\n\n  getPlaceholder() {\n    return this.placeholder;\n  }\n\n  setPlaceholder(placeholder: string) {\n    this.placeholder = placeholder;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(value: string) {\n    this.value = value;\n  }\n\n  getOptionValues() {\n    return this.optionValues;\n  }\n\n  setOptionValues(optionValues: Array<SelectableValue<any>>) {\n    this.optionValues = optionValues;\n  }\n\n  getDefaultValueColor() {\n    return this.defaultValueColor;\n  }\n\n  setDefaultValueColor(defaultValueColor: string) {\n    this.defaultValueColor = defaultValueColor;\n  }\n}\n","/**\n * class for parametrage metric\n */\nexport class LinkURLClass {\n  /**\n   * link to follow when click data in dashboard\n   */\n  followLink: string;\n  /**\n   * link for tooltip\n   */\n  hoveringTooltipLink: string;\n  /**\n   * text for tooltip\n   */\n  hoveringTooltipText: string;\n\n  constructor(followLink: string, hoveringTooltipLink: string, hoveringTooltipText: string) {\n    this.followLink = followLink;\n    this.hoveringTooltipLink = hoveringTooltipLink;\n    this.hoveringTooltipText = hoveringTooltipText;\n  }\n\n  /**\n   * get followingLink\n   */\n  get getFollowLink(): string {\n    return this.followLink;\n  }\n\n  /**\n   * set followingLink\n   * @param {string} value new value\n   */\n  set setFollowLink(value: string) {\n    this.followLink = value;\n  }\n\n  /**\n   * get hoveringTooltipLink\n   */\n  get getHoveringTooltipLink(): string {\n    return this.hoveringTooltipLink;\n  }\n\n  /**\n   * setHoveringTooltipLink\n   * @param {string} value new value\n   */\n  set setHoveringTooltipLink(value: string) {\n    this.hoveringTooltipLink = value;\n  }\n\n  /**\n   * get hoveringTooltipText\n   */\n  get getHoveringTooltipText(): string {\n    return this.hoveringTooltipText;\n  }\n\n  /**\n   * set hoveringTooltipText\n   * @param {string} value new Value\n   */\n  set setHoveringTooltipText(value: string) {\n    this.hoveringTooltipText = value;\n  }\n}\n","export class LowerLimitClass {\n  id: number;\n  lowerLimitMin: string;\n  lowerLimitMax: string;\n  backColor: string;\n  borderColor: string;\n  sizeBorder: string;\n  constructor(id: number, lowerLimitMin: string, lowerLimitMax: string, backColor: string, borderColor: string, sizeBorder: string) {\n    this.id = id;\n    this.lowerLimitMin = lowerLimitMin;\n    this.lowerLimitMax = lowerLimitMax;\n    this.backColor = backColor;\n    this.borderColor = borderColor;\n    this.sizeBorder = sizeBorder;\n  }\n\n  get getId(): number {\n    return this.id;\n  }\n\n  set setId(id: number) {\n    this.id = id;\n  }\n\n  get getlowerLimitMin(): string {\n    return this.lowerLimitMin;\n  }\n\n  set setlowerLimitMin(lowerLimitMin: string) {\n    this.lowerLimitMin = lowerLimitMin;\n  }\n\n  get getlowerLimitMax(): string {\n    return this.lowerLimitMax;\n  }\n\n  set setlowerLimitMax(lowerLimitMax: string) {\n    this.lowerLimitMax = lowerLimitMax;\n  }\n\n  get getSeuilbackColor(): string {\n    return this.backColor;\n  }\n\n  set setSeuilbackColor(couleur: string) {\n    this.backColor = couleur;\n  }\n\n  get getSeuilborderColor(): string {\n    return this.borderColor;\n  }\n\n  set setSeuilborderColor(couleur: string) {\n    this.borderColor = couleur;\n  }\n\n  get getsizeBorder(): string {\n    return this.sizeBorder;\n  }\n\n  set setsizeBorder(size: string) {\n    this.sizeBorder = size;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\nimport { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { PositionParameterClass } from './PositionParameterClass';\n\nexport class OrientedLinkClass extends CoordinateSpaceClass {\n  name: string;\n  orientationLink: SelectableValue<string>;\n  size: string;\n  pointAPositionX: string;\n  pointAPositionY: string;\n  colorCoordinateA: string;\n  pointBPositionX: string;\n  pointBPositionY: string;\n  colorCoordinateB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  pointIn: string;\n  pointOut: string;\n  regionIn: string;\n  regionOut: string;\n  zIndex: number;\n  pointCPositionX: string;\n  pointCPositionY: string;\n  isIncurved: SelectableValue<boolean>;\n  mainMetricB: Metric;\n  metricsB: Metric[];\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  pointAPositionXDefault: string;\n  pointAPositionYDefault: string;\n  pointBPositionXDefault: string;\n  pointBPositionYDefault: string;\n  pointCPositionXDefault: string;\n  pointCPositionYDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    name: string,\n    orientationLink: SelectableValue<string>,\n    size: string,\n    pointAPositionX: string,\n    pointAPositionY: string,\n    colorCoordinateA: string,\n    pointBPositionX: string,\n    pointBPositionY: string,\n    colorCoordinateB: string,\n    valueMainMetricA: string,\n    valueMainMetricB: string,\n    pointIn: string,\n    pointOut: string,\n    regionIn: string,\n    regionOut: string,\n    zIndex: number,\n    pointCPositionX: string,\n    pointCPositionY: string,\n    isIncurved: SelectableValue<boolean>,\n    mainMetricB: Metric,\n    metricsB: Metric[],\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string,\n    pointAPositionXDefault: string,\n    pointAPositionYDefault: string,\n    pointBPositionXDefault: string,\n    pointBPositionYDefault: string,\n    pointCPositionXDefault: string,\n    pointCPositionYDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.name = name;\n    this.orientationLink = orientationLink;\n    this.size = size;\n    this.pointAPositionX = pointAPositionX;\n    this.pointAPositionY = pointAPositionY;\n    this.colorCoordinateA = colorCoordinateA;\n    this.pointBPositionX = pointBPositionX;\n    this.pointBPositionY = pointBPositionY;\n    this.colorCoordinateB = colorCoordinateB;\n    this.valueMainMetricA = valueMainMetricA;\n    this.valueMainMetricB = valueMainMetricB;\n    this.pointIn = pointIn;\n    this.pointOut = pointOut;\n    this.regionIn = regionIn;\n    this.regionOut = regionOut;\n    this.zIndex = zIndex;\n    this.pointCPositionX = pointCPositionX;\n    this.pointCPositionY = pointCPositionY;\n    this.isIncurved = isIncurved;\n    this.mainMetricB = mainMetricB;\n    this.metricsB = metricsB;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n    this.pointAPositionXDefault = pointAPositionXDefault;\n    this.pointAPositionYDefault = pointAPositionYDefault;\n    this.pointBPositionXDefault = pointBPositionXDefault;\n    this.pointBPositionYDefault = pointBPositionYDefault;\n    this.pointCPositionXDefault = pointCPositionXDefault;\n    this.pointCPositionYDefault = pointCPositionYDefault;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\n//import { LinkClass } from './LinkClass';\nimport { PositionParameterClass } from './PositionParameterClass';\n\n/**\n * to do\n */\nexport class PointClass extends CoordinateSpaceClass {\n  name: string;\n  valueMetric: string;\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  //sizeWidth: SelectableValue<string>;\n  sizeWidth: string;\n  sizeHeight: SelectableValue<string>;\n  rotateArrow: string;\n  positionShapeX: string;\n  positionShapeY: string;\n  color: string;\n  associateOrientedLinksIn: any[];\n  associateOrientedLinksOut: any[];\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXDefault: string;\n  positionYDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    name: string,\n    valueMetric: string,\n    drawGraphicMarker: SelectableValue<string>,\n    shape: SelectableValue<string>,\n    //sizeWidth: SelectableValue<string>,\n    sizeWidth: string,\n    sizeHeight: SelectableValue<string>,\n    rotateArrow: string,\n    positionShapeX: string,\n    positionShapeY: string,\n    color: string,\n    associateOrientedLinksIn: any[],\n    associateOrientedLinksOut: any[],\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string,\n    positionXDefault: string,\n    positionYDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.name = name;\n    this.valueMetric = valueMetric;\n    this.drawGraphicMarker = drawGraphicMarker;\n    this.shape = shape;\n    this.sizeWidth = sizeWidth;\n    this.sizeHeight = sizeHeight;\n    this.rotateArrow = rotateArrow;\n    this.positionShapeX = positionShapeX;\n    this.positionShapeY = positionShapeY;\n    this.color = color;\n    this.associateOrientedLinksIn = associateOrientedLinksIn;\n    this.associateOrientedLinksOut = associateOrientedLinksOut;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n    this.positionXDefault = positionXDefault;\n    this.positionYDefault = positionYDefault;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport class PositionParameterClass {\n  labelAPositionX: string;\n  labelAPositionY: string;\n  labelBPositionX: string;\n  labelBPositionY: string;\n  tooltipPositionA: SelectableValue<string>;\n  tooltipPositionB: SelectableValue<string>;\n\n  constructor(\n    labelAPositionX: string,\n    labelAPositionY: string,\n    labelBPositionX: string,\n    labelBPositionY: string,\n    tooltipPositionA: SelectableValue<string>,\n    tooltipPositionB: SelectableValue<string>\n  ) {\n    this.labelAPositionX = labelAPositionX;\n    this.labelAPositionY = labelAPositionY;\n    this.labelBPositionX = labelBPositionX;\n    this.labelBPositionY = labelBPositionY;\n    this.tooltipPositionA = tooltipPositionA;\n    this.tooltipPositionB = tooltipPositionB;\n  }\n}\n","import { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { OrientedLinkClass } from './OrientedLinkClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { LinkURLClass } from './LinkURLClass';\nimport { Metric, Metadata } from 'types';\nimport { PositionParameterClass } from './PositionParameterClass';\n\nexport interface Coord4D {\n  /** coordinate x min */\n  xMin: string;\n  /** coordinate x max */\n  xMax: string;\n  /** coordinate y min */\n  yMin: string;\n  /** coordinate y max */\n  yMax: string;\n}\n\nexport class RegionClass extends CoordinateSpaceClass {\n  /** id of region object svg */\n  idSVG: string;\n  /** id svg or coordinate */\n  mode: boolean;\n  orientedLink: OrientedLinkClass[];\n  /** if coordinate mode, stock coordinate here */\n  coords: Coord4D;\n  /** coordinate to creation */\n  coordsDefault: Coord4D;\n  /** background image region if coordinate mode */\n  img: string;\n  /** width of initial */\n  widthInitialSpaceDefault: string;\n  /** height of initial */\n  heightInitialSpaceDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    idSVG: string,\n    orientedLink: OrientedLinkClass[],\n    coords: Coord4D,\n    coordsDefault: Coord4D,\n    mode: boolean,\n    img: string,\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.idSVG = idSVG;\n    this.mode = mode;\n    this.orientedLink = orientedLink;\n    this.coords = coords;\n    this.coordsDefault = coordsDefault;\n    this.img = img;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n  }\n}\n","import { Style } from 'components/Parametrage/styleComponent';\n\nexport interface GenerateTextObject {\n  /** legend element */\n  legendElement: string;\n  /** numeric format element */\n  numericFormatElement: string;\n  /** unity mesure element */\n  unit: string;\n  /** display object in text */\n  displayObjectInTooltip: boolean;\n  /** display object permanently */\n  // displayObjectPermanently: boolean;\n  /** color text element active */\n  addColorTextElement: boolean;\n  /** color text element */\n  colorTextElement: string;\n  /** color back element active */\n  addColorBackElement: boolean;\n  /** color back element */\n  colorBackElement: string;\n}\n\n/** value of textObjects component */\nexport class TextObject {\n  /** legend object */\n  // legend: boolean;\n  /** object value */\n  value: string;\n  /** text display in element or tooltip */\n  isTextTooltip: boolean;\n  /** back color region */\n  colorBack: string;\n  /** color text region */\n  colorText: string;\n  /** style */\n  style: Style;\n  /** style text region */\n  // styleText: string;\n  /** generate object text */\n  generateObjectText: boolean;\n  /** if generateObjectText is true when use variable to stock data */\n  valueGenerateObjectText: GenerateTextObject;\n  /** text value for auxiliary metrics */\n  generateAuxiliaryElement: GenerateTextObject;\n  // generate metadata with text object\n  // generateMetadataElement: GenerateTextObject;\n\n  constructor(\n    // legend: boolean,\n    value: string,\n    isTextTooltip: boolean,\n    colorBack: string,\n    colorText: string,\n    style: Style,\n    // styleText: string,\n    generateObjectText: boolean,\n    valueGenerateObjectText: GenerateTextObject,\n    generateAuxiliaryElement: GenerateTextObject\n    // meta\n    // generateMetadataElement: GenerateTextObject\n  ) {\n    // this.legend = legend;\n    this.value = value;\n    this.isTextTooltip = isTextTooltip;\n    this.colorBack = colorBack;\n    this.colorText = colorText;\n    this.style = style;\n    // this.styleText = styleText;\n    this.generateObjectText = generateObjectText;\n    this.valueGenerateObjectText = valueGenerateObjectText;\n    this.generateAuxiliaryElement = generateAuxiliaryElement;\n    // add Meta\n    // this.generateMetadataElement = generateMetadataElement;\n  }\n}\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, ImportFile, Background } from '../types';\nimport { Button, FormField } from '@grafana/ui';\nimport ImportInput from 'components/importInput';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  selectedFile: any;\n  readerFile: FileReader;\n}\n\nclass DropZone extends React.Component<Props, State> {\n  fileReader: any = null;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      readerFile: new FileReader(),\n    };\n  }\n\n  onChangeHandler = (event: any) => {\n    this.setState({\n      selectedFile: event.target.files[0],\n      readerFile: new FileReader(),\n    });\n  };\n\n  upload = () => {\n    this.state.selectedFile.onload = function (event: any) {\n      if (event.target?.result != null) {\n        this.props.options.saveImportFile.push(this.state.readerFile.result as string);\n        this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n      }\n    };\n    const extensionFile = this.state.selectedFile.name.split('.')[1];\n    if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n      this.state.readerFile.readAsDataURL(this.state.selectedFile);\n    } else {\n      this.state.readerFile.readAsText(this.state.selectedFile);\n    }\n  };\n\n  save = () => {\n    if (this.state.readerFile.result != null) {\n      this.props.options.saveImportFile.push({ name: this.state.selectedFile.name, content: this.state.readerFile.result as string });\n      let loader: ImportInput = new ImportInput(this.props);\n      this.props.options.saveImportFile.forEach((file) => {\n        if (file.name) {\n          const arrayFileName = file.name.split('.');\n          let newBaseMap: Background = this.props.options.baseMap;\n          if (arrayFileName[1] === 'svg') {\n            newBaseMap.image = file.content;\n            newBaseMap.modeSVG = true;\n            newBaseMap.isUploaded = true;\n          } else if (arrayFileName[1] === 'jpg' || arrayFileName[1] === 'png' || arrayFileName[1] === 'gif') {\n            newBaseMap.image = file.content;\n            newBaseMap.modeSVG = false;\n            newBaseMap.isUploaded = true;\n          }\n          this.props.onOptionsChange({\n            ...this.props.options,\n            baseMap: newBaseMap,\n          });\n        }\n\n        if (JSON.parse(file.content).hasOwnProperty('regions')) {\n          loader.loadMultiRegions(JSON.parse(file.content));\n          console.log('Load Region');\n        }\n        if (JSON.parse(file.content).hasOwnProperty('points')) {\n          loader.loadMultiPoints(JSON.parse(file.content));\n          console.log('Load Point');\n        }\n        if (JSON.parse(file.content).hasOwnProperty('links')) {\n          loader.loadMultiLinks(JSON.parse(file.content));\n          console.log('Load Links');\n        }\n      });\n    }\n    console.log(this.props.options.saveImportFile);\n  };\n\n  // load = () => {\n  //   let loader : ImportInput = new ImportInput(this.props);\n  // \tthis.props.options.saveImportFile.forEach(file => {\n  // \t\tif (JSON.parse(file.content).hasOwnProperty(\"regions\")){\n  //       loader.loadMultiRegions(JSON.parse(file.content));\n  //       console.log(\"Load Region\");\n  //     }\n  //     if (JSON.parse(file.content).hasOwnProperty(\"points\")){\n  //       loader.loadMultiPoints(JSON.parse(file.content));\n  //       console.log(\"Load Point\");\n  //     }\n  //     if (JSON.parse(file.content).hasOwnProperty(\"links\")){\n  //       loader.loadMultiLinks(JSON.parse(file.content));\n  //       console.log(\"Load Links\");\n  // \t\t}\n  // \t});\n  //   this.props.options.saveImportFile.forEach(element => {\n  //     console.log(JSON.parse(element.content));\n  //   });\n  // }\n\n  test = () => {\n    console.log(JSON.stringify(this.props));\n  };\n\n  onMultiListFileChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: ImportFile[] = this.props.options.saveImportFile.slice();\n    newData[parseInt(event.currentTarget.id, 10)].name = event.currentTarget.value;\n    this.props.options.saveImportFile = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n  };\n\n  multiDeletFile = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: ImportFile) => url === this.props.options.saveImportFile[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportFile.splice(this.props.options.saveImportFile.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n  };\n\n  multiUploadDisplay = (props: any): JSX.Element => {\n    if (props.file.lenght !== 0) {\n      const list = props.file.map((file: ImportFile, index: number) => (\n        <div\n          key={'MultiFileDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'MultiFile' + index.toString()}\n            label={'File'}\n            labelWidth={5}\n            inputWidth={20}\n            onChange={this.onMultiListFileChanged.bind(this)}\n            type=\"string\"\n            value={file.name || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.multiDeletFile.bind(this)}>\n            Del\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <input type=\"file\" name=\"file\" onChange={this.onChangeHandler} />\n          <Button onClick={this.upload}>Add</Button>\n          <Button onClick={this.save}>Finish</Button>\n        </div>\n        <div>\n          <this.multiUploadDisplay file={this.props.options.saveImportFile} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default DropZone;\n","import React from 'react';\n\nimport { SimpleOptions } from './types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Tab, TabsBar, TabContent } from '@grafana/ui';\n\nimport CoordinateSpaceInitialClass from 'components/coordinateSpaceInitial';\nimport ImportInput from 'components/importInput';\nimport ManageCoordinateSpace from 'components/CoordinateSpace/manageCoordinateSpace';\n\nimport Display from 'components/display';\nimport Gabarit from 'components/gabarit';\n\n// import MetadataComponent from 'components/metadataComponent';\n\nimport 'style/SimpleEditor.css';\n// import { TextObject } from 'Models/TextObjectClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  // collapseDashboardData: boolean;\n  // collapseTimeSelector: boolean;\n  // collapsePanelData: boolean;\n  // collapsePrincipalTarget: boolean;\n\n  tabsVariable: boolean[];\n\n  tabsCoordinateSpace: boolean[];\n}\n\n/**\n * class SimpleEditor\n */\nexport class SimpleEditor extends React.PureComponent<PanelEditorProps<SimpleOptions>, State, Props> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      // collapseDashboardData: false,\n      // collapsePanelData: false,\n      // collapseTimeSelector: false,\n      // collapsePrincipalTarget: false,\n      tabsVariable: [true, false, false, false, false],\n      tabsCoordinateSpace: [true, false, false, false],\n    };\n  }\n  /********************* Display Button in relation to View or Edit */\n\n  // /**\n  //  * edit default text\n  //  */\n  // myCallBackDefaultText = (datafromChild: {\n  // \t/**\n  // \t * new police\n  // \t */\n  // \tpolice: string,\n  // \t/**\n  // \t * new size\n  // \t */\n  // \tsize: string,\n  // \t/**\n  // \t * new style (italic, bold, ...)\n  // \t */\n  // \tstyle: string,\n  // }) => {\n  // \tthis.props.onOptionsChange({\n  // \t\t...this.props.options,\n  // \t\tpolice: datafromChild.police,\n  // \t\tsize: datafromChild.size,\n  // \t\tstyle: datafromChild.style,\n  // \t});\n  // }\n\n  /// Adrien\n  // onInfoChanged = ({ target }: any) => {\n  // \tthis.props.onOptionsChange({ ...this.props.options, info: target.value });\n  // }\n\n  onRefreshChanged = ({ target }: any) => {\n    this.props.onOptionsChange({ ...this.props.options, refresh: target.value });\n  };\n\n  onTimeZoneChanged = ({ target }: any) => {\n    this.props.onOptionsChange({ ...this.props.options, timezone: target.value });\n  };\n\n  onPanelChanged = ({ target }: any, index: any) => {\n    this.props.onOptionsChange({ ...this.props.options, Id: target.value });\n  };\n\n  // onToggleDashboardData = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapseDashboardData: isOpen,\n  //   });\n  // };\n\n  // onToggleTimeSelector = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapseTimeSelector: isOpen,\n  //   });\n  // };\n\n  // onTogglePanelData = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapsePanelData: isOpen,\n  //   });\n  // };\n\n  // onTogglePrincipalTargets = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapsePrincipalTarget: isOpen,\n  //   });\n  // };\n\n  /**\n   * switch tab\n   * @param {number} id id to to new tab\n   */\n  private goToTab = (id: number) => {\n    const oldValue: boolean[] = this.state.tabsVariable.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsVariable: oldValue,\n    });\n  };\n\n  /**\n   * swtith tab Coordinate space\n   */\n  private goToTabCoordinateSpace = (id: number) => {\n    const oldValue: boolean[] = this.state.tabsCoordinateSpace.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsCoordinateSpace: oldValue,\n    });\n  };\n\n  componentDidMount = async () => {\n    // delete data if new dashboard\n    const url: string = window.location.pathname;\n    const arrayUrl: string[] = url.split('/');\n    for (const element of arrayUrl) {\n      if (element === 'new' && !this.props.options.currentDashboard) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayPoints: [],\n          arrayOrientedLinks: [],\n          regionCoordinateSpace: [],\n          saveImportUrl: { total: [], mono: [], multi: [] },\n          saveImportFile: [],\n          totalUrlInput: '',\n          multiUrlInput: '',\n          monoUrlInput: '',\n          baseMap: {\n            image: '',\n            layerImage: '',\n            modeSVG: true,\n            idSVG: '',\n            width: '',\n            height: '',\n            isUploaded: false,\n          },\n        });\n      }\n    }\n\n    // display Button of Panel if is mode Edit\n    await Promise.resolve('Success').then(() => {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: true,\n        currentDashboard: false,\n      });\n    });\n  };\n\n  componentWillUnmount = async () => {\n    // not display Button of Panel if is mode View\n    await Promise.resolve('Success').then(() => {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: false,\n        currentDashboard: true,\n      });\n    });\n  };\n\n  /**\n   * HTML code\n   */\n  render() {\n    // const tt = new TextObject(\n    //   '',\n    //   false,\n    //   'white',\n    //   'black',\n    //   { bold: false, italic: false, underline: false },\n    //   true,\n    //   {\n    //     legendElement: '',\n    //     numericFormatElement: '5',\n    //     unit: '',\n    //     displayObjectInTooltip: false,\n    //     addColorTextElement: false,\n    //     colorTextElement: 'white',\n    //     addColorBackElement: false,\n    //     colorBackElement: 'black',\n    //   },\n    //   {\n    //     legendElement: '',\n    //     numericFormatElement: '5',\n    //     unit: '',\n    //     displayObjectInTooltip: true,\n    //     addColorTextElement: true,\n    //     colorTextElement: 'white',\n    //     addColorBackElement: true,\n    //     colorBackElement: 'black',\n    //   }\n    // );\n\n    // const testtt: Metadata = { meta: '', obj: tt };\n\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div className=\"divSimpleEditor\">\n        <TabsBar className=\"page-header tabs\" hideBorder={false}>\n          <Tab key=\"tabDisplay\" label={l10n.simpleEditor.display} active={this.state.tabsVariable[0]} onChangeTab={() => this.goToTab(0)} />\n          <Tab\n            key=\"tabSpaceInitialVisualisation\"\n            label={l10n.simpleEditor.spaceInitialVisualisation}\n            active={this.state.tabsVariable[1]}\n            onChangeTab={() => this.goToTab(1)}\n          />\n          <Tab\n            key=\"tabCoordinateSpace\"\n            label={l10n.simpleEditor.CoordinateSpace}\n            active={this.state.tabsVariable[2]}\n            onChangeTab={() => this.goToTab(2)}\n          />\n          {/* <Tab key='tabMetricsSettings'\n\t\t\t\t\t\tlabel={l10n.simpleEditor.metricsSettings}\n\t\t\t\t\t\tactive={this.state.tabsVariable[3]}\n\t\t\t\t\t\tonChangeTab={() => this.goToTab(3)}\n\t\t\t\t\t/> */}\n          <Tab key=\"tabGabarit\" label=\"Gabarit\" active={this.state.tabsVariable[3]} onChangeTab={() => this.goToTab(3)} />\n          <Tab key=\"tabImportInput\" label=\"Import Files\" active={this.state.tabsVariable[4]} onChangeTab={() => this.goToTab(4)} />\n        </TabsBar>\n        <TabContent>\n          {this.state.tabsVariable[0] && <Display options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />}\n          {this.state.tabsVariable[1] && (\n            <CoordinateSpaceInitialClass options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n          )}\n          {this.state.tabsVariable[2] && (\n            <div>\n              <TabsBar className=\"page-header tabs\" hideBorder={false}>\n                <Tab\n                  key=\"tabDisplayManageCoordinateSpace\"\n                  label=\"Region\"\n                  active={this.state.tabsCoordinateSpace[0]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(0)}\n                />\n                <Tab\n                  key=\"tabDisplayPoint\"\n                  label=\"Point\"\n                  active={this.state.tabsCoordinateSpace[1]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(1)}\n                />\n                {/* <Tab key='tabDisplayLink'\n\t\t\t\t\t\t\t\t\tlabel='Link'\n\t\t\t\t\t\t\t\t\tactive={this.state.tabsCoordinateSpace[2]}\n\t\t\t\t\t\t\t\t\tonChangeTab={() => this.goToTabCoordinateSpace(2)}\n\t\t\t\t\t\t\t\t/> */}\n                <Tab\n                  key=\"tabDisplayOrientedLink\"\n                  label=\"OrientedLink\"\n                  active={this.state.tabsCoordinateSpace[3]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(3)}\n                />\n              </TabsBar>\n              <TabContent>\n                {this.state.tabsCoordinateSpace[0] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={true}\n                    isPoint={false}\n                    isLink={false}\n                  />\n                )}\n                {this.state.tabsCoordinateSpace[1] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={false}\n                    isPoint={true}\n                    isLink={false}\n                  />\n                )}\n                {this.state.tabsCoordinateSpace[3] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={false}\n                    isPoint={false}\n                    isLink={true}\n                  />\n                )}\n              </TabContent>\n            </div>\n          )}\n          {/*\n\t\t\t\t\t\tthis.state.tabsVariable[3] &&\n\n\t\t\t\t\t\t<div className='adrien'>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapseDashboardData}\n\t\t\t\t\t\t\t\tlabel='Dashboard Data Display' onToggle={this.onToggleDashboardData}>\n\t\t\t\t\t\t\t\t<DashboardData options={this.props.options}\n\t\t\t\t\t\t\t\t\tonOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapseTimeSelector}\n\t\t\t\t\t\t\t\tlabel='Time Selector Display' onToggle={this.onToggleTimeSelector}>\n\t\t\t\t\t\t\t\t<TimeSelector options={this.props.options}\n\t\t\t\t\t\t\t\t\tonOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapsePrincipalTarget}\n\t\t\t\t\t\t\t\tlabel='Metrics Principal' onToggle={this.onTogglePrincipalTargets}>\n\t\t\t\t\t\t\t\t<MainTarget options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapsePanelData} label='Metrics Aux' onToggle={this.onTogglePanelData}>\n\t\t\t\t\t\t\t\t<PanelData options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} */}\n          {this.state.tabsVariable[3] && (\n            <div>\n              <Gabarit options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n            </div>\n          )}\n          {this.state.tabsVariable[4] && (\n            <div>\n              <ImportInput options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n            </div>\n          )}\n        </TabContent>\n        {/* <MetadataComponent options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} meta={testtt} /> */}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent, CSSProperties } from 'react';\nimport { SimpleOptions, Background, Metric, Metadata, CoordinateSpaceInitial } from 'types';\n\nimport { PanelProps, SelectableValue } from '@grafana/data';\nimport { CustomScrollbar, Modal, Button } from '@grafana/ui';\n\nimport { PointClass } from 'Models/PointClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\nimport { reqMetricPoint, reqMetricOrientedLink, reqMetricAuxOrientedLink, reqMetricAuxPoint, reqMetricAuxRegion } from 'Functions/fetchMetrics';\nimport { getResultQuery } from 'Functions/getResultQuery';\n\nimport AddCoordinate from 'components/CoordinateSpace/addCoordinate';\nimport DrawRectangle from './components/Draw/drawRectangle';\nimport DrawPoint from './components/Draw/drawPoint';\nimport DrawOrientedLink from './components/Draw/drawOrientedLink';\nimport LegendComponant from './components/legend';\n\nimport DrawRectangleExtend from 'components/Draw/drawRectangleExtend';\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { Style } from 'components/Parametrage/styleComponent';\n\ninterface Props extends PanelProps<SimpleOptions> {}\n\ninterface DataTooltipRegionSVG {\n  idSVG: string;\n  x: string;\n  y: string;\n}\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\ninterface State {\n  // isUpdate: boolean;\n  // sizePanel: number;\n  valueButton: string;\n  /**\n   * manage button\n   * [0] -> addNode\n   * [1] -> addLink\n   * [2] -> positionLegend\n   * [3] -> addPoint\n   * [4] -> addIncurvedLink\n   */\n  buttonManage: boolean[];\n  numberClickDiv: number;\n  allActionButton: JSX.Element;\n  // valueLegend: JSX.Element;\n  // seuil: LowerLimitClass[];\n  nbClickButton: boolean;\n  legend: Legend;\n  // img: JSX.Element;\n  svg: string;\n  // loading: boolean;\n  // url: string;\n  //displayRegion: JSX.Element;\n  // check if button Add Oriented Link is active\n  buttonAddLinkIsActive: boolean;\n  // check if button Add Incurved Oriented Link is active\n  buttonAddIncurvedLinkIsActive: boolean;\n\n  dataTooltipSVG: DataTooltipRegionSVG;\n\n  hiddenLegend: boolean;\n\n  // value of image in Display to the initialisation\n  currentImage: string;\n}\n\n/**\n * Affichage\n */\nexport class SimplePanel extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      valueButton: '',\n      buttonManage: [false, false, false, false, false, false],\n      numberClickDiv: 0,\n      allActionButton: <div></div>,\n      nbClickButton: false,\n      legend: { hiddenLegend: true, x: 0, y: 0 },\n      svg: '',\n      //displayRegion: <div></div>,\n      buttonAddLinkIsActive: false,\n      buttonAddIncurvedLinkIsActive: false,\n      dataTooltipSVG: { idSVG: '', x: '0', y: '0' },\n      hiddenLegend: false,\n      currentImage: '',\n    };\n  }\n\n  /**\n   * Display limit (coordinateSpaceInitial)\n   * @returns JSX.Element\n   */\n  defineLimit = (): JSX.Element => {\n    const { coordinateSpaceInitial } = this.props.options;\n    let jsxItems: JSX.Element = <div></div>;\n    if (this.props.options.baseMap.image === '' && !this.props.options.baseMap.modeSVG) {\n      jsxItems = (\n        <DrawRectangle\n          key=\"limitCoor\"\n          color=\"orange\"\n          coordinateInitial={coordinateSpaceInitial}\n          id=\"initialSpace\"\n          onOptionsChange={this.props.onOptionsChange}\n          options={this.props.options}\n          data={this.props.data}\n          buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n          buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n        />\n      );\n    }\n    return jsxItems;\n  };\n\n  /**\n   * to do\n   */\n  getCoordinatesToDrawPointWithClick = (event: any) => {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    let positionX = 0;\n    let positionY = 0;\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      this.createPointToClick(positionX, positionY, widthInitialSpace, heightInitialSpace);\n    }\n  };\n\n  defineIdPoint = (): number => {\n    let id = 1;\n    if (this.props.options.arrayPoints.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayPoints[this.props.options.arrayPoints.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  /**\n   * to do\n   */\n  createPointToClick = (x: number, y: number, widthInitialSpace: number, heightInitialSpace: number) => {\n    const id: number = this.defineIdPoint();\n    const initTextObject: TextObject = new TextObject(\n      '',\n      false,\n      'white',\n      'black',\n      { bold: false, italic: false, underline: false },\n      true,\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: false,\n        addColorTextElement: false,\n        colorTextElement: 'white',\n        addColorBackElement: false,\n        colorBackElement: 'black',\n      },\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: true,\n        addColorTextElement: true,\n        colorTextElement: 'white',\n        addColorBackElement: true,\n        colorBackElement: 'black',\n      }\n    );\n    const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n    const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n    const newPoint: PointClass = new PointClass(\n      id,\n      linkUrl,\n      [],\n      [],\n      '',\n      initTextObject,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      false,\n      false,\n      false,\n      positionParameter,\n      'point' + id.toString(),\n      '',\n      { label: 'Yes', value: 'true' },\n      { label: 'Circle', value: 'circle' },\n      '12',\n      { label: 'Medium', value: 'medium' },\n      '0',\n      x.toString(),\n      y.toString(),\n      'black',\n      [],\n      [],\n      widthInitialSpace.toString(),\n      heightInitialSpace.toString(),\n      x.toString(),\n      y.toString()\n    );\n\n    const newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.push(newPoint);\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      indexPoint: id,\n      arrayPoints: newArrayPoint,\n    });\n\n    this.props.options.newPoint = true;\n  };\n\n  /**\n   * to do\n   */\n  displayPoint() {\n    const mapItems: JSX.Element[] = [];\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((line: PointClass) => {\n      const valueMainMetric = this.getValuesMainMetricPoint(line).toString();\n      this.updatePositionOrientedLink(line);\n      const valuesAuxiliaryMetrics: string[] = this.getValuesAuxiliaryMetricsPoint(line);\n      const item: JSX.Element = (\n        <DrawPoint\n          key={'point' + line.id.toString()}\n          drawGraphicMarker={line.drawGraphicMarker}\n          shape={line.shape}\n          size={line.sizeWidth}\n          positionShapeX={line.positionShapeX}\n          positionShapeY={line.positionShapeY}\n          label={line.label}\n          widthImage={parseInt(this.props.options.baseMap.width, 10)}\n          heightImage={parseInt(this.props.options.baseMap.height, 10)}\n          police={this.props.options.display.police}\n          sizePolice={this.props.options.display.size}\n          color={line.color}\n          idPoint={'point' + line.id.toString()}\n          name={line.name}\n          options={this.props.options}\n          onOptionsChange={this.props.onOptionsChange}\n          data={this.props.data}\n          textObject={line.textObj}\n          seuil={line.lowerLimit}\n          valueMainMetric={valueMainMetric}\n          refMainMetric={line.mainMetric.refId || ''}\n          associateOrientedLinkIn={line.associateOrientedLinksIn}\n          associateOrientedLinkOut={line.associateOrientedLinksOut}\n          labelPositionX={line.positionParameter.labelAPositionX}\n          labelPositionY={line.positionParameter.labelAPositionY}\n          tooltipPosition={line.positionParameter.tooltipPositionA}\n          auxiliaryMetrics={line.metrics}\n          valuesAuxiliaryMetrics={valuesAuxiliaryMetrics}\n          linkUrl={line.linkURL}\n          buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n          buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n          widthInitialSpaceDefault={line.widthInitialSpaceDefault}\n          heightInitialSpaceDefault={line.heightInitialSpaceDefault}\n          positionXDefault={line.positionXDefault}\n          positionYDefault={line.positionYDefault}\n          metaData={line.meta}\n          colorMode={line.colorMode}\n          traceBack={line.traceBack}\n          traceBorder={line.traceBorder}\n        />\n      );\n      mapItems.push(item);\n    });\n    return <div>{mapItems}</div>;\n  }\n\n  private updatePositionOrientedLink = (point: PointClass) => {\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLink) {\n      for (const associateOrientedLinkIn of point.associateOrientedLinksIn) {\n        if (associateOrientedLinkIn.name === orientedLink.name) {\n          orientedLink.pointAPositionX = point.positionShapeX;\n          orientedLink.pointAPositionY = point.positionShapeY;\n        }\n      }\n      for (const associateOrientedLinkOut of point.associateOrientedLinksOut) {\n        if (associateOrientedLinkOut.name === orientedLink.name) {\n          orientedLink.pointBPositionX = point.positionShapeX;\n          orientedLink.pointBPositionY = point.positionShapeY;\n        }\n      }\n    }\n  };\n\n  /**\n   * to do\n   */\n  addAssociateOrientedLinkToPoint = (namePointIn: string, namePointOut: string, indexOrientedLinkAssociate: number) => {\n    let index = 0;\n    this.props.options.arrayPoints.forEach((point: PointClass) => {\n      const name: string = point.label || point.name;\n      if (namePointIn === name) {\n        this.props.options.arrayOrientedLinks.forEach((orientedLink: OrientedLinkClass) => {\n          if (orientedLink.id === indexOrientedLinkAssociate) {\n            this.props.options.arrayPoints[index].associateOrientedLinksIn.push({ label: orientedLink.label, name: orientedLink.name });\n          }\n        });\n      } else if (namePointOut === name) {\n        this.props.options.arrayOrientedLinks.forEach((orientedLink: OrientedLinkClass) => {\n          if (orientedLink.id === indexOrientedLinkAssociate) {\n            this.props.options.arrayPoints[index].associateOrientedLinksOut.push({ label: orientedLink.label, name: orientedLink.name });\n          }\n        });\n      }\n      index++;\n    });\n  };\n\n  /** update AssociateOrientedLinkIn of point for tooltip  */\n  private updateAssociateOrientedLinkInToPoint = () => {\n    let indexPoint = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      let newAssociateLinkIn: any[] = [];\n      const namePoint: string = point.label || point.name;\n      this.props.options.arrayOrientedLinks.forEach((link) => {\n        if (link.pointIn === namePoint) {\n          newAssociateLinkIn.push({ label: link.label, name: link.name });\n        }\n      });\n      this.props.options.arrayPoints[indexPoint].associateOrientedLinksIn = newAssociateLinkIn;\n      indexPoint++;\n    });\n  };\n\n  /** update AssociateOrientedLinkOut of point for tooltip  */\n  private updateAssociateOrientedLinkOutToPoint = () => {\n    let indexPoint = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      let newAssociateLinkIn: any[] = [];\n      const namePoint: string = point.label || point.name;\n      this.props.options.arrayOrientedLinks.forEach((link) => {\n        if (link.pointOut === namePoint) {\n          newAssociateLinkIn.push({ label: link.label, name: link.name });\n        }\n      });\n      this.props.options.arrayPoints[indexPoint].associateOrientedLinksOut = newAssociateLinkIn;\n      indexPoint++;\n    });\n  };\n\n  /**\n   * to do\n   */\n  resetCoordinatesToDrawLinkWithClick = () => {\n    this.props.options.coordinatesToDrawLinkWithClick[1].labelPoint = '';\n    this.props.options.coordinatesToDrawLinkWithClick[1].point = {};\n    this.props.options.coordinatesToDrawLinkWithClick[1].labelRegion = '';\n    this.props.options.coordinatesToDrawLinkWithClick[1].region = {};\n    this.props.options.coordinatesToDrawLinkWithClick[2].labelPoint = '';\n    this.props.options.coordinatesToDrawLinkWithClick[2].point = {};\n    this.props.options.coordinatesToDrawLinkWithClick[2].labelRegion = '';\n    this.props.options.coordinatesToDrawLinkWithClick[2].region = {};\n  };\n\n  /** get coordinate when use click in panel */\n  getCoordinatesToDrawOrientedLinkWithClick = (event: any) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const objectIn: any = coordinates[1];\n    const objectOut: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    let positionX = 0;\n    let positionY = 0;\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      if (coordinates[0].id === 0) {\n        objectIn.x = positionX;\n        objectIn.xDefault = positionX;\n        objectIn.y = positionY;\n        objectIn.yDefault = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 1) {\n        objectOut.x = positionX;\n        objectOut.xDefault = positionX;\n        objectOut.y = positionY;\n        objectOut.yDefault = positionY;\n        pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n        pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n        coordinates[0].id = 0;\n        this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n        this.resetCoordinatesToDrawLinkWithClick();\n      }\n    } else if (event.nativeEvent.target.id.startsWith('point')) {\n      const id: number = parseInt(event.nativeEvent.target.id.charAt(5) + event.nativeEvent.target.id.charAt(6), 10);\n      const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n\n      arrayPoint.forEach((point: PointClass) => {\n        if (point.id === id) {\n          const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n          const name: string = point.label || point.name;\n\n          if (coordinates[0].id === 0) {\n            objectIn.x = point.positionShapeX;\n            objectIn.xDefault = point.positionXDefault;\n            objectIn.y = point.positionShapeY;\n            objectIn.yDefault = point.positionYDefault;\n            objectIn.labelPoint = name;\n            objectIn.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 1) {\n            objectOut.x = point.positionShapeX;\n            objectOut.xDefault = point.positionXDefault;\n            objectOut.y = point.positionShapeY;\n            objectOut.yDefault = point.positionYDefault;\n            objectOut.labelPoint = name;\n            objectOut.point = point;\n            pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n            pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n            coordinates[0].id = 0;\n            this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n            this.resetCoordinatesToDrawLinkWithClick();\n          }\n        }\n      });\n    } else {\n      const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      arrayRegion.forEach((region: RegionClass) => {\n        const xMin: number = parseInt(region.coords.xMin, 10);\n        const xMax: number = parseInt(region.coords.xMax, 10);\n        const yMin: number = parseInt(region.coords.yMin, 10);\n        const yMax: number = parseInt(region.coords.yMax, 10);\n        const xMinDefault: number = parseInt(region.coordsDefault.xMin, 10);\n        const xMaxDefault: number = parseInt(region.coordsDefault.xMax, 10);\n        const yMinDefault: number = parseInt(region.coordsDefault.yMin, 10);\n        const yMaxDefault: number = parseInt(region.coordsDefault.yMax, 10);\n\n        if (event.nativeEvent.target.id.startsWith('region')) {\n          const id: number = parseInt(event.nativeEvent.target.id.charAt(6) + event.nativeEvent.target.id.charAt(7), 10);\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            const positionXdefault = (xMinDefault + xMaxDefault) / 2;\n            const positionYdefault = (yMaxDefault + yMinDefault) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.xDefault = positionXdefault;\n              objectIn.y = positionY;\n              objectIn.yDefault = positionYdefault;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.xDefault = positionXdefault;\n              objectOut.y = positionY;\n              objectOut.yDefault = positionYdefault;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else if (\n          (event.nativeEvent.target.id !== 'oct' + this.props.options.baseMap.idSVG && event.nativeEvent.target.id.startsWith('oct')) ||\n          (event.nativeEvent.target.id !== this.props.options.baseMap.idSVG &&\n            (event.nativeEvent.target.id.startsWith('path') ||\n              event.nativeEvent.target.id.startsWith('rect') ||\n              event.nativeEvent.target.id.startsWith('ellipse')))\n        ) {\n          let id = '';\n          if (this.props.options.baseMap.isUploaded) {\n            id = event.nativeEvent.target.id;\n          } else {\n            id = event.nativeEvent.target.id.substr(3);\n          }\n          if (id === region.idSVG) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = 0;\n            positionY = 0;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.xDefault = positionX;\n              objectIn.y = positionY;\n              objectIn.yDefault = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.xDefault = positionX;\n              objectOut.y = positionY;\n              objectOut.yDefault = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else {\n          const id: number = parseInt(event.nativeEvent.target.offsetParent.id.charAt(6) + event.nativeEvent.target.offsetParent.id.charAt(7), 10);\n\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        }\n      });\n    }\n  };\n\n  getCoordinatesToDrawIncurvedOrientedLinkWithClick = (event: any) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const objectIn: any = coordinates[1];\n    const objectOut: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    let positionX = 0;\n    let positionY = 0;\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      if (coordinates[0].id === 0) {\n        objectIn.x = positionX;\n        objectIn.y = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 1) {\n        objectOut.x = positionX;\n        objectOut.y = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 2) {\n        pointC.x = positionX;\n        pointC.y = positionY;\n        coordinates[0].id = 0;\n        this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n        this.resetCoordinatesToDrawLinkWithClick();\n      }\n    } else if (event.nativeEvent.target.id.startsWith('point')) {\n      const id: number = parseInt(event.nativeEvent.target.id.charAt(5) + event.nativeEvent.target.id.charAt(6), 10);\n      const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n\n      arrayPoint.forEach((point: PointClass) => {\n        if (point.id === id) {\n          const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n          const name: string = point.label || point.name;\n\n          if (coordinates[0].id === 0) {\n            objectIn.x = point.positionShapeX;\n            objectIn.y = point.positionShapeY;\n            objectIn.labelPoint = name;\n            objectIn.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 1) {\n            objectOut.x = point.positionShapeX;\n            objectOut.y = point.positionShapeY;\n            objectOut.labelPoint = name;\n            objectOut.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 2) {\n            pointC.x = point.positionShapeX;\n            pointC.y = point.positionShapeY;\n            coordinates[0].id = 0;\n            this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n            this.resetCoordinatesToDrawLinkWithClick();\n          }\n        }\n      });\n    } else {\n      const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n\n      arrayRegion.forEach((region: RegionClass) => {\n        const xMin: number = parseInt(region.coords.xMin, 10);\n        const xMax: number = parseInt(region.coords.xMax, 10);\n        const yMin: number = parseInt(region.coords.yMin, 10);\n        const yMax: number = parseInt(region.coords.yMax, 10);\n\n        if (event.nativeEvent.target.id.startsWith('region')) {\n          const id: number = parseInt(event.nativeEvent.target.id.charAt(6) + event.nativeEvent.target.id.charAt(7), 10);\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else if (\n          (event.nativeEvent.target.id !== 'oct' + this.props.options.baseMap.idSVG && event.nativeEvent.target.id.startsWith('oct')) ||\n          (event.nativeEvent.target.id !== this.props.options.baseMap.idSVG &&\n            (event.nativeEvent.target.id.startsWith('path') ||\n              event.nativeEvent.target.id.startsWith('rect') ||\n              event.nativeEvent.target.id.startsWith('ellipse')))\n        ) {\n          let id = '';\n          if (this.props.options.baseMap.isUploaded) {\n            id = event.nativeEvent.target.id;\n          } else {\n            id = event.nativeEvent.target.id.substr(3);\n          }\n          if (id === region.idSVG) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = 0;\n            positionY = 0;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else {\n          const id: number = parseInt(event.nativeEvent.target.offsetParent.id.charAt(6) + event.nativeEvent.target.offsetParent.id.charAt(7), 10);\n\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        }\n      });\n    }\n  };\n\n  /**\n   * to do\n   */\n  defineIdOrientedLink = (): number => {\n    let id = 1;\n    if (this.props.options.arrayOrientedLinks.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayOrientedLinks[this.props.options.arrayOrientedLinks.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  /**\n   * to do\n   */\n  createOrientedLinkToClick = (isIncurved: SelectableValue<boolean>, widthInitialSpace: string, heightInitialSpace: string) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const id: number = this.defineIdOrientedLink();\n    const name: string = 'orientedLink' + id.toString();\n    const zIndex: number = this.props.options.zIndexOrientedLink + 1;\n    const pointA: any = coordinates[1];\n    const pointB: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const initTextObject: TextObject = new TextObject(\n      '',\n      false,\n      'white',\n      'black',\n      { bold: false, italic: false, underline: false },\n      true,\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: false,\n        addColorTextElement: false,\n        colorTextElement: 'white',\n        addColorBackElement: false,\n        colorBackElement: 'black',\n      },\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: true,\n        addColorTextElement: true,\n        colorTextElement: 'white',\n        addColorBackElement: true,\n        colorBackElement: 'black',\n      }\n    );\n    const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n    const positionParameter: PositionParameterClass = new PositionParameterClass(\n      '0',\n      '0',\n      '0',\n      '0',\n      {\n        label: 'Right',\n        value: 'Right',\n      },\n      {\n        label: 'Right',\n        value: 'Right',\n      }\n    );\n\n    const newOrientedLink: OrientedLinkClass = new OrientedLinkClass(\n      id,\n      linkUrl,\n      [],\n      [],\n      '',\n      initTextObject,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      false,\n      false,\n      false,\n      positionParameter,\n      name,\n      { label: 'Monodirectional', value: 'AB' },\n      '9',\n      pointA.x.toString(),\n      pointA.y.toString(),\n      '#5794F2',\n      pointB.x.toString(),\n      pointB.y.toString(),\n      '#E54658',\n      '',\n      '',\n      pointA.labelPoint,\n      pointB.labelPoint,\n      pointA.labelRegion,\n      pointB.labelRegion,\n      zIndex,\n      pointC.x,\n      pointC.y,\n      isIncurved,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      widthInitialSpace,\n      heightInitialSpace,\n      pointA.xDefault.toString(),\n      pointA.yDefault.toString(),\n      pointB.xDefault.toString(),\n      pointB.yDefault.toString(),\n      pointC.x,\n      pointC.y\n    );\n\n    const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.push(newOrientedLink);\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      arrayOrientedLinks: newArrayOrientedLink,\n      indexOrientedLink: id,\n      zIndexOrientedLink: zIndex,\n      newOrientedLink: true,\n    });\n\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n    this.props.options.indexOrientedLink = id;\n    this.props.options.zIndexOrientedLink = zIndex;\n    this.props.options.newOrientedLink = true;\n\n    this.addAssociateOrientedLinkToPoint(pointA.labelPoint || '', pointB.labelPoint || '', newOrientedLink.id);\n  };\n\n  private defineValueX = (orientedLink: OrientedLinkClass, defaultPosition: boolean, isIn: boolean): string => {\n    let result = '';\n    if (isIn) {\n      if (orientedLink.pointIn !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn || point.label === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionXDefault;\n            } else {\n              result = point.positionShapeX;\n            }\n          }\n        });\n      } else if (orientedLink.regionIn !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointAPositionXDefault;\n        } else {\n          result = orientedLink.pointAPositionX;\n        }\n      }\n    } else {\n      if (orientedLink.pointOut !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointOut || point.label === orientedLink.pointOut) {\n            if (defaultPosition) {\n              result = point.positionXDefault;\n            } else {\n              result = point.positionShapeX;\n            }\n          }\n        });\n      } else if (orientedLink.regionOut !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionOut) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointBPositionXDefault;\n        } else {\n          result = orientedLink.pointBPositionX;\n        }\n      }\n    }\n    return result;\n  };\n\n  private defineValueY = (orientedLink: OrientedLinkClass, defaultPosition: boolean, isIn: boolean): string => {\n    let result = '';\n    if (isIn) {\n      if (orientedLink.pointIn !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionYDefault;\n            } else {\n              result = point.positionShapeY;\n            }\n          }\n        });\n      } else if (orientedLink.regionIn !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointAPositionYDefault;\n        } else {\n          result = orientedLink.pointAPositionY;\n        }\n      }\n    } else {\n      if (orientedLink.pointOut !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionYDefault;\n            } else {\n              result = point.positionShapeY;\n            }\n          }\n        });\n      } else if (orientedLink.regionOut !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointBPositionYDefault;\n        } else {\n          result = orientedLink.pointBPositionY;\n        }\n      }\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   */\n  displayOrientedLink() {\n    const arrayOrientedLink = this.props.options.arrayOrientedLinks;\n    const mapItems: JSX.Element[] = [];\n    let item: JSX.Element = <div></div>;\n    arrayOrientedLink.forEach((orientedLink: OrientedLinkClass) => {\n      console.log(orientedLink);\n      const valueMainMetricA: string = this.getValuesMainMetricOrientedLink(orientedLink).toString();\n      const valueMainMetricB: string = this.getValuesMainMetricOrientedLinkB(orientedLink).toString();\n      this.getValuesMainMetricOrientedLinkB(orientedLink);\n      const valuesAuxiliaryMetrics: string[] = this.getValuesAuxiliaryMetricsOrientedLink(orientedLink);\n      const valuesAuxiliaryMetricsB: string[] = this.getValuesAuxiliaryMetricsOrientedLinkB(orientedLink);\n      const pointAX: string = this.defineValueX(orientedLink, false, true);\n      const pointDefaultAX: string = this.defineValueX(orientedLink, true, true);\n      const pointBX: string = this.defineValueX(orientedLink, false, false);\n      const pointDefaultBX: string = this.defineValueX(orientedLink, true, false);\n      const pointAY: string = this.defineValueY(orientedLink, false, true);\n      const pointDefaultAY: string = this.defineValueY(orientedLink, true, true);\n      const pointBY: string = this.defineValueY(orientedLink, false, false);\n      const pointDefaultBY: string = this.defineValueY(orientedLink, true, false);\n\n      item = (\n        <DrawOrientedLink\n          key={'orientedLink' + orientedLink.id.toString()}\n          id={orientedLink.id.toString()}\n          orientationLink={orientedLink.orientationLink.value || ''}\n          pointAPositionX={pointAX}\n          pointAPositionY={pointAY}\n          pointBPositionX={pointBX}\n          pointBPositionY={pointBY}\n          colorA={orientedLink.colorCoordinateA}\n          colorB={orientedLink.colorCoordinateB}\n          associatePointIn={orientedLink.pointIn}\n          associatePointOut={orientedLink.pointOut}\n          associateRegionIn={orientedLink.regionIn}\n          associateRegionOut={orientedLink.regionOut}\n          widthImage={parseInt(this.props.options.baseMap.width, 10)}\n          heightImage={parseInt(this.props.options.baseMap.height, 10)}\n          label={orientedLink.label}\n          name={orientedLink.name}\n          valueMainMetricA={valueMainMetricA}\n          valueMainMetricB={valueMainMetricB}\n          refMainMetricA={orientedLink.mainMetric.refId || ''}\n          refMainMetricB={orientedLink.mainMetricB.refId || ''}\n          options={this.props.options}\n          onOptionsChange={this.props.onOptionsChange}\n          data={this.props.data}\n          textObject={orientedLink.textObj}\n          seuil={orientedLink.lowerLimit}\n          traceBorder={orientedLink.traceBorder}\n          traceBack={orientedLink.traceBack}\n          labelAPositionX={orientedLink.positionParameter.labelAPositionX}\n          labelAPositionY={orientedLink.positionParameter.labelAPositionY}\n          labelBPositionX={orientedLink.positionParameter.labelBPositionX}\n          labelBPositionY={orientedLink.positionParameter.labelBPositionY}\n          tooltipPositionA={orientedLink.positionParameter.tooltipPositionA}\n          tooltipPositionB={orientedLink.positionParameter.tooltipPositionB}\n          zIndex={orientedLink.zIndex}\n          pointCPositionX={orientedLink.pointCPositionX}\n          pointCPositionY={orientedLink.pointCPositionY}\n          isIncurved={orientedLink.isIncurved}\n          auxiliaryMetrics={orientedLink.metrics}\n          auxiliaryMetricsB={orientedLink.metricsB}\n          valuesAuxiliaryMetrics={valuesAuxiliaryMetrics}\n          valuesAuxiliaryMetricsB={valuesAuxiliaryMetricsB}\n          police={this.props.options.display.police}\n          sizePolice={this.props.options.display.size}\n          linkUrl={orientedLink.linkURL}\n          size={orientedLink.size}\n          widthInitialSpaceDefault={orientedLink.widthInitialSpaceDefault}\n          heightInitialSpaceDefault={orientedLink.heightInitialSpaceDefault}\n          positionXADefault={pointDefaultAX}\n          positionYADefault={pointDefaultAY}\n          positionXBDefault={pointDefaultBX}\n          positionYBDefault={pointDefaultBY}\n          positionXCDefault={orientedLink.pointCPositionXDefault}\n          positionYCDefault={orientedLink.pointCPositionYDefault}\n          metaData={orientedLink.meta}\n          colorMode={orientedLink.colorMode}\n        />\n      );\n      mapItems.push(item);\n    });\n    this.updateAssociateOrientedLinkInToPoint();\n    this.updateAssociateOrientedLinkOutToPoint();\n    return <div>{mapItems}</div>;\n  }\n\n  /**\n   * to do\n   */\n  getValuesMainMetricPoint(point: PointClass) {\n    reqMetricPoint(point, this.props);\n    let result = 0;\n    result = getResultQuery(point.mainMetric) || NaN;\n    return result;\n  }\n\n  getValuesMainMetricOrientedLink(orientedLink: OrientedLinkClass): number {\n    reqMetricOrientedLink(orientedLink, this.props);\n    let result = 0;\n    result = getResultQuery(orientedLink.mainMetric) || NaN;\n    return result;\n  }\n\n  getValuesMainMetricOrientedLinkB(orientedLink: OrientedLinkClass) {\n    reqMetricOrientedLink(orientedLink, this.props);\n    let result = 0;\n    result = getResultQuery(orientedLink.mainMetricB) || NaN;\n    return result;\n  }\n\n  getValuesAuxiliaryMetricsPoint = (point: PointClass): string[] => {\n    reqMetricAuxPoint(point, this.props);\n    return this.getValuesAuxiliaryMetrics(point.metrics, point.mainMetric);\n  };\n\n  getValuesAuxiliaryMetricsOrientedLink = (orientedLink: OrientedLinkClass): string[] => {\n    reqMetricAuxOrientedLink(orientedLink, this.props);\n    return this.getValuesAuxiliaryMetrics(orientedLink.metrics, orientedLink.mainMetric);\n  };\n\n  getValuesAuxiliaryMetricsOrientedLinkB = (orientedLink: OrientedLinkClass): string[] => {\n    reqMetricAuxOrientedLink(orientedLink, this.props);\n    return this.getValuesAuxiliaryMetrics(orientedLink.metricsB, orientedLink.mainMetricB);\n  };\n\n  getValuesAuxiliaryMetrics = (auxiliaryMetrics: Metric[], mainMetric: Metric): string[] => {\n    let valueAuxiliaryMetric: string[] = [];\n    //const countMetrics: number = auxiliaryMetrics.length;\n    if (auxiliaryMetrics.length < 1) {\n      auxiliaryMetrics.forEach((metric: Metric) => {\n        let countTotalValues = 0;\n        let resultTotalValues = 0;\n        let result = '';\n        if (metric.returnQuery && metric.returnQuery.length > 0) {\n          let numberLoop: number = metric.returnQuery?.length || 0;\n          if (metric.key !== '' && metric.keyValue !== '') {\n            for (let i = 0; i < numberLoop; i++) {\n              let line = metric.returnQuery[i];\n              if (line.fields[0].labels) {\n                if (mainMetric.refId !== '') {\n                  if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                    if (line.fields[0].labels[metric.key] === metric.keyValue) {\n                      const countValues: number = line.fields[0].values.length;\n                      for (let i = 0; i < countValues; i++) {\n                        if (line.fields[0].values.get(i)) {\n                          resultTotalValues += line.fields[0].values.get(i);\n                          countTotalValues++;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          } else {\n            if (mainMetric.refId !== '') {\n              for (let i = 0; i < numberLoop; i++) {\n                let line = metric.returnQuery[i];\n                if (line.fields[0].labels) {\n                  if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                    const countValues: number = line.fields[0].values.length;\n                    for (let i = 0; i < countValues; i++) {\n                      if (line.fields[0].values.get(i)) {\n                        resultTotalValues += line.fields[0].values.get(i);\n                        countTotalValues++;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (metric.manageValue === 'avg') {\n            result = (resultTotalValues / countTotalValues).toString();\n          } else if (metric.manageValue === 'sum') {\n            result = resultTotalValues.toString();\n          } else if (metric.manageValue === 'err') {\n            if (countTotalValues > 1) {\n              result = 'error';\n            } else {\n              result = resultTotalValues.toString();\n            }\n          }\n        }\n        if (result !== '') {\n          valueAuxiliaryMetric.push(result);\n        }\n      });\n    }\n    return valueAuxiliaryMetric;\n  };\n\n  changeValueButtonToLink = () => {\n    this.setState({\n      valueButton: 'link',\n    });\n  };\n\n  changeValueButtonToIncurvedLink = () => {\n    this.setState({\n      valueButton: 'incurvedLink',\n    });\n  };\n\n  changeValueButtonToPoint = () => {\n    this.setState({\n      valueButton: 'point',\n    });\n  };\n\n  getCoordinates = (event: any) => {\n    const valueButton = this.state.valueButton;\n\n    if (this.state.numberClickDiv === 0) {\n      return;\n    }\n    if (valueButton === 'link') {\n      this.getCoordinatesToDrawOrientedLinkWithClick(event);\n    } else if (valueButton === 'incurvedLink') {\n      this.getCoordinatesToDrawIncurvedOrientedLinkWithClick(event);\n    } else if (valueButton === 'point') {\n      this.getCoordinatesToDrawPointWithClick(event);\n    }\n  };\n\n  /**\n   * add button click to manage region, point, oriented link, position legend\n   */\n  updateButtonCss = () => {\n    const final: JSX.Element = (\n      <div\n        id=\"allButton\"\n        style={{\n          marginTop: '1%',\n          marginBottom: '50px',\n          // display: 'flex',\n          // justifyContent: 'space-around',\n          // position: 'absolute',\n          // zIndex: 18,\n        }}\n      >\n        <Button\n          style={{\n            marginLeft: '1%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[0] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addNode}\n        >\n          Add Region\n        </Button>\n        <Button\n          style={{\n            marginLeft: '15%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[3] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addPoint}\n        >\n          Add Point\n        </Button>\n\n        <Button\n          style={{\n            marginLeft: '27%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[1] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addLink}\n        >\n          Add Oriented Link\n        </Button>\n\n        <Button\n          style={{\n            marginLeft: '46%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[4] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addIncurvedLink}\n        >\n          Add Incurved Oriented Link\n        </Button>\n\n        <Button\n          id=\"legnd\"\n          style={{\n            marginLeft: '67%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[2] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.closeLegend}\n        >\n          Position Legend\n        </Button>\n\n        <Button\n          id=\"zoomButton\"\n          style={{\n            marginLeft: '80%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[5] ? 'danger' : 'primary'}\n          onClick={this.ZoomSVG}\n        >\n          Zoom [P/M]\n        </Button>\n        {/* <Button id=\"zoomstop\" style={{ marginLeft: '89%', zIndex: 18, position: 'absolute' }} variant={'primary'} onClick={this.ZoomInactive}>\n          <i className=\"fa fa-stop\" aria-hidden=\"true\"></i>\n        </Button> */}\n      </div>\n    );\n    this.setState({\n      allActionButton: final,\n    });\n  };\n\n  callMethod = async () => {\n    if (this.state.numberClickDiv === 0) {\n      this.setState({ numberClickDiv: 1 });\n    } else {\n      await this.setAsyncButtonManage({\n        buttonManage: [false, false, false, false, false, false],\n      });\n      this.setState({\n        numberClickDiv: 0,\n      });\n      this.updateButtonCss();\n    }\n  };\n\n  setAsyncButtonManage = (state: { buttonManage: boolean[] }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  resetButtonManage = async (index: number) => {\n    let tmp: boolean[] = this.state.buttonManage;\n    const oldValue: boolean = tmp[index];\n\n    tmp = [false, false, false, false, false, this.state.buttonManage[5]];\n\n    if (oldValue) {\n      tmp[index] = false;\n      this.setState({\n        numberClickDiv: 0,\n      });\n    } else {\n      if (index === 2) {\n        this.setState({\n          hiddenLegend: false,\n          valueButton: '',\n        });\n      }\n      tmp[index] = true;\n      this.setState({\n        numberClickDiv: 1,\n      });\n    }\n    await this.setAsyncButtonManage({\n      buttonManage: tmp,\n    });\n    this.updateButtonCss();\n  };\n\n  addNode = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[0] ? false : true,\n    }));\n    this.resetButtonManage(0);\n    this.changeValueButtonToPoint();\n  };\n\n  addPoint = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[3] ? false : true,\n      valueButton: 'point',\n    }));\n    this.resetButtonManage(3);\n    this.changeValueButtonToPoint();\n  };\n\n  addLink = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[1] ? false : true,\n      buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n    }));\n    this.resetButtonManage(1);\n    this.changeValueButtonToLink();\n  };\n\n  addIncurvedLink = () => {\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[4] ? false : true,\n      buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n    }));\n    this.resetButtonManage(4);\n    this.changeValueButtonToIncurvedLink();\n  };\n\n  // Close Legend\n  closeLegend = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.resetButtonManage(2);\n  };\n\n  positionLegend = (e: any) => {\n    if (!this.state.buttonManage[2]) {\n      return;\n    }\n\n    const newLegend: Legend = this.state.legend;\n    const sizeTitlePanel = 28;\n\n    newLegend.x = e.nativeEvent.offsetX;\n    newLegend.y =\n      this.props.options.baseMap.height > e.nativeEvent.offsetY\n        ? parseInt(e.nativeEvent.offsetY, 10)\n        : parseInt(e.nativeEvent.offsetY, 10) - sizeTitlePanel;\n    newLegend.hiddenLegend = false;\n    this.setState({\n      legend: newLegend,\n    });\n    this.props.onOptionsChange({\n      ...this.props.options,\n      legend: newLegend,\n    });\n  };\n\n  ZoomSVG = () => {\n    let newButtonManage = this.state.buttonManage;\n    if (!newButtonManage[5]) {\n      newButtonManage[5] = true;\n      document.body.addEventListener('keyup', this.applyZoom);\n    } else if (newButtonManage[5]) {\n      newButtonManage[5] = false;\n      this.ZoomInactive();\n    }\n    this.setState({\n      buttonManage: newButtonManage,\n    });\n    this.updateButtonCss();\n  };\n\n  // Close legend click on close\n  handleClick = (event: any): void => {\n    const newLegend: Legend = this.state.legend;\n\n    newLegend.hiddenLegend = !this.state.legend.hiddenLegend;\n    this.setState((prevState: State) => ({\n      legend: newLegend,\n    }));\n  };\n\n  // SVG check url\n  tt = () => {\n    const test = document.getElementById('path836');\n    if (test) {\n      test.style.fill = 'red';\n    }\n  };\n\n  chargeRegion = () => {\n    // this.setState({\n    //   displayRegion: (\n    //     <DrawRectangle\n    //       key=\"limitCoor\"\n    //       color=\"orange\"\n    //       coordinateInitial={this.props.options.coordinateSpaceInitial}\n    //       id=\"initialSpace\"\n    //       onOptionsChange={this.props.onOptionsChange}\n    //       options={this.props.options}\n    //       data={this.props.data}\n    //       // isEnabled={!this.state.buttonManage[1]}\n    //       buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n    //       buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n    //     />\n    //   ),\n    // });\n  };\n\n  editIdString = (str: string): string => {\n    const cpyString: string = str.slice();\n    let strSplit: string[] = cpyString.split('id=\"');\n    let newStr = '';\n\n    for (let i = 0; strSplit.length > i; i++) {\n      if (strSplit[i]) {\n        if (i > 0) {\n          const tt: string = strSplit[i];\n          strSplit[i] = 'id=\"oct' + tt;\n        }\n        newStr = newStr + strSplit[i];\n      }\n    }\n    return newStr;\n  };\n\n  /**\n   * update button css when mount component\n   */\n  // not display Button of Panel if it is in the mode View\n  checkIfDisplayButton = () => {\n    const url: string = window.location.href;\n    const arrayUrl: string[] = url.split('&');\n    let canDisplayButton = false;\n    for (const element of arrayUrl) {\n      if (element === 'edit') {\n        canDisplayButton = true;\n      }\n    }\n    if (!canDisplayButton) {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: false,\n      });\n    }\n  };\n\n  /**\n   * update button css when mount component\n   */\n  componentDidMount = async () => {\n    // not display Button of Panel if it is in the mode View\n    this.checkIfDisplayButton();\n\n    // save background in state\n    // this.setState({\n    //   currentImage: this.props.options.baseMap.image,\n    // });\n    if (this.props.options.baseMap.image !== '') {\n      this.setState({\n        currentImage: this.props.options.baseMap.image,\n      });\n    }\n\n    // load backgroundSVG\n    if (this.props.options.baseMap.modeSVG && this.props.options.baseMap.image !== '') {\n      if (this.props.options.baseMap.isUploaded) {\n        let width = '';\n        let height = '';\n        const text = this.props.options.baseMap.image;\n        this.setState({ svg: text });\n        const result = /id=[\"']\\w*[\"']/i.exec(text);\n        const resultWidth = /width=[\"']\\w*[\"']/i.exec(text);\n        if (resultWidth && resultWidth.length > 0) {\n          width = resultWidth[0].split('\"')[1];\n        }\n        const resultHeight = /height=[\"']\\w*[\"']/i.exec(text);\n        if (resultHeight && resultHeight.length > 0) {\n          height = resultHeight[0].split('\"')[1];\n        }\n        if (result && result.length > 0) {\n          const id: string[] = result[0].split('\"');\n          if (id.length > 1) {\n            const newBaseMap: Background = this.props.options.baseMap;\n            newBaseMap.idSVG = id[1];\n            newBaseMap.layerImage = this.props.options.baseMap.image;\n            newBaseMap.width = parseInt(width || '0', 10).toString() || '';\n            newBaseMap.height = parseInt(height || '0', 10).toString() || '';\n            this.props.onOptionsChange({\n              ...this.props.options,\n              baseMap: newBaseMap,\n            });\n          }\n        }\n        this.chargeRegion();\n      } else {\n        fetch(this.props.options.baseMap.image)\n          .then((res) => res.text())\n          .then((text) => {\n            let data: any;\n            if (this.props.options.baseMap.image.split(',')[0] === 'base64') {\n              data = atob(this.props.options.baseMap.image.split(',')[1]);\n            } else {\n              data = text;\n            }\n            this.setState({ svg: data });\n            const result = /id=[\"']\\w*[\"']/i.exec(data);\n            if (result && result.length > 0) {\n              const id: string[] = result[0].split('\"');\n              if (id.length > 1) {\n                const documentId = document.getElementById(id[1]);\n                if (documentId) {\n                  const newBaseMap: Background = this.props.options.baseMap;\n                  newBaseMap.idSVG = id[1];\n                  // newBaseMap.width = documentId.getAttribute('width') || '';\n                  // newBaseMap.height = documentId.getAttribute('height') || '';\n                  newBaseMap.width = parseInt(documentId.getAttribute('width') || '0', 10).toString() || '';\n                  newBaseMap.height = parseInt(documentId.getAttribute('height') || '0', 10).toString() || '';\n                  this.props.onOptionsChange({\n                    ...this.props.options,\n                    baseMap: newBaseMap,\n                  });\n                }\n              }\n            }\n          })\n          .then(() => this.chargeRegion())\n          .then(() => {\n            const newStr: string = this.editIdString(this.state.svg);\n            const background: Background = this.props.options.baseMap;\n            background.layerImage = newStr;\n            this.props.onOptionsChange({ ...this.props.options, baseMap: background });\n          });\n      }\n    } else {\n      this.chargeRegion();\n    }\n\n    //Set value initialSpace with width and height of background\n    const coordinateSpace: CoordinateSpaceInitial = this.props.options.coordinateSpaceInitial;\n    coordinateSpace.coordinate.xMax = this.props.options.baseMap.width || '0';\n    coordinateSpace.coordinate.yMax = this.props.options.baseMap.height || '0';\n    // if (coordinateSpace.coordinate.xMax === '') {\n    //   coordinateSpace.coordinate.xMax = '0';\n    // }\n    // if (!coordinateSpace.coordinate.yMax) {\n    //   coordinateSpace.coordinate.yMax = '0';\n    // }\n    // this.props.onOptionsChange({\n    //   ...this.props.options,\n    //   coordinateSpaceInitial: coordinateSpace,\n    // });\n    this.updateButtonCss();\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.state.currentImage !== this.props.options.baseMap.image) {\n      this.componentDidMount();\n    }\n    //Set width initialSpace if new width in display\n    if (\n      this.props.options.baseMap.width !== this.props.options.coordinateSpaceInitial.coordinate.xMax &&\n      !this.props.options.updateOnlyInitialSpace\n    ) {\n      this.props.options.coordinateSpaceInitial.coordinate.xMax = this.props.options.baseMap.width || '0';\n    }\n    //Set height initialSpace if new height in display\n    if (\n      this.props.options.baseMap.height !== this.props.options.coordinateSpaceInitial.coordinate.yMax &&\n      !this.props.options.updateOnlyInitialSpace\n    ) {\n      this.props.options.coordinateSpaceInitial.coordinate.yMax = this.props.options.baseMap.height || '0';\n    }\n    // if (this.props.options.baseMap.image !== prevProps.options.baseMap.image) {\n    //   this.componentDidMount();\n    // }\n    if (this.props !== prevProps) {\n      this.chargeRegion();\n    }\n  }\n  // Zoom in Panel\n  /********************************  Zoom Panel*********************************** */\n  // Zoom Plus\n\n  ZoomInactive = () => {\n    document.body.removeEventListener('keyup', this.applyZoom);\n    const elmnt = document.getElementById('coordinateSpaces');\n    const button = document.getElementById('zoomButton');\n    if (elmnt && button && !this.state.buttonManage[5]) {\n      elmnt.style.cursor = 'default';\n    }\n    // if (elmnt) {\n    //   const stop = document.getElementById('zoomstop');\n    //   if (stop) {\n    //     // document.body.removeEventListener('keyup', this.ZoomSVG, true);\n    //   }\n    // }\n  };\n\n  applyZoom = (evt: any) => {\n    const elmnt = document.getElementById('coordinateSpaces');\n    const button = document.getElementById('zoomButton');\n\n    if (elmnt && evt.keyCode === 80) {\n      // m\n      if (button) {\n        // lol.style.background = 'linear-gradient(to bottom,#e02f44,#c4162a)';\n        elmnt.style.cursor = 'zoom-in';\n        elmnt.style.transform += 'scale(1.01,1.01)' + 'translate(0.5%)' + 'translateY(0.5%)';\n      }\n    } else if (elmnt && evt.keyCode === 77) {\n      // p\n      if (button) {\n        // lol.style.background = 'linear-gradient(to bottom,#e02f44,#c4162a);';\n        elmnt.style.cursor = 'zoom-out';\n        elmnt.style.transform += 'scale(0.98,0.98)' + 'translate(-1%)' + 'translateY(-1%)';\n      }\n    }\n  };\n\n  private displayAndGetPositionTooltipSVG = (event: any) => {\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n    let newDataSVG: DataTooltipRegionSVG = { idSVG: idSVG, x: '0', y: '0' };\n    for (const region of arrayRegions) {\n      if (region.idSVG === idSVG) {\n        let xSVG = 0;\n        let ySVG = 0;\n        let widthSVG = 0;\n        let heightSVG = 0;\n        let positionX = '0';\n        let positionY = '0';\n        let widthTooltip = 0;\n        let heightTooltip = 0;\n\n        const tooltip = document.getElementById('tooltipSVG');\n        if (tooltip) {\n          widthTooltip = parseInt(tooltip?.style.width, 10);\n          heightTooltip = parseInt(tooltip?.style.height, 10) ? parseInt(tooltip?.style.height, 10) : parseInt(tooltip?.style.minHeight, 10);\n        }\n\n        let positionParameter: any = '';\n        if (region.positionParameter.tooltipPositionA.value) {\n          positionParameter = region.positionParameter.tooltipPositionA.value.toLowerCase();\n        }\n\n        if (event.target.localName === 'rect') {\n          xSVG = parseInt(event.target.attributes['x'].nodeValue, 10);\n          ySVG = parseInt(event.target.attributes['y'].nodeValue, 10);\n          widthSVG = parseInt(event.target.attributes['width'].nodeValue, 10);\n          heightSVG = parseInt(event.target.attributes['height'].nodeValue, 10);\n          // positionX = (xSVG + widthSVG).toString();\n          // positionY = (ySVG - heightSVG / 2).toString();\n        } else if (event.target.localName === 'ellipse') {\n          xSVG = parseInt(event.target.attributes['cx'].nodeValue, 10);\n          ySVG = parseInt(event.target.attributes['cy'].nodeValue, 10);\n          widthSVG = parseInt(event.target.attributes['rx'].nodeValue, 10) * 2;\n          heightSVG = parseInt(event.target.attributes['ry'].nodeValue, 10) * 2;\n          // positionX = xSVG.toString();\n          // positionY = ySVG.toString();\n          if (positionParameter === 'top') {\n            positionX = (xSVG - widthTooltip / 2).toString();\n            positionY = (ySVG - heightTooltip - heightSVG / 2).toString();\n          } else if (positionParameter === 'bottom') {\n            positionX = (xSVG - widthTooltip / 2).toString();\n            positionY = (ySVG + heightSVG / 2).toString();\n          } else if (positionParameter === 'left') {\n            positionX = (xSVG - widthTooltip).toString();\n            positionY = ySVG.toString();\n          } else if (positionParameter === 'right') {\n            positionX = xSVG.toString();\n            positionY = ySVG.toString();\n          } else {\n            positionX = xSVG.toString();\n            positionY = ySVG.toString();\n          }\n        } else if (event.target.localName === 'path') {\n          const allValues: string = event.target.attributes['d'].nodeValue;\n          const arrayAllValues: string[] = allValues.split(' ');\n          let iX = -2;\n          let xMin = 1000000;\n          let xMax = 0;\n          let iY = -1;\n          let yMin = 1000000;\n          let yMax = 0;\n          for (let i = 0; i < arrayAllValues.length; i++) {\n            let valueToCheck = parseInt(arrayAllValues[i], 10);\n            if (i === iX + 3) {\n              if (valueToCheck < xMin) {\n                xMin = valueToCheck;\n              }\n              if (valueToCheck > xMax) {\n                xMax = valueToCheck;\n              }\n              iX = i;\n            }\n            if (i === iY + 3) {\n              if (valueToCheck < yMin) {\n                yMin = valueToCheck;\n              }\n              if (valueToCheck > yMax) {\n                yMax = valueToCheck;\n              }\n              iY = i;\n            }\n          }\n          xSVG = xMin;\n          ySVG = yMin;\n          widthSVG = xMax - xMin;\n          heightSVG = xMax - xMin;\n          // positionX = (xSVG + widthSVG).toString();\n          // positionY = ySVG.toString();\n        }\n\n        // define positionTooltip for path and rect\n        if (event.target.localName === 'path' || event.target.localName === 'rect') {\n          if (positionParameter === 'top') {\n            positionX = (xSVG + widthSVG / 4).toString();\n            positionY = (ySVG - heightSVG / 2).toString();\n          } else if (positionParameter === 'bottom') {\n            positionX = (xSVG + widthSVG / 4).toString();\n            positionY = (ySVG + heightSVG / 2).toString();\n          } else if (positionParameter === 'left') {\n            positionX = (xSVG - widthSVG).toString();\n            positionY = ySVG.toString();\n          } else if (positionParameter === 'right') {\n            positionX = (xSVG + widthSVG).toString();\n            positionY = ySVG.toString();\n          } else {\n            positionX = (xSVG + widthSVG).toString();\n            positionY = ySVG.toString();\n          }\n        }\n        newDataSVG.x = positionX;\n        newDataSVG.y = positionY;\n        this.setState({\n          dataTooltipSVG: newDataSVG,\n        });\n        const tooltipSVG: any = document.getElementById('tooltipSVG');\n        if (tooltipSVG) {\n          tooltipSVG.style.display = 'initial';\n        }\n      }\n    }\n  };\n\n  private hideTooltipSVG = (event: any) => {\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n    for (const region of arrayRegions) {\n      if (region.idSVG === idSVG) {\n        const tooltipSVG: any = document.getElementById('tooltipSVG');\n        tooltipSVG.style.display = 'none';\n      }\n    }\n  };\n\n  // Tooltip in Svg\n  //tooltip_SVG = () => {\n  //   const red = document.getElementById('part1');\n\n  //   red?.addEventListener('mouseenter', () => {\n  //     red.addEventListener('mouseover', () => {\n  //       const tooltip = document.createElement('span');\n  //       const texttest = document.createTextNode('rectanglered');\n  //       tooltip.appendChild(texttest);\n  //       red.appendChild(tooltip).style.position = 'absolute';\n  //       red.appendChild(tooltip).style.backgroundColor = '#000000';\n  //       red.appendChild(tooltip).style.padding = '8px';\n  //       red.appendChild(tooltip).style.float = 'top';\n  //       red.appendChild(tooltip).style.color = '#d8d9da';\n  //       red.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //       red.appendChild(tooltip).style.borderRadius = '2px';\n  //       red.appendChild(tooltip).style.fontWeight = '500';\n  //       red.addEventListener('mouseout', () => {\n  //         red.appendChild(tooltip).style.visibility = 'hidden';\n  //       });\n  //     });\n  //     const yellow = document.getElementById('part2');\n  //     yellow?.addEventListener('mouseenter', () => {\n  //       yellow.addEventListener('mouseover', () => {\n  //         const tooltip = document.createElement('span');\n  //         const texttest = document.createTextNode('rectangleyellow');\n  //         tooltip.appendChild(texttest);\n  //         yellow.appendChild(tooltip).style.position = 'absolute';\n  //         yellow.appendChild(tooltip).style.backgroundColor = '#000000';\n  //         yellow.appendChild(tooltip).style.padding = '8px';\n  //         yellow.appendChild(tooltip).style.float = 'top';\n  //         yellow.appendChild(tooltip).style.color = '#d8d9da';\n  //         yellow.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //         yellow.appendChild(tooltip).style.borderRadius = '2px';\n  //         yellow.appendChild(tooltip).style.fontWeight = '500';\n  //         yellow.addEventListener('mouseout', () => {\n  //           yellow.appendChild(tooltip).style.visibility = 'hidden';\n  //         });\n  //       });\n  //       const rect = document.getElementById('carre');\n  //       rect?.addEventListener('mouseenter', () => {\n  //         rect.addEventListener('mouseover', () => {\n  //           const tooltip = document.createElement('span');\n  //           const texttest = document.createTextNode('rectanglegreen');\n  //           tooltip.appendChild(texttest);\n  //           rect.appendChild(tooltip).style.position = 'absolute';\n  //           rect.appendChild(tooltip).style.backgroundColor = '#000000';\n  //           rect.appendChild(tooltip).style.padding = '8px';\n  //           rect.appendChild(tooltip).style.marginTop = '20%';\n  //           rect.appendChild(tooltip).style.color = '#d8d9da';\n  //           rect.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //           rect.appendChild(tooltip).style.borderRadius = '2px';\n  //           rect.appendChild(tooltip).style.fontWeight = '500';\n  //           rect.addEventListener('mouseout', () => {\n  //             rect.appendChild(tooltip).style.visibility = 'hidden';\n  //           });\n  //         });\n  //       });\n  //     });\n  //   });\n  // };\n\n  /*************************************test create tooltip **********************************************************/\n\n  SVG_PathImage = (event: any) => {\n    this.displayAndGetPositionTooltipSVG(event);\n    const elementSVG: any = event.target;\n    const parentElementSVG: any = elementSVG.parentNode;\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    for (const region of arrayRegion) {\n      if (region.idSVG === idSVG) {\n        const linkUrl: string = region.linkURL.followLink;\n        if (linkUrl && !document.getElementById('a' + idSVG) && !this.state.buttonAddIncurvedLinkIsActive && !this.state.buttonAddLinkIsActive) {\n          const aElement = document.createElementNS('http://www.w3.org/2000/svg', 'a');\n          aElement.setAttribute('id', 'a' + idSVG);\n          aElement.setAttribute('href', linkUrl);\n          aElement.appendChild(elementSVG);\n          parentElementSVG.appendChild(aElement);\n        }\n      }\n    }\n    // for (const line of this.props.options.regionCoordinateSpace) {\n    //   if (line.mode) {\n    //     const id: HTMLElement | null = document.getElementById('oct' + line.idSVG);\n    //     if (id) {\n    //       // const valueQuery = getResultQuery(line.mainMetric);\n    //       const test = document.getElementById('jeSuisLa' + line.id);\n    //       if (test) {\n    //         test.style.fill = 'red';\n    //       } else {\n    //         const textObj: TextObject = line.textObj;\n    //         if (\n    //           !textObj.isTextTooltip ||\n    //           (textObj.generateObjectText && textObj.valueGenerateObjectText && !textObj.valueGenerateObjectText.displayObjectInTooltip)\n    //         ) {\n    //           const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n    //           title.setAttribute('fill', 'yellow');\n    //           title.setAttributeNS('http://www.w3.org/1999/xlink', 'fill', 'yellow');\n    //           title.setAttribute('fill', 'red');\n    //           title.setAttributeNS('title', 'fill', 'red');\n    //           const text = getInfoDisplayRegion(line, this.props);\n\n    //           title.innerHTML = text.tooltip.modeText || '';\n    //           // title.textContent = valueQuery ? valueQuery.toString() : '';\n    //           title.id = 'jeSuisLa' + line.id;\n    //           title.style.fill = 'red';\n    //           id.appendChild(title);\n    //         }\n    //       }\n    //     }\n    //   }\n    // }\n  };\n\n  fillCoordinate = (): JSX.Element => {\n    const { options } = this.props;\n    const styleRegion = {\n      position: 'absolute',\n      width: options.baseMap.width + 'px',\n      height: options.baseMap.height + 'px',\n      top: '15%',\n      left: 0,\n    } as React.CSSProperties;\n    // const xMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMin, 10);\n    // const xMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMax, 10);\n    // const yMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMin, 10);\n    // const yMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMax, 10);\n    let mapItems: JSX.Element[];\n    mapItems = options.regionCoordinateSpace.map((line: RegionClass, index: number) => (\n      <DrawRectangleExtend\n        key={'drawRectangleExtend' + index.toString()}\n        uneCoor={line}\n        useLimit={false}\n        limit={options.coordinateSpaceInitial.coordinate}\n        onOptionsChange={this.props.onOptionsChange}\n        options={this.props.options}\n        data={this.props.data}\n        id={'region' + line.id.toString()}\n        //isEnabled={true}\n        buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n        buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n        widthInitialSpaceDefault={line.widthInitialSpaceDefault}\n        heightInitialSpaceDefault={line.heightInitialSpaceDefault}\n      />\n    ));\n    return <ul style={styleRegion}>{mapItems}</ul>;\n  };\n\n  getValuesAuxiliaryMetricsRegionSVG = (region: RegionClass): string[] => {\n    reqMetricAuxRegion(region, this.props);\n    return this.getValuesAuxiliaryMetrics(region.metrics, region.mainMetric);\n  };\n\n  private getConvertValueAuxMetrics = (valueBrut: string, region: RegionClass): string => {\n    let result = '';\n    const decimal: string = region.textObj.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n    const unit: string = region.textObj.generateAuxiliaryElement.unit;\n    if (decimal !== '') {\n      result = parseFloat(valueBrut).toPrecision(roundValue);\n    } else {\n      result = valueBrut;\n    }\n    return result + ' ' + unit;\n  };\n\n  private displayMetaDataRegionSVG = (region: RegionClass): JSX.Element => {\n    let resultHtml: JSX.Element[] = [];\n    const arrayMeta: Metadata[] = region.meta;\n    if (arrayMeta.length !== 0) {\n      resultHtml.push(\n        <p\n          key={'titleMetadataRegionSVG' + region.id + region.idSVG}\n          style={{\n            fontFamily: this.props.options.display.police,\n            fontSize: '10px',\n            marginTop: '5px',\n            marginBottom: '0px',\n            color: 'white',\n          }}\n        >\n          Metadata\n        </p>\n      );\n      let indexMeta = 0;\n      arrayMeta.forEach((meta) => {\n        const styleContentMetaData = {\n          color: meta.obj.colorText,\n          backgroundColor: meta.obj.colorBack,\n          fontWeight: meta.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: meta.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: meta.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.options.display.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        resultHtml.push(\n          <p key={indexMeta + 'textMetadataRegionSVG' + region.id} style={styleContentMetaData}>\n            {meta.meta}\n          </p>\n        );\n        indexMeta++;\n      });\n    }\n    return (\n      <div key={'metadataTooltipRegionSVG' + region.id + region.idSVG} id=\"metadataTooltipSVG\">\n        {resultHtml}\n      </div>\n    );\n  };\n\n  private displayAuxiliaryMetricsRegionSVG = (region: RegionClass): JSX.Element => {\n    let html: JSX.Element[] = [];\n    const valuesAuxMetrics: string[] = this.getValuesAuxiliaryMetrics(region.metrics, region.mainMetric);\n    const auxMetrics: Metric[] = region.metrics;\n    const addColorText: boolean = region.textObj.generateAuxiliaryElement.addColorTextElement;\n    const addColorBack: boolean = region.textObj.generateAuxiliaryElement.addColorBackElement;\n    const legend: string = region.textObj.generateAuxiliaryElement.legendElement;\n    let colorText = '';\n    let colorBack = '';\n\n    if (addColorText) {\n      colorText = region.textObj.generateAuxiliaryElement.colorTextElement;\n    } else {\n      colorText = 'white';\n    }\n\n    if (addColorBack) {\n      colorBack = region.textObj.generateAuxiliaryElement.colorBackElement;\n    } else {\n      colorBack = 'black';\n    }\n\n    const styleTitle = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleTitle2 = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleContent = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: colorText,\n      whiteSpace: 'nowrap',\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    if (auxMetrics.length > 0) {\n      html.push(\n        <p key={region.id + 'contentToolTip1'} style={styleTitle}>\n          Auxiliary Metric\n        </p>\n      );\n      html.push(\n        <p key={region.idSVG + 'contentToolTip2'} style={styleTitle}>\n          {legend}\n        </p>\n      );\n      let index = 1;\n      for (const metric of auxMetrics) {\n        const valueAuxMetric: string = this.getConvertValueAuxMetrics(valuesAuxMetrics[index - 1], region);\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip3'} style={styleTitle2}>\n            + Metric {index}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip4'} style={styleContent}>\n            - Value : {valueAuxMetric}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip5'} style={styleContent}>\n            - Key : {metric.key}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip6'} style={styleContent}>\n            - KeyValue : {metric.keyValue}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip7'} style={styleContent}>\n            - Type : {metric.manageValue}\n          </p>\n        );\n        index++;\n      }\n    }\n    return (\n      <div id=\"auxMetTooltipSVG\" style={{ backgroundColor: colorBack }}>\n        {html}\n      </div>\n    );\n  };\n\n  private defineMainMetric = (region: RegionClass): string => {\n    let result = '';\n    const legend: string = region.textObj.valueGenerateObjectText.legendElement;\n    const unit: string = region.textObj.valueGenerateObjectText.unit;\n    const decimal: string = region.textObj.valueGenerateObjectText.numericFormatElement;\n    //const roundMetrics: number = parseInt(decimal, 10) || 1;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n    const mainMetric: number = getResultQuery(region.mainMetric) || 0;\n\n    if (decimal !== '') {\n      result = mainMetric.toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    if (legend) {\n      result = legend + ': ' + result;\n    }\n    return result;\n  };\n\n  private defineTextDecoration = (region: RegionClass): string => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (region: RegionClass): string => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (region: RegionClass): any => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n  // Close Legend\n\n  private stopDisplayLegend = () => {\n    this.closeLegend();\n    this.setState({\n      hiddenLegend: true,\n    });\n  };\n\n  private htmlTooltipRegionSVG = (): JSX.Element => {\n    let regionSVG: RegionClass = initRegionCoordinateSpace(1000);\n    for (const region of this.props.options.regionCoordinateSpace) {\n      if (region.idSVG === this.state.dataTooltipSVG.idSVG) {\n        regionSVG = region;\n      }\n    }\n\n    const styleMainTooltipSVG = {\n      display: 'none',\n      position: 'absolute',\n      top: parseInt(this.state.dataTooltipSVG.y, 10),\n      left: parseInt(this.state.dataTooltipSVG.x, 10),\n      width: '150px',\n      minHeight: '100px',\n      zIndex: 9999,\n      //width: 'auto',\n      border: '1px solid black',\n      borderRadius: '5px',\n      backgroundColor: 'black',\n      padding: 5,\n    } as React.CSSProperties;\n\n    const styleLabelTooltipSVG = {\n      textDecoration: this.defineTextDecoration(regionSVG),\n      fontStyle: this.defineFontStyle(regionSVG),\n      fontWeight: this.defineFontWeight(regionSVG),\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n      color: regionSVG.textObj.colorText,\n      backgroundColor: regionSVG.textObj.colorBack,\n    } as React.CSSProperties;\n\n    const styleMainMetricTooltipSVG = {\n      textDecoration: this.defineTextDecoration(regionSVG),\n      fontStyle: this.defineFontStyle(regionSVG),\n      fontWeight: this.defineFontWeight(regionSVG),\n      color: regionSVG.textObj.valueGenerateObjectText.addColorTextElement ? regionSVG.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      backgroundColor: regionSVG.textObj.valueGenerateObjectText.addColorBackElement\n        ? regionSVG.textObj.valueGenerateObjectText.colorBackElement\n        : 'black',\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n      overflow: 'visible',\n    } as React.CSSProperties;\n\n    const styleElementTooltipSVG = {\n      color: 'white',\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n    } as React.CSSProperties;\n\n    let html: JSX.Element = <div></div>;\n    if (regionSVG.idSVG) {\n      html = (\n        <div\n          id=\"tooltipSVG\"\n          style={styleMainTooltipSVG}\n          onMouseOver={(event: any) => {\n            const tooltipSVG: any = document.getElementById('tooltipSVG');\n            if (\n              event.target.id === 'tooltipSVG' ||\n              event.target.parentElement.id === 'tooltipSVG' ||\n              event.target.id === 'auxMetTooltipSVG' ||\n              event.target.parentElement.id === 'auxMetTooltipSVG' ||\n              event.target.id === 'metadataTooltipSVG' ||\n              event.target.parentElement.id === 'metadataTooltipSVG'\n            ) {\n              tooltipSVG.style.display = 'initial';\n            }\n          }}\n          onMouseOut={(event: any) => {\n            const tooltipSVG: any = document.getElementById('tooltipSVG');\n            if (\n              event.target.id !== 'tooltipSVG' ||\n              event.target.parentElement.id !== 'tooltipSVG' ||\n              event.target.id !== 'auxMetTooltipSVG' ||\n              event.target.parentElement.id !== 'metadataTooltipSVG' ||\n              event.target.id !== 'metadataTooltipSVG' ||\n              event.target.parentElement.id !== 'auxMetTooltipSVG'\n            ) {\n              tooltipSVG.style.display = 'none';\n            }\n          }}\n        >\n          {regionSVG.textObj.isTextTooltip && <p style={styleLabelTooltipSVG}>{regionSVG.label}</p>}\n          {regionSVG.textObj.generateObjectText && regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip && (\n            <p style={styleMainMetricTooltipSVG}>{this.defineMainMetric(regionSVG)}</p>\n          )}\n          {regionSVG.textObj.generateAuxiliaryElement.displayObjectInTooltip && this.displayAuxiliaryMetricsRegionSVG(regionSVG)}\n          {this.displayMetaDataRegionSVG(regionSVG)}\n          <a style={styleElementTooltipSVG} href={regionSVG.linkURL.hoveringTooltipLink}>\n            {regionSVG.linkURL.hoveringTooltipText}\n          </a>\n        </div>\n      );\n    }\n\n    // if no data in tooltipRegionSVG => not display\n    if (\n      !regionSVG.textObj.isTextTooltip &&\n      (!regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip ||\n        (regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip &&\n          regionSVG.mainMetric.returnQuery &&\n          regionSVG.mainMetric.returnQuery.length === 0)) &&\n      regionSVG.metrics.length === 0 &&\n      regionSVG.meta.length === 0 &&\n      regionSVG.linkURL.hoveringTooltipText === ''\n    ) {\n      const tooltipSVG: any = document.getElementById('tooltipSVG');\n      if (tooltipSVG) {\n        tooltipSVG.style.display = 'none';\n      }\n    }\n    return html;\n  };\n\n  /*************************************** create link regionbyid**************************************** */\n\n  /*************************************test create tooltip **********************************************************/\n  //https://raw.githubusercontent.com/atosorigin/grafana-weathermap-panel/master/docs/resource/demo01-background.svg\n  /** render */\n  render() {\n    let styleBackground;\n    if (this.props.options.baseMap.modeSVG) {\n      styleBackground = {\n        height: this.props.options.baseMap.height + 'px',\n        width: this.props.options.baseMap.width + 'px',\n      } as React.CSSProperties;\n    } else {\n      if (this.props.options.baseMap.image.split(',')[0] === 'base64') {\n        styleBackground = {\n          position: 'absolute',\n          textAlign: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundImage: 'url(data:image/jpeg;' + this.props.options.baseMap.image + ')',\n          backgroundSize: this.props.options.baseMap.width + 'px' + ' ' + this.props.options.baseMap.height + 'px',\n          height: this.props.options.baseMap.height + 'px',\n          width: this.props.options.baseMap.width + 'px',\n          opacity: 0.8,\n          zIndex: 4,\n        } as React.CSSProperties;\n      } else {\n        styleBackground = {\n          position: 'absolute',\n          textAlign: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundImage: 'url(' + this.props.options.baseMap.image + ')',\n          backgroundSize: this.props.options.baseMap.width + 'px' + ' ' + this.props.options.baseMap.height + 'px',\n          height: this.props.options.baseMap.height + 'px',\n          width: this.props.options.baseMap.width + 'px',\n          opacity: 0.8,\n          zIndex: 4,\n        } as React.CSSProperties;\n      }\n    }\n\n    const styleSVG = {\n      position: 'absolute',\n      zIndex: 2,\n    } as React.CSSProperties;\n\n    const styleSVG_2 = {\n      position: 'absolute',\n      textAlign: 'center',\n      backgroundRepeat: 'no-repeat',\n      height: this.props.options.baseMap.height + 'px',\n      width: this.props.options.baseMap.width + 'px',\n      opacity: 0,\n      zIndex: 2,\n    } as React.CSSProperties;\n\n    const defaultStyle = {\n      height: '100vh',\n      width: '100vw',\n      fontFamily: this.props.options.display.police,\n      fontSize: this.props.options.display.size,\n      fontStyle: this.props.options.display.style.italic ? 'italic' : 'normal',\n      fontWeight: this.props.options.display.style.bold ? 'bold' : 'normal',\n      textDecoration: this.props.options.display.style.underline ? 'underline' : 'none',\n    } as React.CSSProperties;\n\n    return (\n      <CustomScrollbar autoHide={false} hideHorizontalTrack={false} autoHeightMax=\"100%\">\n        <div\n          id=\"zoom\"\n          style={{\n            display: 'inline-flex',\n            marginTop: '-7px',\n            marginLeft: '86%',\n          }}\n        ></div>\n        <div style={{ textAlign: 'left', position: 'relative', display: 'inline-grid' }}>\n          {this.props.options.displayButton && this.state.allActionButton}\n        </div>\n        <section style={defaultStyle} onClick={this.positionLegend}>\n          <div>\n            {this.state.buttonManage[0] && (\n              <div\n                style={{\n                  width: '200px',\n                  position: 'absolute',\n                  overflowY: 'scroll',\n                  marginLeft: '20%',\n                  marginRight: '20%',\n                  marginTop: '20%',\n                  marginBottom: '20%',\n                  border: '5px solid aliceblue',\n                  height: '40%',\n                }}\n              >\n                <p>hello</p>\n                <Modal title=\"Add Region\" onDismiss={this.addNode} onClickBackdrop={this.addNode} isOpen={this.state.nbClickButton}>\n                  <AddCoordinate\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={true}\n                    isPoint={false}\n                    isLink={false}\n                  />\n                </Modal>\n              </div>\n            )}\n            {!this.state.hiddenLegend && (\n              <LegendComponant\n                options={this.props.options}\n                onOptionsChange={this.props.onOptionsChange}\n                data={this.props.data}\n                // legend={this.props.options.legend}\n                {...this.props.options.legend}\n                callBack={this.handleClick}\n                callBackClose={this.stopDisplayLegend}\n              />\n            )}\n            <div onClick={this.callMethod}></div>\n            <div onClick={this.getCoordinates} id=\"coordinateSpaces\" style={styleBackground}>\n              {this.defineLimit()}\n              <div>\n                <div className=\"tooltip\" />\n                {/* {this.fillCoordinate()} */}\n                <div id=\"mainPanel\" style={{ position: 'absolute', zIndex: 1 }}>\n                  <div\n                    style={styleSVG}\n                    // onMouseOver={this.SVG_PathImage}\n                    dangerouslySetInnerHTML={{ __html: this.state.svg }}\n                  />\n                  <div\n                    id=\"Intent\"\n                    style={styleSVG_2}\n                    onMouseOver={this.SVG_PathImage}\n                    // && this.CreateLinkArea\n                    // && this.displayTooltipSVG\n                    // onMouseOver={event => {\n                    //   this.displayTooltipSVG(event);\n                    // }}\n                    onMouseOut={(event) => {\n                      this.hideTooltipSVG(event);\n                    }}\n                    dangerouslySetInnerHTML={{ __html: this.props.options.baseMap.layerImage }}\n                  />\n                  {/* <div onClick={this.CreateLinkArea}></div> */}\n                  {this.htmlTooltipRegionSVG()}\n\n                  {/* Ordre d'affichage du plus éloigné au plus proche : background - liens - régions - points*/}\n                  {this.displayOrientedLink()}\n                  {this.fillCoordinate()}\n                  {this.displayPoint()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </CustomScrollbar>\n    );\n  }\n}\n","import React from 'react';\n\nimport { SimpleOptions } from 'types';\nimport { PanelEditorProps } from '@grafana/data';\n\nimport { RegionClass } from 'Models/RegionClass';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { initPoint } from 'Functions/initPoint';\nimport { initOrientedLink } from 'Functions/initOrientedLink';\n\nimport CoordinateSpace from 'components/CoordinateSpace/coordinateSpace';\nimport Point from './point/point';\nimport OrientedLink from './orientedLink/orientedLink';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** return to edit mode after save */\n  returnEditMode?: () => void;\n  isRegion: boolean;\n  isPoint: boolean;\n  isLink: boolean;\n}\n\ninterface State {\n  /** data for new CoordinateSpaceExtendClass */\n  coordinate?: RegionClass;\n  point?: PointClass;\n  orientedLink?: OrientedLinkClass;\n}\n\n/** Add new coordinate space */\nclass AddCoordinate extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      coordinate: undefined,\n      point: undefined,\n      orientedLink: undefined,\n    };\n  }\n\n  /** search new id for espacecoordinneesclass */\n  searchNewId = (allCoordinateSpace: RegionClass[]): number => {\n    let id = -1;\n\n    for (const line of allCoordinateSpace) {\n      if (line.id > id) {\n        id = line.id;\n      }\n    }\n    id += 1;\n    return id;\n  };\n\n  private defineIdPoint = (): number => {\n    let id = 1;\n    if (this.props.options.arrayPoints.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayPoints[this.props.options.arrayPoints.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  private defineIdOrientedLink = (): number => {\n    let id = 1;\n    if (this.props.options.arrayOrientedLinks.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayOrientedLinks[this.props.options.arrayOrientedLinks.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  lastId = () => {\n    const allRegion = this.props.options.regionCoordinateSpace;\n    let id = 0;\n    for (const line of allRegion) {\n      if (line.id > id) {\n        id = line.id;\n      }\n    }\n    return id;\n  };\n\n  /** call init class for coordinate state */\n  componentDidMount = (): void => {\n    if (this.props.isRegion) {\n      this.setState({\n        coordinate: initRegionCoordinateSpace(this.lastId()),\n      });\n    } else if (this.props.isPoint) {\n      let id = this.defineIdPoint();\n      this.setState({\n        point: initPoint(id),\n      });\n    } else if (this.props.isLink) {\n      let id = this.defineIdOrientedLink();\n      const newZIndex: number = this.props.options.zIndexOrientedLink + 1;\n      this.setState({\n        orientedLink: initOrientedLink(id, newZIndex),\n      });\n      this.props.onOptionsChange({\n        ...this.props.options,\n        zIndexOrientedLink: newZIndex,\n      });\n    }\n  };\n\n  /** update onOptionsChange */\n  setAsyncOption = (newIdx: number) => {\n    return Promise.resolve('Success').then(() => {\n      if (this.props.isRegion) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexRegion: newIdx,\n        });\n      } else if (this.props.isPoint) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexPoint: newIdx,\n        });\n      } else if (this.props.isLink) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexOrientedLink: newIdx,\n        });\n      }\n    });\n  };\n\n  /** send data of region for parent */\n  callBack = async (id: number, newCoordinate?: RegionClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n      // this.componentDidMount();\n    }\n  };\n\n  /** send data of point for parent */\n  callBackPoint = async (id: number, newCoordinate?: PointClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: PointClass[] = this.props.options.arrayPoints.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n    }\n  };\n\n  /** send data of orientedLink for parent */\n  callBackOrientedLink = async (id: number, newCoordinate?: OrientedLinkClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n    }\n  };\n\n  /** result */\n  render() {\n    if (this.props.isRegion) {\n      return (\n        <div>\n          {this.state.coordinate && (\n            <CoordinateSpace\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              coordinate={this.state.coordinate}\n              callBackToParent={this.callBack}\n              isAddCoordinate={true}\n            />\n          )}\n        </div>\n      );\n    } else if (this.props.isPoint) {\n      return (\n        <div>\n          {this.state.point && (\n            <Point\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              point={this.state.point}\n              callBackToParent={this.callBackPoint}\n              isAddPoint={true}\n            />\n          )}\n        </div>\n      );\n    } else if (this.props.isLink) {\n      return (\n        <div>\n          {this.state.orientedLink && (\n            <OrientedLink\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              orientedLink={this.state.orientedLink}\n              callBackToParent={this.callBackOrientedLink}\n              isAddLink={true}\n            />\n          )}\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\nexport default AddCoordinate;\n","import React, { CSSProperties } from 'react';\nimport { SimpleOptions, Metric, Metadata } from 'types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Button, Select, Alert, FormField, FormLabel } from '@grafana/ui';\n\nimport { ArrayInputClass } from 'Models/ArrayInputClass';\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { InputClass } from 'Models/InputClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputButtonField from 'Functions/Input/inputButton';\nimport InputTextField from 'Functions/Input/inputText';\nimport { createInputCoor } from 'Functions/CreateInput/createInputCoor';\nimport { editGoodParameterExtend } from 'Functions/EditParameter/editGoodParameter';\nimport { returnAllId } from 'Functions/searchIDLimit';\nimport { cloneRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\nimport ManageLowerLimit from 'components/Parametrage/manageLowerLimit';\nimport ManageQuery from './manageQuery';\nimport ParametresGeneriques from 'components/Parametrage/parametresGeneriques';\n\nimport 'style/CoordinateSpace.css';\nimport ManageAuxiliaryQuery from './manageAuxiliaryQuery';\n\nimport ManageMetadata from '../../components/CoordinateSpace/manageMetada';\nimport PositionParameter from 'components/Parametrage/positionParameters';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\nexport declare type AlertVariant = 'success' | 'warning' | 'error' | 'info';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** if it's parent component is add then don't display delete button  */\n  isAddCoordinate: boolean;\n  /** coordinate to edit */\n  coordinate: RegionClass;\n  /** save data in parent */\n  callBackToParent: (id: number, newCoordinate?: RegionClass) => void;\n  /** id coordinateSpace */\n  id?: number;\n}\n\ninterface State {\n  /** stock coordinates in array object for Parent Component */\n  arrayCoor: RegionClass;\n  /** stock HTML input coordinates */\n  arrayInput: ArrayInputClass[];\n  /** stock html form */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n  /** choice svg mode */\n  selectedRadio: string;\n  /** selectedSVG */\n  allIDSelected: Array<SelectableValue<string>>;\n  /** selectedDefault id svg */\n  selectedDefaultSVG: SelectableValue<string>;\n}\n\n/**\n * component edit space coordinate\n */\nclass CoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayCoor: cloneRegionCoordinateSpace(\n        this.props.coordinate,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayInput: [],\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n      selectedRadio: 'svgMode',\n      allIDSelected: [],\n      selectedDefaultSVG: [],\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncArrayCoor = (state: {\n    /** new espace coordinate */\n    arrayCoor: RegionClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([new ArrayInputClass(id, createInputCoor(id, false))]),\n    });\n  };\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const del: boolean = confirm('Delete \"' + this.state.arrayCoor.label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.arrayCoor.id, undefined);\n    }\n\n    // update by default SVG style after delete regionSVG\n    if (this.state.arrayCoor.idSVG) {\n      const htmlRegionSVG = document.getElementById(this.state.arrayCoor.idSVG);\n      if (htmlRegionSVG) {\n        htmlRegionSVG.style.fill = 'white';\n        htmlRegionSVG.style.fillOpacity = '';\n        htmlRegionSVG.style.stroke = 'white';\n        htmlRegionSVG.style.strokeOpacity = '';\n        htmlRegionSVG.style.strokeWidth = '';\n      }\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: RegionClass = this.state.arrayCoor;\n\n    // UPDATE xMinDefault and xMaxDefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    let newCoordDefault: Coord4D = tmp.coordsDefault;\n    if (name.startsWith('positionXMin')) {\n      newCoordDefault.xMin = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n    if (name.startsWith('positionXMax')) {\n      newCoordDefault.xMax = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE yMinDefault and yMaxDefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('positionYMin')) {\n      newCoordDefault.yMin = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n    if (name.startsWith('positionYMax')) {\n      newCoordDefault.yMax = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n    tmp.coordsDefault = newCoordDefault;\n\n    tmp = editGoodParameterExtend(name, tmp, currentTarget);\n    this.setState({\n      arrayCoor: tmp,\n    });\n    this.fillInputEspaceCoor();\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayCoor\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  getGoodValue(id: number, param: string): string {\n    let value: string;\n\n    value = '';\n    if (param.startsWith('positionXMin')) {\n      value = this.state.arrayCoor.coords.xMin;\n    } else if (param.startsWith('positionXMax')) {\n      value = this.state.arrayCoor.coords.xMax;\n    } else if (param.startsWith('positionYMin')) {\n      value = this.state.arrayCoor.coords.yMin;\n    } else if (param.startsWith('positionYMax')) {\n      value = this.state.arrayCoor.coords.yMax;\n    } else if (param.startsWith('label')) {\n      value = this.state.arrayCoor.label;\n    } else if (param.startsWith('image')) {\n      value = this.state.arrayCoor.img;\n    } else if (param.startsWith('key')) {\n      value = this.state.arrayCoor.mainMetric.key;\n    } else if (param.startsWith('valueKey')) {\n      value = this.state.arrayCoor.mainMetric.keyValue;\n    }\n    return value;\n  }\n\n  /** create dynamic input */\n  fillInputEspaceCoor(): void {\n    const { arrayInput } = this.state;\n    let finalItem: JSX.Element[] = [];\n\n    for (const line of arrayInput) {\n      const mapItems = line.getUneClassInput().map((obj: InputClass) =>\n        obj.getInputType() === 'text' ? (\n          <InputTextField\n            key={obj.getId()}\n            label={obj.getLabel()}\n            name={obj.getName()}\n            placeholder={obj.getPlaceholder() || ''}\n            required={obj.getRequired()}\n            value={this.getGoodValue(line.getId(), obj.getName())}\n            _handleChange={(event: {\n              /** get currentTarget in event element */\n              currentTarget: HTMLInputElement;\n            }) => this._handleChange(event.currentTarget.value, obj.getName(), line.getId())}\n          />\n        ) : !this.props.isAddCoordinate ? (\n          <InputButtonField\n            key={obj.getId()}\n            label={obj.getLabel()}\n            value={obj.getValue() || ''}\n            name={obj.getName()}\n            required={obj.getRequired()}\n            _handleChange={this.deleteOwnInput}\n            id={obj.getId()}\n          />\n        ) : (\n          <div></div>\n        )\n      );\n      const divKey: string = 'inputCoor' + line.getId().toString();\n      const newInput: JSX.Element = (\n        <div key={'addCoordinate' + divKey} className=\"inputCoor\">\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInput);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n      selectedRadio: prevState.arrayCoor.mode ? 'svgMode' : 'coordinateMode',\n    }));\n  }\n\n  /** edit value for selectedDefaultValue and edit idSVG arrayCoor */\n  onChangeSelectSVG = (value: SelectableValue<string>) => {\n    // const newId: SelectableValue<string> = value;\n    const coordinate: RegionClass = this.state.arrayCoor;\n    coordinate.idSVG = value.value || '';\n    this.setState({\n      selectedDefaultSVG: value,\n      arrayCoor: coordinate,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    // Define defaultCoor + defaultWidth + default height to creation of region\n    let newArrayCoor = this.state.arrayCoor;\n    // newArrayCoor.coordsDefault = {\n    //   xMin: this.state.arrayCoor.coords.xMin,\n    //   xMax: this.state.arrayCoor.coords.xMax,\n    //   yMin: this.state.arrayCoor.coords.yMin,\n    //   yMax: this.state.arrayCoor.coords.yMax,\n    // };\n    newArrayCoor.widthInitialSpaceDefault = (\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10) -\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10)\n    ).toString();\n    newArrayCoor.heightInitialSpaceDefault = (\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10) -\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10)\n    ).toString();\n    this.setState({\n      arrayCoor: newArrayCoor,\n    });\n\n    const waitAlert = 3000;\n\n    if (this.state.arrayCoor.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n    } else {\n      this.props.callBackToParent(this.state.arrayCoor.id, this.state.arrayCoor);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddCoordinate) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  /** save data in parent */\n  callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: RegionClass = this.state.arrayCoor;\n    // if (followLink || followLink === '') {\n    //   oldCoor.linkURL.followLink = followLink;\n    // }\n    // if (hoveringTooltipLink || hoveringTooltipLink === '') {\n    //   oldCoor.linkURL.hoveringTooltipLink = hoveringTooltipLink;\n    // }\n    // if (hoveringTooltipText || hoveringTooltipText === '') {\n    //   oldCoor.linkURL.hoveringTooltipText = hoveringTooltipText;\n    // }\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      arrayCoor: oldCoor,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  callBackManageLowerLimit = (coordiante: CoordinateSpaceClass) => {\n    const newValue: RegionClass = this.state.arrayCoor;\n\n    newValue.colorMode = coordiante.colorMode;\n    newValue.traceBorder = coordiante.traceBorder;\n    newValue.traceBack = coordiante.traceBack;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  callBackLowerLimit = (lowerLimit: LowerLimitClass[]) => {\n    const newValue: RegionClass = this.state.arrayCoor;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** save mainMetric data */\n  callBackMainMetric = (mainMetric: Metric): void => {\n    const newValue: RegionClass = this.state.arrayCoor;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** change value radio button checker to pass svg or coordinate mode */\n  onChangeRadioMode = (event: {\n    /** get current value to target */\n    currentTarget: HTMLInputElement;\n  }) => {\n    const coordinate: RegionClass = this.state.arrayCoor;\n\n    coordinate.mode = event.currentTarget.value === 'svgMode' ? true : false;\n    this.setState({\n      selectedRadio: event.currentTarget.value,\n      arrayCoor: coordinate,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** add all id SVG in select */\n  fillSelectSVG = () => {\n    const selectedIDSvg: Array<SelectableValue<string>> = [];\n    if (this.state.allIDSelected.length > 0) {\n      const allIDSelected: Array<SelectableValue<string>> = this.state.allIDSelected;\n      let defaultSVG: SelectableValue<string> = allIDSelected[0];\n      for (const line of allIDSelected) {\n        if (line.value === this.state.arrayCoor.idSVG) {\n          defaultSVG = line;\n        }\n      }\n      this.setState({\n        selectedDefaultSVG: defaultSVG,\n      });\n      return;\n    }\n    const timeRefresh = 1000;\n    if (this.props.options.baseMap.modeSVG) {\n      const refresh = setInterval(() => {\n        const data: string[] = returnAllId(this.props.options.coordinateSpaceInitial.coordinate, this.props.options.baseMap);\n\n        if (data.length > 0) {\n          for (const line of data) {\n            selectedIDSvg.push({ value: line, label: line });\n          }\n          let defaultSVG: SelectableValue<string> = selectedIDSvg[0];\n          for (const line of selectedIDSvg) {\n            if (line.value === this.state.arrayCoor.idSVG) {\n              defaultSVG = line;\n            }\n          }\n          this.setState({\n            allIDSelected: selectedIDSvg,\n            selectedDefaultSVG: defaultSVG,\n          });\n          clearInterval(refresh);\n        }\n        // else {\n        // \tconsole.error('error search id');\n        // }\n      }, timeRefresh);\n    }\n  };\n\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.coordinate.id);\n    this.fillInputEspaceCoor();\n    this.fillSelectSVG();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n  // meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.arrayCoor;\n    old.meta = meta;\n    this.setState({\n      arrayCoor: old,\n    });\n  };\n\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.coordinate.id !== this.props.coordinate.id) {\n      await this.setStateAsyncArrayCoor({\n        arrayCoor: cloneRegionCoordinateSpace(\n          this.props.coordinate,\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n          parseInt(this.props.options.baseMap.width, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n          parseInt(this.props.options.baseMap.height, 10)\n        ),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /** return html */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.arrayCoor.id}\n            mainMetric={this.state.arrayCoor.mainMetric}\n            callBackToParent={this.callBackMainMetric}\n            isLink={false}\n          />\n        </div>\n        {!this.props.isAddCoordinate && (\n          <div>\n            <ManageAuxiliaryQuery\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.arrayCoor.id}\n              metrics={this.state.arrayCoor.metrics}\n              //callBackToParent={this.callBackAuxiliaryMetric}\n              isRegion={true}\n            />\n          </div>\n        )}\n        {!this.props.isAddCoordinate && (\n          <div>\n            <ManageMetadata\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.arrayCoor.id}\n              type=\"region\"\n              saveToParent={this.saveMetaData}\n            />\n          </div>\n        )}\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.arrayCoor}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.arrayCoor}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={false}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={() => {}}\n            isPoint={false}\n            isLink={false}\n            isRegion={true}\n            id={this.state.arrayCoor.id}\n          />\n        </div>\n        <br />\n        <div>\n          <div className=\"radio\">\n            <label>\n              <input type=\"radio\" value=\"svgMode\" checked={this.state.selectedRadio === 'svgMode'} onChange={this.onChangeRadioMode} />\n              SVG mode\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input type=\"radio\" value=\"coordinateMode\" checked={this.state.selectedRadio === 'coordinateMode'} onChange={this.onChangeRadioMode} />\n              Coordinate mode\n            </label>\n          </div>\n          <br></br>\n          {this.state.selectedRadio === 'svgMode' ? (\n            <div className=\"svgMode\">\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>Zone SVG</FormLabel>\n                <Select\n                  onChange={(value) => this.onChangeSelectSVG(value)}\n                  allowCustomValue={false}\n                  options={this.state.allIDSelected}\n                  width={10}\n                  value={this.state.selectedDefaultSVG}\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"classRegion\">\n              <FormField\n                label=\"Image\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.img}\n                name=\"image\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'image', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"X min\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.xMin}\n                name=\"positionXMin\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionXMin', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"X max\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.xMax}\n                name=\"positionXMax\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionXMax', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"Y min\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.yMin}\n                name=\"positionYMin\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionYMin', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"Y max\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.yMax}\n                name=\"positionYMax\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionYMax', this.state.arrayCoor.id)}\n              />\n            </div>\n          )}\n        </div>\n        <br />\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddCoordinate && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddCoordinate && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default CoordinateSpace;\n","import React from 'react';\n\nimport { SimpleOptions } from 'types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { RegionClass } from 'Models/RegionClass';\n\nimport CoordinateSpace from './coordinateSpace';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<RegionClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<RegionClass>;\n}\n\ninterface SelectRegion {\n  value: RegionClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditCoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: RegionClass): void => {\n    if (newCoordinate) {\n      // update region\n      const oldData: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: oldData,\n      });\n    } else {\n      // delete region\n      let find = false;\n      const oldData: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          regionCoordinateSpace: oldData,\n        });\n        this.fillSelectRegionSpace();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<RegionClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectRegionSpace = () => {\n    let valueExist = false;\n    const valueSelect: SelectRegion[] = [];\n    const stockTmpCoordinatesSpace: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n\n    for (const line of stockTmpCoordinatesSpace) {\n      valueSelect.push({ value: line, label: line.label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectRegionSpace();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.regionCoordinateSpace !== this.props.options.regionCoordinateSpace) {\n      this.fillSelectRegionSpace();\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Region</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <CoordinateSpace\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              coordinate={this.state.selectCoordinateSpaceDefault.value} // selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddCoordinate={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditCoordinateSpace;\n","import React from 'react';\nimport { SimpleOptions, TManageValue, Metric } from '../../types';\n\nimport { PanelEditorProps, SelectableValue, DataFrame } from '@grafana/data';\nimport { Select, FormField, Collapse, FormLabel, Button } from '@grafana/ui';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate. Use to check if componentDidUpdate launch update */\n  idCoordinate: number;\n  /** parent data */\n  metrics: Metric[];\n  /** check if coordinateSpace is OrientedLink */\n  isLink?: boolean;\n  /** check if coordinateSpace is Point */\n  isPoint?: boolean;\n  /** check if coordinateSpace is Region */\n  isRegion?: boolean;\n}\n\ninterface State {\n  /** collapse AuxMetric open or close */\n  collapse: boolean;\n  /** collapse linkA if orientedLink is bidirectionnal open or close */\n  collapseLinkA: boolean;\n  /** collapse linkB if orientedLink is bidirectionnal open or close */\n  collapseLinkB: boolean;\n  // /**  */\n  // selectQuery: Array<SelectableValue<DataFrame>>;\n  // /** */\n  // selectQueryDefault: SelectableValue<DataFrame>;\n  // /** */\n  // currentRefQuery: string;\n  // /** */\n  // currentRefQueryB: string;\n}\n/**\n * def\n */\nclass ManageAuxiliaryQuery extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapse: false,\n      collapseLinkA: false,\n      collapseLinkB: false,\n      // selectQuery: [],\n      // selectQueryDefault: [],\n      // currentRefQuery: '',\n      // currentRefQueryB: '',\n    };\n  }\n\n  private saveAuxMetrics = (newAuxMetrics: Metric[], isLinkB: boolean) => {\n    const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n    if (this.props.isPoint) {\n      const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of newArrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          point.metrics = newAuxMetrics;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: newArrayPoints,\n      });\n    } else if (this.props.isLink) {\n      const newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          if (isLinkB) {\n            orientedLink.metricsB = newAuxMetrics;\n          } else {\n            orientedLink.metrics = newAuxMetrics;\n          }\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: newArrayLink,\n      });\n    } else if (this.props.isRegion) {\n      const newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of newArrayRegion) {\n        if (region.id === idCurrentCoordinateSpace) {\n          region.metrics = newAuxMetrics;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: newArrayRegion,\n      });\n    }\n  };\n\n  private getAuxiliaryMetrics = (isLinkB: boolean): Metric[] => {\n    let auxiliaryMetrics: Metric[] = [];\n    const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n    if (this.props.isLink) {\n      const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of arrayOrientedLinks) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          if (isLinkB) {\n            auxiliaryMetrics = orientedLink.metricsB;\n          } else {\n            auxiliaryMetrics = orientedLink.metrics;\n          }\n        }\n      }\n    } else if (this.props.isPoint) {\n      const arrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of arrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          auxiliaryMetrics = point.metrics;\n        }\n      }\n    } else if (this.props.isRegion) {\n      const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of arrayRegions) {\n        if (region.id === idCurrentCoordinateSpace) {\n          auxiliaryMetrics = region.metrics;\n        }\n      }\n    }\n    return auxiliaryMetrics;\n  };\n\n  // private getReferenceMainMetric = (isLinkB: boolean): string => {\n  //   let newRefId = '';\n  //   const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n  //   if (this.props.isLink) {\n  //     const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n  //     for (const orientedLink of arrayOrientedLinks) {\n  //       if (orientedLink.id === idCurrentCoordinateSpace) {\n  //         if (isLinkB) {\n  //           newRefId = orientedLink.mainMetricB.refId || '';\n  //         } else {\n  //           newRefId = orientedLink.mainMetric.refId || '';\n  //         }\n  //       }\n  //     }\n  //   } else if (this.props.isPoint) {\n  //     const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n  //     for (const point of newArrayPoints) {\n  //       if (point.id === idCurrentCoordinateSpace) {\n  //         newRefId = point.mainMetric.refId || '';\n  //       }\n  //     }\n  //   } else if (this.props.isRegion) {\n  //     const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n  //     for (const region of arrayRegions) {\n  //       if (region.id === idCurrentCoordinateSpace) {\n  //         newRefId = region.mainMetric.refId || '';\n  //       }\n  //     }\n  //   }\n  //   const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n  //   for (const metric of newAuxiliaryMetrics) {\n  //     if (metric.refId !== newRefId) {\n  //       metric.refId = newRefId;\n  //       this.saveAuxMetrics(newAuxiliaryMetrics, isLinkB);\n  //     }\n  //   }\n  //   return newRefId;\n  // };\n\n  /** switch value collapse when click collapse */\n  private onToggleCollapse = (isOpen: boolean) => {\n    this.setState({\n      collapse: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkA when click collapse */\n  private onToggleCollapseLinkA = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkA: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkB when click collapse */\n  private onToggleCollapseLinkB = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkB: isOpen,\n    });\n  };\n\n  private getAllQuery = (id: string): Array<SelectableValue<DataFrame>> => {\n    let allQuery: Array<SelectableValue<DataFrame>> = [];\n    allQuery.push({ id: id, value: undefined, label: 'No value' });\n    for (const line of this.props.data.series) {\n      let duplicate = false;\n      for (const valueSave of allQuery) {\n        if (valueSave.value?.refId === line.refId) {\n          duplicate = true;\n          break;\n        }\n      }\n      if (!duplicate) {\n        allQuery.push({ id: id, value: line, label: line.refId });\n      }\n    }\n    return allQuery;\n  };\n\n  private getCurrentQuery = (id: string, isLinkB: boolean): SelectableValue<DataFrame> => {\n    let currentQuery: SelectableValue<DataFrame> = [];\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    currentQuery = { id: id, label: newAuxiliaryMetrics[parseInt(id, 10)].refId };\n    return currentQuery;\n  };\n\n  private getCurrentQueryB = (id: string, isLinkB: boolean): SelectableValue<DataFrame> => {\n    let currentQuery: SelectableValue<DataFrame> = [];\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    currentQuery = { id: id, label: newAuxiliaryMetrics[parseInt(id, 10)].refId };\n    return currentQuery;\n  };\n\n  /** edit value for select */\n  private onChangeSelectQuery = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].refId = event.label;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  /** edit value for select */\n  private onChangeSelectQueryB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].refId = event.label;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeKey = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const idCurrentAuxMetrics: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[idCurrentAuxMetrics].key = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeKeyB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const idCurrentAuxMetrics: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[idCurrentAuxMetrics].key = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeValueKey = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[id].keyValue = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeValueKeyB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[id].keyValue = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeManageValue = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].manageValue = event.value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeManageValueB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].manageValue = event.value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private addAuxiliaryMetric = () => {\n    // const refIdMetric: string = this.state.currentRefQuery;\n    let newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    newAuxiliaryMetrics.push({\n      key: '',\n      unit: '',\n      format: '',\n      keyValue: '',\n      refId: '',\n      manageValue: 'avg',\n    });\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n    this.displayInputs(false);\n  };\n\n  private addAuxiliaryMetricB = () => {\n    // const refIdMetric: string = this.state.currentRefQueryB;\n    let newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    newAuxiliaryMetrics.push({\n      key: '',\n      unit: '',\n      format: '',\n      keyValue: '',\n      refId: '',\n      manageValue: 'avg',\n    });\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n    this.displayInputs(true);\n  };\n\n  private deleteAuxiliaryMetric = (event: any) => {\n    const id: number = event.currentTarget.id;\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    newAuxiliaryMetrics.splice(id, 1);\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n    this.displayInputs(false);\n  };\n\n  private deleteAuxiliaryMetricB = (event: any) => {\n    const id: number = event.currentTarget.id;\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    newAuxiliaryMetrics.splice(id, 1);\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n    this.displayInputs(true);\n  };\n\n  private getAllManageValue = (id: string): Array<SelectableValue<TManageValue>> => {\n    const selectManageValue: Array<SelectableValue<TManageValue>> = [\n      { id: id, value: 'avg', label: 'average' },\n      { id: id, value: 'sum', label: 'total' },\n      { id: id, value: 'err', label: 'error' },\n    ];\n    return selectManageValue;\n  };\n\n  private getCurrentManageValue = (id: number, isLinkB: boolean): SelectableValue<TManageValue> => {\n    let label = '';\n    const auxMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n    if (auxMetrics[id].manageValue === 'avg') {\n      label = 'average';\n    } else if (auxMetrics[id].manageValue === 'sum') {\n      label = 'total';\n    } else if (auxMetrics[id].manageValue === 'err') {\n      label = 'error';\n    }\n    const value: SelectableValue<TManageValue> = {\n      id: id,\n      value: auxMetrics[id].manageValue,\n      label: label,\n    };\n    return value;\n  };\n\n  private generateInputs = (index: number, isLinkB: boolean): JSX.Element => {\n    const id: number = index;\n    //const refIdMetric: string = this.state.currentQuery.label || '';\n    const auxMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n\n    const styleTitle = {\n      marginTop: '10px',\n      textAlign: 'center',\n    } as React.CSSProperties;\n\n    const styleMainDiv = {\n      marginTop: '5px',\n      border: '1px solid rgb(23, 23, 24)',\n    } as React.CSSProperties;\n\n    const styleContent = {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: '5px',\n    } as React.CSSProperties;\n\n    const styleSelect = {\n      display: 'flex',\n      flexDirection: 'row',\n      marginBottom: '2px',\n    } as React.CSSProperties;\n\n    // const styleReferenceMetric = {\n    //   width: '416px',\n    //   height: '35px',\n    //   border: '1px solid #262628',\n    //   borderRadius: '0 3px 3px 0',\n    //   backgroundColor: '#09090b',\n    //   padding: '8px',\n    //   fontSize: '14px',\n    //   lineHeight: '18px',\n    //   color: '#d8d9da',\n    //   marginBottom: '0px',\n    // } as React.CSSProperties;\n\n    let item: JSX.Element;\n    if (isLinkB) {\n      item = (\n        <div key={idCoordinateSpace + 'mainDiv' + id.toString()} style={styleMainDiv}>\n          <p key={idCoordinateSpace + 'title' + id.toString()} style={styleTitle}>\n            {'Auxiliary Metric ' + (id + 1).toString()}\n          </p>\n          <div key={idCoordinateSpace + 'content' + id.toString()} style={styleContent}>\n            <div key={idCoordinateSpace + 'inputs' + id.toString()}>\n              {/* <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={10}>\n                  Query\n                </FormLabel>\n                <p key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()} style={styleReferenceMetric}>\n                  {refIdMetric}\n                </p>\n              </div> */}\n              <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={{ display: 'flex' }}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <Select\n                  key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()}\n                  onChange={this.onChangeSelectQueryB}\n                  allowCustomValue={false}\n                  options={this.getAllQuery(id.toString())}\n                  width={30}\n                  value={this.getCurrentQueryB(id.toString(), isLinkB)}\n                />\n              </div>\n              <FormField\n                key={idCoordinateSpace + 'inputKey' + id.toString()}\n                id={id.toString()}\n                label=\"Key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].key}\n                name=\"key\"\n                onChange={this.onChangeKeyB}\n              />\n              <FormField\n                key={idCoordinateSpace + 'valueKey' + id.toString()}\n                id={id.toString()}\n                label=\"Value key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].keyValue}\n                name=\"valueKey\"\n                onChange={this.onChangeValueKeyB}\n              />\n              <div key={idCoordinateSpace + 'divTypeOfValue' + id.toString()} id={id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelTypeOfValue' + id.toString()} width={15}>\n                  Value\n                </FormLabel>\n                <Select\n                  key={idCoordinateSpace + 'selectTypeOfValue' + id.toString()}\n                  onChange={this.onChangeManageValueB}\n                  allowCustomValue={false}\n                  options={this.getAllManageValue(id.toString())}\n                  width={30}\n                  value={this.getCurrentManageValue(id, isLinkB)}\n                />\n              </div>\n            </div>\n            <div key={idCoordinateSpace + 'buttonDelete' + id.toString()}>\n              <Button id={id.toString()} onClick={this.deleteAuxiliaryMetricB} variant={'danger'}>\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div key={idCoordinateSpace + 'mainDiv' + id.toString()} style={styleMainDiv}>\n          <p key={idCoordinateSpace + 'title' + id.toString()} style={styleTitle}>\n            {'Auxiliary Metric ' + (id + 1).toString()}\n          </p>\n          <div key={idCoordinateSpace + 'content' + id.toString()} style={styleContent}>\n            <div key={idCoordinateSpace + 'inputs' + id.toString()}>\n              {/* <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <p key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()} style={styleReferenceMetric}>\n                  {refIdMetric}\n                </p>\n              </div> */}\n              <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={{ display: 'flex' }}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <Select\n                  key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()}\n                  onChange={this.onChangeSelectQuery}\n                  allowCustomValue={false}\n                  options={this.getAllQuery(id.toString())}\n                  width={30}\n                  value={this.getCurrentQuery(id.toString(), isLinkB)}\n                />\n              </div>\n              <FormField\n                key={idCoordinateSpace + 'inputKey' + id.toString()}\n                id={id.toString()}\n                label=\"Key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].key}\n                name=\"key\"\n                onChange={this.onChangeKey}\n              />\n              <FormField\n                key={idCoordinateSpace + 'valueKey' + id.toString()}\n                id={id.toString()}\n                label=\"Value key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].keyValue}\n                name=\"valueKey\"\n                onChange={this.onChangeValueKey}\n              />\n              <div key={idCoordinateSpace + 'divTypeOfValue' + id.toString()} id={id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelTypeOfValue' + id.toString()} width={15}>\n                  Value\n                </FormLabel>\n                <Select\n                  key={idCoordinateSpace + 'selectTypeOfValue' + id.toString()}\n                  onChange={this.onChangeManageValue}\n                  allowCustomValue={false}\n                  options={this.getAllManageValue(id.toString())}\n                  width={30}\n                  value={this.getCurrentManageValue(id, isLinkB)}\n                />\n              </div>\n            </div>\n            <div key={idCoordinateSpace + 'buttonDelete' + id.toString()}>\n              <Button id={id.toString()} onClick={this.deleteAuxiliaryMetric} variant={'danger'}>\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return <div key={idCoordinateSpace + 'listInputOneMetric' + id.toString()}>{item}</div>;\n  };\n\n  private displayInputs = (isLinkB: boolean) => {\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n    let auxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n\n    const mapItems: JSX.Element[] = [];\n    let index = 0;\n\n    auxiliaryMetrics.forEach(() => {\n      const item: JSX.Element = this.generateInputs(index, isLinkB);\n      mapItems.push(item);\n      index++;\n    });\n\n    return <div key={idCoordinateSpace + 'listInputAllMetrics'}>{mapItems}</div>;\n  };\n\n  componentDidMount = () => {\n    //this.fillSelectQuery();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n    const styleButtonAdd = {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: '10px',\n    } as React.CSSProperties;\n\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      return (\n        <Collapse isOpen={this.state.collapse} label=\"Auxiliary metrics\" onToggle={this.onToggleCollapse}>\n          <Collapse isOpen={this.state.collapseLinkA} label=\"Link A\" onToggle={this.onToggleCollapseLinkA}>\n            {this.displayInputs(false)}\n            <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n              <Button onClick={this.addAuxiliaryMetric}>Add Auxiliary Metric</Button>\n            </div>\n          </Collapse>\n          <Collapse isOpen={this.state.collapseLinkB} label=\"Link B\" onToggle={this.onToggleCollapseLinkB}>\n            {this.displayInputs(true)}\n            <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n              <Button onClick={this.addAuxiliaryMetricB}>Add Auxiliary Metric</Button>\n            </div>\n          </Collapse>\n        </Collapse>\n      );\n    } else {\n      return (\n        <Collapse isOpen={this.state.collapse} label=\"Auxiliary metrics\" onToggle={this.onToggleCollapse}>\n          {this.displayInputs(false)}\n          <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n            <Button onClick={this.addAuxiliaryMetric}>Add Auxiliary Metric</Button>\n          </div>\n        </Collapse>\n      );\n    }\n  }\n}\nexport default ManageAuxiliaryQuery;\n","import React from 'react';\nimport { Tab, TabsBar, TabContent } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport EditCoordinateSpace from './editCoordinateSpace';\nimport EditPoint from './point/editPoint';\nimport EditOrientedLink from './orientedLink/editOrientedLink';\nimport AddCoordinate from './addCoordinate';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  isRegion: boolean;\n  isPoint: boolean;\n  isLink: boolean;\n}\n\ninterface State {\n  /** manage tabs focus */\n  tabsVariable: boolean[];\n}\n\n/**\n * def class\n */\nclass ManageCoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tabsVariable: [false, true],\n    };\n  }\n\n  /** after save pass to edit mode */\n  returnEditMode = () => {\n    this.setState({\n      tabsVariable: [false, true],\n    });\n  };\n\n  /**\n   * switch tab\n   * @param {number} id id to to new tab\n   */\n  goToTab = (id: number): void => {\n    const oldValue: boolean[] = this.state.tabsVariable.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsVariable: oldValue,\n    });\n  };\n\n  private contentTabEdit = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.isRegion) {\n      result = (\n        <div>\n          <EditCoordinateSpace onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    } else if (this.props.isPoint) {\n      result = (\n        <div>\n          <EditPoint onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    } else if (this.props.isLink) {\n      result = (\n        <div>\n          <EditOrientedLink onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    }\n    return result;\n  };\n\n  /** result */\n  render() {\n    if (!this.props.isLink) {\n      return (\n        <div>\n          <TabsBar className=\"page-header tabs\" hideBorder={false}>\n            <Tab\n              key=\"tabDisplayCoordinateSpaceAdd\"\n              label=\"Add coordinate space\"\n              active={this.state.tabsVariable[0]}\n              onChangeTab={() => this.goToTab(0)}\n            />\n            <Tab\n              key=\"tabDisplayCoordinateSpaceEdit\"\n              label=\"Edit coordinate space\"\n              active={this.state.tabsVariable[1]}\n              onChangeTab={() => this.goToTab(1)}\n            />\n          </TabsBar>\n          <TabContent>\n            {this.state.tabsVariable[0] && (\n              <AddCoordinate\n                onOptionsChange={this.props.onOptionsChange}\n                options={this.props.options}\n                data={this.props.data}\n                returnEditMode={this.returnEditMode}\n                isRegion={this.props.isRegion}\n                isPoint={this.props.isPoint}\n                isLink={this.props.isLink}\n              />\n            )}\n            {this.state.tabsVariable[1] && this.contentTabEdit()}\n          </TabContent>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <TabsBar className=\"page-header tabs\" hideBorder={false}>\n            <Tab\n              key=\"tabDisplayCoordinateSpaceEdit\"\n              label=\"Edit coordinate space\"\n              active={this.state.tabsVariable[1]}\n              onChangeTab={() => this.goToTab(1)}\n            />\n          </TabsBar>\n          <TabContent>{this.state.tabsVariable[1] && this.contentTabEdit()}</TabContent>\n        </div>\n      );\n    }\n  }\n}\nexport default ManageCoordinateSpace;\n","import React, { /*ChangeEvent,*/ Fragment /*, SyntheticEvent*/ } from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, Metadata } from 'types';\nimport { Button, FormField, Collapse, FormLabel, Switch } from '@grafana/ui';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { InputSeriesColorPicker } from 'Functions/Input/inputSeriesColorPicker';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { initPoint } from 'Functions/initPoint';\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { initOrientedLink } from 'Functions/initOrientedLink';\n// import InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\n// import StyleComponent, { Style } from './../Parametrage/styleComponent';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  idCoordinate: number;\n  type: string;\n  saveToParent: (meta: Metadata[]) => void;\n}\n\ninterface State {\n  newMeta: string;\n  collapseMetaValue: boolean;\n}\n/*\nManage Metadata\n*/\nclass ManageMetadata extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      newMeta: '',\n      collapseMetaValue: false,\n    };\n  }\n\n  onMetaStrChanged = (event: { currentTarget: HTMLInputElement }) => {\n    if (this.props.type === 'point') {\n      let newData: Metadata = this.getCurrentPoint().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentPoint().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'region') {\n      let newData: Metadata = this.getCurrentRegion().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentRegion().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n    if (this.props.type === 'link') {\n      let newData: Metadata = this.getCurrentLink().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentLink().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n  };\n\n  onChangeBackColor = (keyInt: number, color: string) => {\n    if (this.props.type === 'point') {\n      const newTextObject: TextObject = this.getCurrentPoint().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentPoint().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'link') {\n      const newTextObject: TextObject = this.getCurrentLink().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentLink().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n    if (this.props.type === 'region') {\n      const newTextObject: TextObject = this.getCurrentRegion().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentRegion().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n  };\n\n  onChangeTextColor = (keyInt: number, color: string) => {\n    if (this.props.type === 'point') {\n      const newTextObject: TextObject = this.getCurrentPoint().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentPoint().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'link') {\n      const newTextObject: TextObject = this.getCurrentLink().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentLink().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n    if (this.props.type === 'region') {\n      const newTextObject: TextObject = this.getCurrentRegion().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentRegion().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n  };\n\n  // onChangeBold = (event: SyntheticEvent<HTMLInputElement, Event> | undefined ) => {\n  //   // if (this.props.type === 'point') {\n  //   //   const newTextObject: TextObject = this.props.options.arrayPoints[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.style.bold = ;\n  //   //   this.props.options.arrayPoints[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n  //   // }\n  //   // if (this.props.type === 'link') {\n  //   //   const newTextObject: TextObject = this.props.options.arrayOrientedLinks[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.colorText = color;\n  //   //   this.props.options.arrayOrientedLinks[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n  //   // }\n  //   // if (this.props.type === 'region') {\n  //   //   const newTextObject: TextObject = this.props.options.regionCoordinateSpace[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.colorText = color;\n  //   //   this.props.options.regionCoordinateSpace[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n  //   // }\n  // };\n\n  // onChangeBold = (index: number, event: any) => {\n  //   const divParent\n  //   const id = event.currentTarget;\n  //   if (this.props.type === 'point') {\n  //     let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n  //     if (newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold) {\n  //       newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold = false;\n  //     } else {\n  //       newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold = true;\n  //     }\n  //     this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n  //   }\n  // }\n\n  addMeta = (onClick: { currentTarget: HTMLButtonElement }) => {\n    if (this.props.type === 'point') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentPoint().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n      this.setState({ newMeta: '' });\n    }\n    if (this.props.type === 'link') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentLink().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n      this.setState({ newMeta: '' });\n    }\n    if (this.props.type === 'region') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentRegion().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n      this.setState({ newMeta: '' });\n    }\n  };\n\n  getCurrentPoint = (): PointClass => {\n    let point: PointClass = initPoint(0);\n    this.props.options.arrayPoints.forEach((pointToFind) => {\n      if (pointToFind.id === this.props.idCoordinate) {\n        point = pointToFind;\n      }\n    });\n    return point;\n  };\n\n  getCurrentRegion = (): RegionClass => {\n    let region: RegionClass = initRegionCoordinateSpace(0);\n    this.props.options.regionCoordinateSpace.forEach((regionToFind) => {\n      if (regionToFind.id === this.props.idCoordinate) {\n        region = regionToFind;\n      }\n    });\n    return region;\n  };\n\n  getCurrentLink = (): OrientedLinkClass => {\n    let link: OrientedLinkClass = initOrientedLink(0, 0);\n    this.props.options.arrayOrientedLinks.forEach((linkToFind) => {\n      if (linkToFind.id === this.props.idCoordinate) {\n        link = linkToFind;\n      }\n    });\n    return link;\n  };\n\n  // element for one Meta\n  displayMetaList = (props: any): JSX.Element => {\n    const l10n = require('Localization/en.json');\n    if (props.type === 'point' && this.props.options.arrayPoints.length !== 0) {\n      let point: PointClass = this.getCurrentPoint();\n      const list = point.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'point' + this.props.idCoordinate + 'EditorMetadata'}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'left', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.bold) {\n                      this.getCurrentPoint().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.italic) {\n                      this.getCurrentPoint().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.underline) {\n                      this.getCurrentPoint().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              margin: '10px 0px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n                this.getCurrentPoint().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoints });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    if (props.type === 'region' && this.props.options.regionCoordinateSpace.length !== 0) {\n      let region: RegionClass = this.getCurrentRegion();\n      const list = region.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'region' + this.props.idCoordinate + 'EditorMetadata' + index}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'center', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.bold) {\n                      this.getCurrentRegion().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.italic) {\n                      this.getCurrentRegion().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.underline) {\n                      this.getCurrentRegion().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              margin: '10px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                this.getCurrentRegion().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    if (props.type === 'link' && this.props.options.arrayOrientedLinks.length !== 0) {\n      let link: OrientedLinkClass = this.getCurrentLink();\n      const list = link.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'link' + this.props.idCoordinate + 'EditorMetadata'}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'center', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.bold) {\n                      this.getCurrentLink().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.italic) {\n                      this.getCurrentLink().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.underline) {\n                      this.getCurrentLink().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              marginBottom: '10px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                this.getCurrentLink().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div></div>;\n  };\n\n  onToggleMetaValue = (isOpen: boolean) => {\n    this.setState({\n      collapseMetaValue: isOpen,\n    });\n  };\n\n  printProps = () => {\n    console.log(this.props);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Collapse isOpen={this.state.collapseMetaValue} label=\"Metadata\" onToggle={this.onToggleMetaValue}>\n          <div style={{ display: 'flex' }}>\n            {/* <InputTextField\n              key={'metaAdd'}\n              label={'Text'}\n              name={'Meta'}\n              required={true}\n              placeholder={'Enter meta'}\n              value={this.state.newMeta}\n              _handleChange={(event: {\n                currentTarget: HTMLInputElement;\n              }) => this.setState({ newMeta: event.currentTarget.value })}\n            /> */}\n            <FormField\n              key={'metaAdd'}\n              label={'Text metadata'}\n              labelWidth={15}\n              inputWidth={25}\n              name={'Meta'}\n              required={true}\n              placeholder={'Enter meta'}\n              value={this.state.newMeta}\n              onChange={(event: {\n                /** get currentTarget in event element */\n                currentTarget: HTMLInputElement;\n              }) => this.setState({ newMeta: event.currentTarget.value })}\n            />\n            <Button variant=\"primary\" className=\"button\" onClick={this.addMeta}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          <this.displayMetaList type={this.props.type} id={this.props.idCoordinate - 1} />\n        </Collapse>\n      </Fragment>\n    );\n  }\n}\n\nexport default ManageMetadata;\n","import React from 'react';\nimport { SimpleOptions, TManageValue, Metric } from 'types';\n\nimport { PanelEditorProps, SelectableValue, DataFrame } from '@grafana/data';\nimport { Select, FormField, Collapse, FormLabel } from '@grafana/ui';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n//import { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\ninterface Prop extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate. Use to check if componentDidUpdate launch update */\n  idCoordinate: number;\n  /** parent data */\n  mainMetric: Metric;\n  /** call function when save data */\n  mainMetricB?: Metric;\n  /** call function when save data mainMetric*/\n  callBackToParent: (mainMetric: Metric, id?: number) => void;\n  /** call function when save data mainMetricB*/\n  callBackToParentMainMetricB?: (mainMetricB: Metric, id?: number) => void;\n  /** id coordinateSpace for link and point*/\n  id?: number;\n  /** check if is OrientedLink */\n  isLink: boolean;\n}\n\ninterface State {\n  /** data for manipulate mainMetric */\n  mainMetric: Metric;\n  /** data for manipulate mainMetric of OrientedLink if is bidirectionnal*/\n  mainMetricB: Metric;\n  /** collapse main metric open or close */\n  collapseMainMetric: boolean;\n  /** collapse linkA open or close */\n  collapseLinkA: boolean;\n  /** collapse linkB open or close */\n  collapseLinkB: boolean;\n  /** value for manage value (for query => ) */\n  selectManageValue: Array<SelectableValue<TManageValue>>;\n  /** default value for manage value */\n  //selectDefaultManageValue: SelectableValue<TManageValue>;\n  /** select aux query */\n  selectQuery: Array<SelectableValue<DataFrame>>;\n  /** select main query */\n  selectQueryDefault: SelectableValue<DataFrame>;\n}\n\n/**\n * def\n */\nclass ManageQuery extends React.Component<Prop, State> {\n  constructor(props: Prop) {\n    super(props);\n    this.state = {\n      mainMetric: this.props.mainMetric,\n      mainMetricB: this.props.mainMetricB || { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n      collapseMainMetric: false,\n      collapseLinkA: false,\n      collapseLinkB: false,\n      selectManageValue: [],\n      // selectDefaultManageValue: { value: 'avg', label: 'avg' },\n      selectQuery: [],\n      selectQueryDefault: [],\n    };\n  }\n\n  /** call back to parent */\n  callBack = () => {\n    this.props.callBackToParent(this.state.mainMetric, this.props.id);\n  };\n\n  /** call back to parent for mainMetricB */\n  callBackB = () => {\n    if (this.props.callBackToParentMainMetricB) {\n      this.props.callBackToParentMainMetricB(this.state.mainMetricB, this.props.id);\n    }\n  };\n\n  /** get mainMetricB of OrientedLink bidirectionnal */\n  getMainMetricB = (): any => {\n    let mainMetricB: any = {};\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLink) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        mainMetricB = orientedLink.mainMetricB;\n      }\n    }\n    return mainMetricB;\n  };\n\n  /** edit value for default select manage value */\n  onChangeSelectManageValue = (value: SelectableValue<TManageValue>) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.manageValue = value.value || 'err';\n    this.setState({\n      mainMetric: newMainMetric,\n      //selectDefaultManageValue: value,\n    });\n    this.callBack();\n  };\n\n  /** edit value for default select manage value */\n  onChangeSelectManageValueB = (value: SelectableValue<TManageValue>) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    //const arrayOrientedLinks: OrientedLink = this.props.options.arrayOrientedLinks\n    newMainMetric.manageValue = value.value || 'err';\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value key for mainMetric */\n  _handleChangeKey = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.key = value;\n    this.setState({\n      mainMetric: newMainMetric,\n    });\n    this.callBack();\n  };\n\n  /** edit value key for mainMetric */\n  _handleChangeKeyB = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.key = value;\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value keyValue for mainMetric */\n  _handleChangeKeyValue = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.keyValue = value;\n    this.setState({\n      mainMetric: newMainMetric,\n    });\n    this.callBack();\n  };\n\n  /** edit value keyValue for mainMetric */\n  _handleChangeKeyValueB = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.keyValue = value;\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value for select */\n  onChangeSelectQuery = (value: SelectableValue<DataFrame>) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.refId = value.value?.refId || '';\n    newMainMetric.expr = '';\n    this.setState({\n      mainMetric: newMainMetric,\n      selectQueryDefault: value,\n    });\n    this.callBack();\n  };\n\n  /** edit value for select */\n  onChangeSelectQueryB = (value: SelectableValue<DataFrame>) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.refId = value.value?.refId || '';\n    newMainMetric.expr = '';\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** switch value collapseMainMetric when click collapse */\n  onToggleMainMetric = (isOpen: boolean) => {\n    this.setState({\n      collapseMainMetric: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkA when click collapse */\n  onToggleLinkA = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkA: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkB when click collapse */\n  onToggleLinkB = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkB: isOpen,\n    });\n  };\n\n  private getDefaultQueryB = (): SelectableValue<DataFrame> => {\n    let defaultValue: SelectableValue<DataFrame> = { label: 'No value', value: undefined };\n    const mainMetricB: Metric = this.state.mainMetricB;\n    for (const value of this.state.selectQuery) {\n      if (mainMetricB.refId) {\n        if (mainMetricB.refId === value.label) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  private getDefaultManageValue = (): SelectableValue<TManageValue> => {\n    let defaultValue: SelectableValue<TManageValue> = { label: 'avg', value: 'avg' };\n    const mainMetric: Metric = this.state.mainMetric;\n    for (const value of this.state.selectManageValue) {\n      if (mainMetric.manageValue) {\n        if (mainMetric.manageValue === value.value) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  private getDefaultManageValueB = (): SelectableValue<TManageValue> => {\n    let defaultValue: SelectableValue<TManageValue> = { label: 'avg', value: 'avg' };\n    const mainMetricB: Metric = this.state.mainMetricB;\n    for (const value of this.state.selectManageValue) {\n      if (mainMetricB.manageValue) {\n        if (mainMetricB.manageValue === value.value) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  /** add all query in select */\n  fillSelectQuery = () => {\n    const valueSelect: Array<SelectableValue<DataFrame>> = [];\n    const newMainMetric: Metric = this.state.mainMetric;\n\n    valueSelect.push({ value: undefined, label: 'No value' });\n    for (const line of this.props.data.series) {\n      let duplicate = false;\n      for (const valueSave of valueSelect) {\n        if (valueSave.value?.refId === line.refId) {\n          duplicate = true;\n          break;\n        }\n      }\n      if (!duplicate) {\n        valueSelect.push({ value: line, label: line.refId });\n      }\n    }\n    if (newMainMetric.refId === '') {\n      newMainMetric.refId = valueSelect.length > 0 ? valueSelect[0].value?.refId || '' : '';\n    }\n\n    const refId: string | undefined = this.state.mainMetric.refId;\n    let defaultValue: SelectableValue<DataFrame>;\n\n    defaultValue = { value: undefined, label: 'No value' };\n    if (refId) {\n      for (const line of valueSelect) {\n        if (line.value?.refId === refId) {\n          defaultValue = line;\n          break;\n        }\n      }\n    }\n    this.setState({\n      mainMetric: newMainMetric,\n      selectQuery: valueSelect,\n      selectQueryDefault: defaultValue,\n    });\n  };\n\n  /** fill data when component mount */\n  componentDidMount = () => {\n    this.fillSelectQuery();\n    const newSelectManageValue: Array<SelectableValue<TManageValue>> = [\n      { value: 'avg', label: 'average' },\n      { value: 'sum', label: 'total' },\n      { value: 'err', label: 'error' },\n    ];\n    // let defaultValue: SelectableValue<TManageValue> = newSelectManageValue[0];\n    // for (const line of newSelectManageValue) {\n    //   if (line.value === this.state.mainMetric.manageValue) {\n    //     defaultValue = line;\n    //   }\n    // }\n\n    this.setState({\n      selectManageValue: newSelectManageValue,\n      //selectDefaultManageValue: defaultValue,\n    });\n  };\n\n  /** update with promise mainMetric state */\n  setStateAsyncMainMetric = (state: {\n    /** new value main metric */\n    mainMetric: Metric;\n  }) => {\n    return new Promise((resolve) => this.setState(state, resolve));\n  };\n\n  /** update with promise mainMetric state */\n  setStateAsyncMainMetricB = (state: {\n    /** new value main metric */\n    mainMetricB: Metric;\n  }) => {\n    return new Promise((resolve) => this.setState(state, resolve));\n  };\n\n  /** update data when props is update */\n  componentDidUpdate = async (prevProps: Prop) => {\n    if (prevProps.idCoordinate !== this.props.idCoordinate) {\n      this.setState({\n        collapseMainMetric: false,\n      });\n      await this.setStateAsyncMainMetric({ mainMetric: this.props.mainMetric });\n      if (this.props.mainMetricB) {\n        await this.setStateAsyncMainMetricB({ mainMetricB: this.props.mainMetricB });\n      }\n      this.fillSelectQuery();\n    }\n    if (prevProps.data.series !== this.props.data.series) {\n      this.fillSelectQuery();\n    }\n  };\n\n  private displayHtml = (): JSX.Element => {\n    let result: JSX.Element;\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      result = (\n        <Collapse isOpen={this.state.collapseMainMetric} label=\"Main metric\" onToggle={this.onToggleMainMetric}>\n          <Collapse isOpen={this.state.collapseLinkA} label=\"Link A\" onToggle={this.onToggleLinkA}>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Query</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectQuery(value)}\n                allowCustomValue={false}\n                options={this.state.selectQuery}\n                width={30}\n                value={this.state.selectQueryDefault}\n              />\n            </div>\n            {/* <br /> */}\n            <FormField\n              label=\"Key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetric.key}\n              name=\"key\"\n              onChange={(event) => this._handleChangeKey(event.currentTarget.value)}\n            />\n            <FormField\n              label=\"Value key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetric.keyValue}\n              name=\"valueKey\"\n              onChange={(event) => this._handleChangeKeyValue(event.currentTarget.value)}\n            />\n            {/* <br /> */}\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Manipulate</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectManageValue(value)}\n                allowCustomValue={false}\n                options={this.state.selectManageValue}\n                width={30}\n                value={this.getDefaultManageValue()}\n              />\n            </div>\n          </Collapse>\n          <Collapse isOpen={this.state.collapseLinkB} label=\"Link B\" onToggle={this.onToggleLinkB}>\n            <div style={{ display: 'flex', marginTop: '10px' }}>\n              <FormLabel width={15}>Query</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectQueryB(value)}\n                allowCustomValue={false}\n                options={this.state.selectQuery}\n                width={30}\n                value={this.getDefaultQueryB()}\n              />\n            </div>\n            {/* <br /> */}\n            <FormField\n              label=\"Key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetricB.key}\n              name=\"key\"\n              onChange={(event) => this._handleChangeKeyB(event.currentTarget.value)}\n            />\n            <FormField\n              label=\"Value key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetricB.keyValue}\n              name=\"valueKey\"\n              onChange={(event) => this._handleChangeKeyValueB(event.currentTarget.value)}\n            />\n            {/* <br /> */}\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Manipulate</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectManageValueB(value)}\n                allowCustomValue={false}\n                options={this.state.selectManageValue}\n                width={30}\n                value={this.getDefaultManageValueB()}\n              />\n            </div>\n          </Collapse>\n        </Collapse>\n      );\n    } else {\n      result = (\n        <Collapse isOpen={this.state.collapseMainMetric} label=\"Main metric\" onToggle={this.onToggleMainMetric}>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Query</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectQuery(value)}\n              allowCustomValue={false}\n              options={this.state.selectQuery}\n              width={30}\n              value={this.state.selectQueryDefault}\n            />\n          </div>\n          {/* <br /> */}\n          <FormField\n            label=\"Key\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            value={this.state.mainMetric.key}\n            name=\"key\"\n            onChange={(event) => this._handleChangeKey(event.currentTarget.value)}\n          />\n          <FormField\n            label=\"Value key\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            value={this.state.mainMetric.keyValue}\n            name=\"valueKey\"\n            onChange={(event) => this._handleChangeKeyValue(event.currentTarget.value)}\n          />\n          {/* <br /> */}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Manipulate</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectManageValue(value)}\n              allowCustomValue={false}\n              options={this.state.selectManageValue}\n              width={30}\n              value={this.getDefaultManageValue()}\n            />\n          </div>\n        </Collapse>\n      );\n    }\n    return result;\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return <div>{this.displayHtml()}</div>;\n  }\n}\nexport default ManageQuery;\n","import React from 'react';\n\nimport { SimpleOptions } from '../../../types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { OrientedLinkClass } from '../../../Models/OrientedLinkClass';\nimport OrientedLink from './orientedLink';\n\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<OrientedLinkClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<OrientedLinkClass>;\n}\n\ninterface SelectOrientedLink {\n  value: OrientedLinkClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditOrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: OrientedLinkClass): void => {\n    if (newCoordinate) {\n      const oldData: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: oldData,\n      });\n      //this.fillSelectOrientedLink();\n    } else {\n      let find = false;\n      const oldData: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayOrientedLinks: oldData,\n        });\n        this.fillSelectOrientedLink();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<OrientedLinkClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectOrientedLink = () => {\n    let valueExist = false;\n    const valueSelect: SelectOrientedLink[] = [];\n    const stockTmpCoordinatesSpace: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n\n    for (const line of stockTmpCoordinatesSpace) {\n      let label = line.label || line.name;\n      valueSelect.push({ value: line, label: label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n    // final\n    // this.setState({\n    // \tselectCoordinateSpace: valueSelect,\n    // \tselectCoordinateSpaceDefault: (valueSelect.length > 0) ?\n    // \t\tvalueSelect[0] : this.state.selectCoordinateSpaceDefault,\n    // });\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectOrientedLink();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.arrayOrientedLinks !== this.props.options.arrayOrientedLinks) {\n      this.fillSelectOrientedLink();\n    }\n    if (prevProps.options.newOrientedLink) {\n      this.fillSelectOrientedLink();\n      this.props.options.newOrientedLink = false;\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Oriented Link</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <OrientedLink\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              orientedLink={this.state.selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddLink={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditOrientedLink;\n","import React, { CSSProperties } from 'react';\nimport { ArrayInputSelectableClass } from '../../../Models/ArrayInputSelectableClass';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport InputTextOrientedLink from '../../../Functions/Input/inputTextOrientedLink';\nimport InputSelectOrientedLink from '../../../Functions/Input/inputSelectOrientedLink';\nimport { OrientedLinkClass } from '../../../Models/OrientedLinkClass';\nimport { createInputsOrientedLink } from '../../../Functions/CreateInput/createInputsOrientedLink';\nimport { editGoodParameterOrientedLink } from '../../../Functions/EditParameter/editGoodParameterOrientedLink';\nimport { TextObject } from '../../../Models/TextObjectClass';\nimport { SimpleOptions, Metric, Metadata } from '../../../types';\nimport { AlertVariant, Alert, Button } from '@grafana/ui';\nimport ParametresGeneriques from '../../Parametrage/parametresGeneriques';\nimport { LowerLimitClass } from '../../../Models/LowerLimitClass';\nimport { CoordinateSpaceClass } from '../../../Models/CoordinateSpaceClass';\nimport ManageLowerLimit from '../../Parametrage/manageLowerLimit';\nimport PositionParameter from '../../Parametrage/positionParameters';\nimport ManageQuery from '../../CoordinateSpace/manageQuery';\nimport ManageAuxiliaryQuery from '../../CoordinateSpace/manageAuxiliaryQuery';\nimport { cloneOrientedLink } from '../../../Functions/initOrientedLink';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport ManageMetadata from 'components/CoordinateSpace/manageMetada';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n/**\n * IProps\n */\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** save data in Parent */\n  callBackToParent: (id: number, newCoordinate?: OrientedLinkClass) => void;\n\n  /** link to edit */\n  orientedLink: OrientedLinkClass;\n\n  /** check if is add or edit component*/\n  isAddLink: boolean;\n\n  /** id */\n  id?: number;\n}\n\n/**\n * IState\n */\ninterface State {\n  /**\n   * to do\n   */\n  arrayInput: ArrayInputSelectableClass[];\n  /** */\n  orientedLink: OrientedLinkClass;\n  /** */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n}\n\n/**\n * IndexParametrage\n */\nexport default class OrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayInput: [],\n      orientedLink: cloneOrientedLink(this.props.orientedLink),\n      //debug: false,\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncOrientedLink = (state: {\n    /** new espace coordinate */\n    orientedLink: OrientedLinkClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputSelectableClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([\n        new ArrayInputSelectableClass(id, createInputsOrientedLink(id, this.defineDataRegion(), this.defineDataPoint())),\n      ]),\n    });\n  };\n\n  private defineDataRegion(): Array<SelectableValue<string>> {\n    const { regionCoordinateSpace } = this.props.options;\n    const optionRegionNull: SelectableValue<string> = { label: 'None', value: '' };\n    const arrayOptionsRegion: Array<SelectableValue<string>> = [];\n\n    arrayOptionsRegion.push(optionRegionNull);\n\n    regionCoordinateSpace.forEach((region) => {\n      const optionRegion: SelectableValue<string> = {\n        label: region.label,\n        value: region.label,\n      };\n      arrayOptionsRegion.push(optionRegion);\n    });\n    return arrayOptionsRegion;\n  }\n\n  private defineDataPoint(): Array<SelectableValue<string>> {\n    const { arrayPoints } = this.props.options;\n    const optionPointNull: SelectableValue<string> = { label: 'None', value: '' };\n    const arrayOptionsPoint: Array<SelectableValue<string>> = [];\n\n    arrayOptionsPoint.push(optionPointNull);\n\n    arrayPoints.forEach((point) => {\n      let valueLabel = point.label || point.name;\n\n      const optionPoint: SelectableValue<string> = {\n        label: valueLabel,\n        value: valueLabel,\n      };\n      arrayOptionsPoint.push(optionPoint);\n    });\n\n    return arrayOptionsPoint;\n  }\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const label = this.state.orientedLink.label || this.state.orientedLink.name;\n    const del: boolean = confirm('Delete \"' + label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.orientedLink.id, undefined);\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: OrientedLinkClass = this.state.orientedLink;\n\n    // UPDATE PositionXdefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    if (name.startsWith('pointAX')) {\n      tmp.pointAPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    } else if (name.startsWith('pointBX')) {\n      tmp.pointBPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    } else if (name.startsWith('pointCX')) {\n      tmp.pointCPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE PositionYdefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('pointAY')) {\n      tmp.pointAPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    } else if (name.startsWith('pointBY')) {\n      tmp.pointBPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    } else if (name.startsWith('pointCY')) {\n      tmp.pointCPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n\n    tmp = editGoodParameterOrientedLink(name, tmp, currentTarget, {});\n    this.setState({\n      orientedLink: tmp,\n    });\n    this.generateInputsOrientedLink();\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayPointClass\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  private getGoodValue(name: string): any {\n    let value: string;\n    let valueSelect: SelectableValue<any>;\n    let valueMetric: Metric;\n\n    value = '';\n    valueSelect = {};\n\n    if (\n      name.startsWith('orientationLink') ||\n      name.startsWith('isIncurved') ||\n      name.startsWith('pointIn') ||\n      name.startsWith('pointOut') ||\n      name.startsWith('regionIn') ||\n      name.startsWith('regionOut')\n    ) {\n      if (name.startsWith('orientationLink')) {\n        valueSelect = this.state.orientedLink.orientationLink;\n      } else if (name.startsWith('isIncurved')) {\n        valueSelect = this.state.orientedLink.isIncurved;\n      } else if (name.startsWith('pointIn')) {\n        valueSelect = {\n          label: this.state.orientedLink.pointIn,\n          value: this.state.orientedLink.pointIn,\n        };\n      } else if (name.startsWith('pointOut')) {\n        valueSelect = {\n          label: this.state.orientedLink.pointOut,\n          value: this.state.orientedLink.pointOut,\n        };\n      } else if (name.startsWith('regionIn')) {\n        valueSelect = {\n          label: this.state.orientedLink.regionIn,\n          value: this.state.orientedLink.regionIn,\n        };\n      } else if (name.startsWith('regionOut')) {\n        valueSelect = {\n          label: this.state.orientedLink.regionOut,\n          value: this.state.orientedLink.regionOut,\n        };\n      }\n      return valueSelect;\n    } else if (name.startsWith('mainMetric')) {\n      valueMetric = this.state.orientedLink.mainMetric;\n      return valueMetric;\n    } else {\n      if (name.startsWith('label')) {\n        value = this.state.orientedLink.label;\n      } else if (name.startsWith('pointAX')) {\n        value = this.state.orientedLink.pointAPositionX;\n      } else if (name.startsWith('pointAY')) {\n        value = this.state.orientedLink.pointAPositionY;\n      } else if (name.startsWith('pointBX')) {\n        value = this.state.orientedLink.pointBPositionX;\n      } else if (name.startsWith('pointBY')) {\n        value = this.state.orientedLink.pointBPositionY;\n      } else if (name.startsWith('colorCoordinateA')) {\n        value = this.state.orientedLink.colorCoordinateA;\n      } else if (name.startsWith('colorCoordinateB')) {\n        value = this.state.orientedLink.colorCoordinateB;\n      } else if (name.startsWith('refIdMainMetric')) {\n        value = this.state.orientedLink.mainMetric.refId || '';\n      } else if (name.startsWith('keyMainMetric')) {\n        value = this.state.orientedLink.mainMetric.key || '';\n      } else if (name.startsWith('keyValueMainMetric')) {\n        value = this.state.orientedLink.mainMetric.keyValue || '';\n      } else if (name.startsWith('pointCX')) {\n        value = this.state.orientedLink.pointCPositionX;\n      } else if (name.startsWith('pointCY')) {\n        value = this.state.orientedLink.pointCPositionY;\n      } else if (name.startsWith('size')) {\n        value = this.state.orientedLink.size;\n      }\n      return value;\n    }\n  }\n\n  /** set point in/out to empty in if orientedLink is associate to region in/out\n   *  set region in/out to empty in if orientedLink is associate to point in/out\n   */\n  private updateAssociatePointAndRegion = (newOrientedLink: OrientedLinkClass, name: string): OrientedLinkClass => {\n    const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n    const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    if (name.startsWith('pointIn')) {\n      // supprime la valeur de regionIn si un point est associé à un lien en entrée\n      newOrientedLink = editGoodParameterOrientedLink('regionIn', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointA du lien si un point est associé en entrée\n      arrayPoint.forEach((point) => {\n        if (this.state.orientedLink.pointIn === point.name || this.state.orientedLink.pointIn === point.label) {\n          newOrientedLink.pointAPositionXDefault = point.positionXDefault;\n          newOrientedLink.pointAPositionYDefault = point.positionYDefault;\n          newOrientedLink = editGoodParameterOrientedLink('pointAX', newOrientedLink, point.positionShapeX, {});\n          newOrientedLink = editGoodParameterOrientedLink('pointAY', newOrientedLink, point.positionShapeY, {});\n        }\n      });\n    } else if (name.startsWith('regionIn')) {\n      // supprime la valeur de pointIn si une region est associée à un lien en entrée\n      newOrientedLink = editGoodParameterOrientedLink('pointIn', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointA du lien si une region est associée en entrée\n      arrayRegion.forEach((region) => {\n        if (this.state.orientedLink.regionIn === region.label) {\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointAX',\n            newOrientedLink,\n            (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointAY',\n            newOrientedLink,\n            (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink.pointAPositionXDefault = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n          // this.state.orientedLink.pointAPositionXDefault = (\n          //   parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)\n          // ).toString();\n          newOrientedLink.pointAPositionYDefault = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n          // this.state.orientedLink.pointAPositionYDefault = (\n          //   parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)\n          // ).toString();\n        }\n      });\n    } else if (name.startsWith('pointOut')) {\n      // supprime la valeur de regionOut si un point est associé à un lien en sortie\n      newOrientedLink = editGoodParameterOrientedLink('regionOut', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointB du lien si un point est associé en sortie\n      arrayPoint.forEach((point) => {\n        if (this.state.orientedLink.pointOut === point.name || this.state.orientedLink.pointOut === point.label) {\n          // this.state.orientedLink.pointBPositionXDefault = point.positionXDefault;\n          // this.state.orientedLink.pointBPositionYDefault = point.positionYDefault;\n          newOrientedLink.pointBPositionXDefault = point.positionXDefault;\n          newOrientedLink.pointBPositionYDefault = point.positionYDefault;\n          newOrientedLink = editGoodParameterOrientedLink('pointBX', newOrientedLink, point.positionShapeX, {});\n          newOrientedLink = editGoodParameterOrientedLink('pointBY', newOrientedLink, point.positionShapeY, {});\n        }\n      });\n    } else if (name.startsWith('regionOut')) {\n      // supprime la valeur de pointOut si une region est associée à un lien en sortie\n      newOrientedLink = editGoodParameterOrientedLink('pointOut', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointB du lien si une region est associée en entrée\n      arrayRegion.forEach((region) => {\n        if (this.state.orientedLink.regionOut === region.label) {\n          newOrientedLink.pointBPositionXDefault = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n          // this.state.orientedLink.pointBPositionXDefault = (\n          //   parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)\n          // ).toString();\n          newOrientedLink.pointBPositionYDefault = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n          // this.state.orientedLink.pointBPositionYDefault = (\n          //   parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)\n          // ).toString();\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointBX',\n            newOrientedLink,\n            (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointBY',\n            newOrientedLink,\n            (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString(),\n            {}\n          );\n        }\n      });\n    }\n    return newOrientedLink;\n  };\n\n  /** create dynamic input */\n  generateInputsOrientedLink(): void {\n    const { arrayInput } = this.state;\n    let finalItem: JSX.Element[] = [];\n    let item: JSX.Element = <div></div>;\n\n    for (const line of arrayInput) {\n      const mapItems: JSX.Element[] = [];\n      line.uneClassInput.forEach((obj) => {\n        if (obj.input_type === 'text') {\n          item = (\n            <InputTextOrientedLink\n              key={obj.id}\n              label={obj.label}\n              name={obj.name}\n              placeholder={obj.placeholder || ''}\n              required={obj.required}\n              value={this.getGoodValue(obj.name)}\n              _handleChange={(event: {\n                /**\n                 * get currentTarget in event element\n                 */\n                currentTarget: HTMLInputElement;\n              }) => {\n                this._handleChange(event.currentTarget.value, obj.name, line.id);\n              }}\n              isIncurved={this.getGoodValue('isIncurved')}\n            />\n          );\n        } else if (obj.input_type === 'select') {\n          item = (\n            <InputSelectOrientedLink\n              key={obj.id}\n              _onChange={(value: SelectableValue<string>, name: string, index: number) => {\n                let newOrientedLink: OrientedLinkClass = this.state.orientedLink;\n                editGoodParameterOrientedLink(name, newOrientedLink, value.value || '', value);\n                this.updateAssociatePointAndRegion(newOrientedLink, name);\n                this.setState({\n                  orientedLink: newOrientedLink,\n                });\n                this.generateInputsOrientedLink();\n                if (this.props.isAddLink === false) {\n                  this.callBack();\n                }\n              }}\n              name={obj.name}\n              index={line.id}\n              data={obj.optionValues}\n              defaultValue={this.getGoodValue(obj.name)}\n              label={obj.label}\n            />\n          );\n        } else {\n          item = <div key={obj.id}></div>;\n        }\n        mapItems.push(item);\n      });\n      const newInputList: JSX.Element = (\n        <div key={'inputOrientedLink' + line.id.toString()} className=\"inputCoor\" id={'orientedLink' + line.id.toString()}>\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInputList);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n    }));\n  }\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    const waitAlert = 3000;\n\n    if (this.state.orientedLink.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n    } else {\n      this.props.callBackToParent(this.state.orientedLink.id, this.state.orientedLink);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddLink) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  /** update data for manageLink and textObject */\n  private callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: OrientedLinkClass = this.state.orientedLink;\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      orientedLink: oldCoor,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  private callBackManageLowerLimit = (coordinate: CoordinateSpaceClass, id?: number) => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.colorMode = coordinate.colorMode;\n    newValue.traceBorder = coordinate.traceBorder;\n    newValue.traceBack = coordinate.traceBack;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  private callBackLowerLimit = (lowerLimit: LowerLimitClass[], id?: number) => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of mainMetric */\n  private callBackMainMetric = (mainMetric: Metric, id?: number): void => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of mainMetric */\n  private callBackMainMetricB = (mainMetricB: Metric, id?: number): void => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.mainMetricB = mainMetricB;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of zIndex */\n  private callBackZIndex(zIndexUpdated: number, id: number) {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.zIndex = zIndexUpdated;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  }\n  // Meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.orientedLink;\n    old.meta = meta;\n    this.setState({\n      orientedLink: old,\n    });\n  };\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.orientedLink.id);\n    this.generateInputsOrientedLink();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.orientedLink.id !== this.props.orientedLink.id) {\n      await this.setStateAsyncOrientedLink({\n        orientedLink: cloneOrientedLink(this.props.orientedLink),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /**\n   * render()\n   */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            mainMetric={this.state.orientedLink.mainMetric}\n            mainMetricB={this.state.orientedLink.mainMetricB}\n            callBackToParent={this.callBackMainMetric}\n            callBackToParentMainMetricB={this.callBackMainMetricB}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <ManageAuxiliaryQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            metrics={this.state.orientedLink.metrics}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <ManageMetadata\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            type=\"link\"\n            saveToParent={this.saveMetaData}\n          />\n        </div>\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.orientedLink}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.orientedLink}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={this.callBackZIndex.bind(this)}\n            isPoint={false}\n            isLink={true}\n            isRegion={false}\n            id={this.state.orientedLink.id}\n          />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddLink && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddLink && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport { SimpleOptions } from '../../../types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { PointClass } from '../../../Models/PointClass';\n\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\nimport Point from './point';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<PointClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<PointClass>;\n}\n\ninterface SelectPoint {\n  value: PointClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditPoint extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: PointClass): void => {\n    if (newCoordinate) {\n      const oldData: PointClass[] = this.props.options.arrayPoints.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: oldData,\n      });\n      //this.fillSelectPoint();\n    } else {\n      let find = false;\n      const oldData: PointClass[] = this.props.options.arrayPoints.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayPoints: oldData,\n        });\n        this.fillSelectPoint();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<PointClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectPoint = () => {\n    let valueExist = false;\n    const valueSelect: SelectPoint[] = [];\n    const stockTmpCoordinatesSpace: PointClass[] = this.props.options.arrayPoints.slice();\n\n    //valueSelect.push({ value: {}, label: 'No Data' });\n\n    for (const line of stockTmpCoordinatesSpace) {\n      let label = line.label || line.name;\n      valueSelect.push({ value: line, label: label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n    // final\n    // this.setState({\n    // \tselectCoordinateSpace: valueSelect,\n    // \tselectCoordinateSpaceDefault: (valueSelect.length > 0) ?\n    // \t\tvalueSelect[0] : this.state.selectCoordinateSpaceDefault,\n    // });\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectPoint();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.arrayPoints !== this.props.options.arrayPoints) {\n      this.fillSelectPoint();\n    }\n    if (prevProps.options.newPoint) {\n      this.fillSelectPoint();\n      this.props.options.newPoint = false;\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Point</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <Point\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              point={this.state.selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddPoint={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditPoint;\n","import React, { CSSProperties } from 'react';\nimport { createInputsPoint } from '../../../Functions/CreateInput/createInputsPoint';\nimport InputTextPoint from '../../../Functions/Input/inputTextPoint';\nimport { InputSelectableClass } from '../../../Models/InputSelectableClass';\nimport { ArrayInputSelectableClass } from '../../../Models/ArrayInputSelectableClass';\nimport { editGoodParameterPoint } from '../../../Functions/EditParameter/editGoodParameterPoint';\nimport { PointClass } from '../../../Models/PointClass';\nimport InputSelectPoint from '../../../Functions/Input/inputSelectPoint';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { Button, AlertVariant, Alert } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from '../../../types';\n\nimport ManageQuery from '../manageQuery';\nimport ManageAuxiliaryQuery from '../manageAuxiliaryQuery';\nimport { TextObject } from '../../../Models/TextObjectClass';\nimport { CoordinateSpaceClass } from '../../../Models/CoordinateSpaceClass';\nimport { LowerLimitClass } from '../../../Models/LowerLimitClass';\nimport PositionParameter from '../../Parametrage/positionParameters';\nimport ParametresGeneriques from '../../Parametrage/parametresGeneriques';\nimport ManageLowerLimit from '../../Parametrage/manageLowerLimit';\nimport { clonePoint } from 'Functions/initPoint';\nimport ManageMetadata from 'components/CoordinateSpace/manageMetada';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\n/**\n * IProps\n */\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /**\n   * save data in Parent\n   */\n  callBackToParent: (id: number, newCoordinate?: PointClass) => void;\n\n  /** point to edit */\n  point: PointClass;\n\n  isAddPoint: boolean;\n\n  id?: number;\n}\n\n/**\n * IState\n */\ninterface State {\n  /** */\n  arrayCoor: PointClass;\n  /** */\n  arrayInput: ArrayInputSelectableClass[];\n  /** */\n  //arrayPointClass: PointClass[];\n  /** */\n  point: PointClass;\n  /** */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n}\n\n/**\n * IndexParametrage\n */\nexport default class Point extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      point: clonePoint(\n        this.props.point,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayCoor: clonePoint(\n        this.props.point,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayInput: [],\n      //arrayPointClass: [],\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncArrayCoor = (state: {\n    /** new espace coordinate */\n    point: PointClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputSelectableClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([new ArrayInputSelectableClass(id, createInputsPoint(id))]),\n    });\n  };\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const label = this.state.point.label || this.state.point.name;\n    const del: boolean = confirm('Delete \"' + label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.point.id, undefined);\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: PointClass = this.state.point;\n\n    // UPDATE PositionXdefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    if (name.startsWith('positionShapeX')) {\n      tmp.positionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE PositionYdefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('positionShapeY')) {\n      tmp.positionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n\n    // update point attribut\n    tmp = editGoodParameterPoint(name, tmp, currentTarget, {});\n    this.setState({\n      point: tmp,\n    });\n    this.generateInputsPoint();\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayPointClass\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  private getGoodValue(param: string): any {\n    let value: string;\n    let valueSelect: SelectableValue<any>;\n\n    value = '';\n    valueSelect = {};\n\n    if (\n      param.startsWith('drawGraphicMarker') ||\n      param.startsWith('shape') ||\n      //param.startsWith('sizeWidth') ||\n      param.startsWith('sizeHeight') ||\n      param.startsWith('linkWithCoordinateSpace')\n    ) {\n      if (param.startsWith('drawGraphicMarker')) {\n        valueSelect = this.state.point.drawGraphicMarker;\n      } else if (param.startsWith('shape')) {\n        valueSelect = this.state.point.shape;\n      } else if (param.startsWith('sizeWidth')) {\n        //value = this.state.point.sizeWidth;\n      } else if (param.startsWith('sizeHeight')) {\n        valueSelect = this.state.point.sizeHeight;\n      }\n      return valueSelect;\n    } else {\n      if (param.startsWith('rotateArrow')) {\n        value = this.state.point.rotateArrow;\n      } else if (param.startsWith('positionShapeX')) {\n        value = this.state.point.positionShapeX;\n      } else if (param.startsWith('positionShapeY')) {\n        value = this.state.point.positionShapeY;\n      } else if (param.startsWith('label')) {\n        value = this.state.point.label;\n      } else if (param.startsWith('color')) {\n        value = this.state.point.color;\n      } else if (param.startsWith('sizeWidth')) {\n        value = this.state.point.sizeWidth;\n      }\n      return value;\n    }\n  }\n\n  /** create dynamic input */\n  generateInputsPoint(): void {\n    const { arrayInput } = this.state;\n    let item: JSX.Element = <div></div>;\n    let finalItem: JSX.Element[] = [];\n\n    for (const line of arrayInput) {\n      const mapItems: JSX.Element[] = [];\n      line.uneClassInput.forEach((obj: InputSelectableClass) => {\n        if (obj.input_type === 'text') {\n          item = (\n            <InputTextPoint\n              key={obj.id}\n              label={obj.label}\n              name={obj.name}\n              placeholder={obj.placeholder || ''}\n              required={obj.required}\n              value={this.getGoodValue(obj.name)}\n              _handleChange={(event: {\n                /**\n                 * get currentTarget in event element\n                 */\n                currentTarget: HTMLInputElement;\n              }) => {\n                this._handleChange(event.currentTarget.value, obj.name, line.id);\n              }}\n              shape={this.getGoodValue('shape').value}\n            />\n          );\n        } else if (obj.input_type === 'select') {\n          item = (\n            <InputSelectPoint\n              key={obj.id}\n              _onChange={(value: SelectableValue<string>, name: string, index: number) => {\n                const newPoint: PointClass = this.state.point;\n                editGoodParameterPoint(\n                  name,\n                  newPoint,\n                  '',\n                  value\n                  //this.props.options.arrayPoints[this.props.id || 0],\n                );\n                this.setState({\n                  point: newPoint,\n                });\n                this.generateInputsPoint();\n                if (this.props.isAddPoint === false) {\n                  this.callBack();\n                }\n              }}\n              name={obj.name}\n              index={line.id}\n              data={obj.optionValues}\n              defaultValue={this.getGoodValue(obj.name)}\n              shape={this.getGoodValue('shape').value}\n              label={obj.label}\n            />\n          );\n        } else {\n          item = <div key={obj.id}></div>;\n        }\n        mapItems.push(item);\n      });\n\n      const newInputList: JSX.Element = (\n        <div key={'inputPoint' + line.id.toString()} className=\"inputCoor\" id={'point' + line.id.toString()}>\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInputList);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n    }));\n  }\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    const waitAlert = 3000;\n\n    if (this.state.point.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n      //console.log('ok');\n    } else {\n      this.props.callBackToParent(this.state.point.id, this.state.point);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddPoint) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  private callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: PointClass = this.state.point;\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      point: oldCoor,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  private callBackManageLowerLimit = (coordinate: CoordinateSpaceClass, id?: number) => {\n    const newValue: PointClass = this.state.point;\n    newValue.colorMode = coordinate.colorMode;\n    newValue.traceBorder = coordinate.traceBorder;\n    newValue.traceBack = coordinate.traceBack;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  private callBackLowerLimit = (lowerLimit: LowerLimitClass[], id?: number) => {\n    const newValue: PointClass = this.state.point;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  private callBackMainMetric = (mainMetric: Metric, id?: number): void => {\n    const newValue: PointClass = this.state.point;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.point.id);\n    this.generateInputsPoint();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n  // Meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.arrayCoor;\n    old.meta = meta;\n    this.setState({\n      arrayCoor: old,\n    });\n  };\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.point.id !== this.props.point.id) {\n      await this.setStateAsyncArrayCoor({\n        point: clonePoint(\n          this.props.point,\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n          parseInt(this.props.options.baseMap.width, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n          parseInt(this.props.options.baseMap.height, 10)\n        ),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /**\n   * render()\n   */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.point.id}\n            mainMetric={this.state.point.mainMetric}\n            callBackToParent={this.callBackMainMetric}\n            isLink={false}\n          />\n        </div>\n        {!this.props.isAddPoint && (\n          <div>\n            <ManageAuxiliaryQuery\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.point.id}\n              metrics={this.state.point.metrics}\n              //callBackToParent={this.callBackAuxiliaryMetric}\n              isPoint={true}\n            />\n          </div>\n        )}\n        {!this.props.isAddPoint && (\n          <div>\n            <ManageMetadata\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.point.id}\n              type=\"point\"\n              saveToParent={this.saveMetaData}\n            />\n          </div>\n        )}\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.point}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.point}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={false}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={() => {}}\n            isPoint={true}\n            isLink={false}\n            isRegion={false}\n            id={this.state.point.id}\n          />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddPoint && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddPoint && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { CSSProperties } from 'react';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { Coord4D, RegionClass } from 'Models/RegionClass';\nimport { Tooltip } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from 'types';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { PointClass } from 'Models/PointClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  id: string;\n  pointAPositionX: string;\n  pointAPositionY: string;\n  pointBPositionX: string;\n  pointBPositionY: string;\n  colorA: string;\n  colorB: string;\n  orientationLink: string;\n  label: string;\n  associatePointIn: string;\n  associatePointOut: string;\n  associateRegionIn: string;\n  associateRegionOut: string;\n  widthImage: number;\n  heightImage: number;\n  name: string;\n  refMainMetricA: string;\n  refMainMetricB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  textObject: TextObject;\n  seuil: LowerLimitClass[];\n  labelAPositionX: string;\n  labelAPositionY: string;\n  labelBPositionX: string;\n  labelBPositionY: string;\n  tooltipPositionA: SelectableValue<any>;\n  tooltipPositionB: SelectableValue<any>;\n  zIndex: number;\n  pointCPositionX: string;\n  pointCPositionY: string;\n  isIncurved: SelectableValue<boolean>;\n  auxiliaryMetrics: Metric[];\n  auxiliaryMetricsB: Metric[];\n  valuesAuxiliaryMetrics: string[];\n  valuesAuxiliaryMetricsB: string[];\n  police: string;\n  sizePolice: string;\n  linkUrl: LinkURLClass;\n  size: string;\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXADefault: string;\n  positionYADefault: string;\n  positionXBDefault: string;\n  positionYBDefault: string;\n  positionXCDefault: string;\n  positionYCDefault: string;\n  metaData: Metadata[];\n  colorMode: boolean;\n  traceBorder: boolean;\n  traceBack: boolean;\n}\n\ninterface State {}\n\nexport default class DrawOrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  /**\n   * détermine la valeur de X pour les points A, B et C du lien en fonction des limites\n   * de l'initialSpace\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    const xMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    if (coordinateX < xMin) {\n      result = xMin;\n    } else if (coordinateX > xMax) {\n      result = xMax;\n    }\n    return result;\n  }\n\n  /**\n   * détermine la valeur de Y pour les points A, B et C du lien en fonction des limites\n   * de l'initialSpace\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    const yMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    if (coordinateY < yMin) {\n      result = yMin;\n    } else if (coordinateY > yMax) {\n      result = yMax;\n    }\n    return result;\n  }\n\n  // définit la bonne position X des points A, B et C composant le lien\n  // en fonction des valeurs de l'initialSpace (xMin, xMax, yMin, yMax)\n  private synchroLinkX(positionX: number, name?: string): number {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const ratioX = positionX / this.props.widthImage;\n\n    // define value to display in input positionShapeX\n    const x = Math.round(xMin + widthInitialSpace * ratioX);\n\n    // saving data new positionShapeX\n    let newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayLink.forEach((link) => {\n      if (link.name === this.props.name) {\n        if (name === 'xA') {\n          link.pointAPositionX = x.toString();\n        } else if (name === 'xB') {\n          link.pointBPositionX = x.toString();\n        } else if (name === 'xC') {\n          link.pointCPositionX = x.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayLink;\n\n    // define limit x in fonction of values xMin and xMax of initialSpace\n    const xLimited = this.defineLimitX(x);\n\n    // define display x\n    const result = ((xLimited - xMin) / widthInitialSpace) * this.props.widthImage;\n\n    // return result and center display of point in fonction of sizePoint and borderPoint\n    return result;\n  }\n\n  // définit la bonne position Y des points A, B et C composant le lien\n  // en fonction des valeurs de l'initialSpace (xMin, xMax, yMin, yMax)\n  private synchroLinkY(positionY: number, name?: string): number {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const heightInitialSpace: number = yMax - yMin;\n    const ratioY = positionY / this.props.heightImage;\n\n    // define value to display in input positionShapeY\n    let y = Math.round(yMin + heightInitialSpace * ratioY);\n    // saving data new positionShapeY\n    let newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayLink.forEach((link) => {\n      if (link.name === this.props.name) {\n        if (name === 'yA') {\n          link.pointAPositionY = y.toString();\n        } else if (name === 'yB') {\n          link.pointBPositionY = y.toString();\n        } else if (name === 'yC') {\n          link.pointCPositionY = y.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayLink;\n\n    // define limit y in fonction of values yMin and yMax of initialSpace\n    const yLimited = this.defineLimitY(y);\n\n    // define display y\n    const result = ((yMin + heightInitialSpace - yLimited) / heightInitialSpace) * this.props.heightImage;\n\n    return result;\n  }\n\n  private labelSynchroX = (whatLabel: string): number => {\n    let result = 0;\n    let labelMainMetric: HTMLElement | null = null;\n    if (whatLabel === 'A') {\n      labelMainMetric = document.getElementById('labelMainMetric' + this.props.id);\n    } else {\n      labelMainMetric = document.getElementById('labelMainMetricB' + this.props.id);\n    }\n    if (labelMainMetric?.offsetWidth) {\n      result = labelMainMetric?.offsetWidth / 2;\n    }\n    return result;\n  };\n\n  private labelSynchroY = (whatLabel: string): number => {\n    let result = 0;\n    let labelMainMetric: HTMLElement | null = null;\n    if (whatLabel === 'A') {\n      labelMainMetric = document.getElementById('labelMainMetric' + this.props.id);\n    } else {\n      labelMainMetric = document.getElementById('labelMainMetricB' + this.props.id);\n    }\n    if (labelMainMetric?.offsetHeight) {\n      result = labelMainMetric?.offsetHeight / 2;\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   */\n  private defineParallelOrientedLinks = (): number[] => {\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    const listParallelOrientedLinks: number[] = [];\n    listParallelOrientedLinks.push(parseInt(this.props.id, 10));\n    arrayOrientedLink.forEach((orientedLink) => {\n      if (this.props.name !== orientedLink.name) {\n        if (this.props.associateRegionIn !== '' && this.props.associateRegionOut !== '') {\n          if (this.props.associateRegionIn === orientedLink.regionIn || this.props.associateRegionIn === orientedLink.regionOut) {\n            if (this.props.associateRegionOut === orientedLink.regionIn || this.props.associateRegionOut === orientedLink.regionOut) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n          if (this.props.associatePointIn === orientedLink.pointIn || this.props.associatePointIn === orientedLink.pointOut) {\n            if (this.props.associatePointOut === orientedLink.pointIn || this.props.associatePointOut === orientedLink.pointOut) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n          if (this.props.associateRegionIn === orientedLink.regionIn || this.props.associateRegionIn === orientedLink.regionOut) {\n            if (this.props.associatePointOut === orientedLink.pointOut || this.props.associatePointOut === orientedLink.pointIn) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n          if (this.props.associatePointIn === orientedLink.pointIn || this.props.associatePointIn === orientedLink.pointOut) {\n            if (this.props.associateRegionOut === orientedLink.regionOut || this.props.associateRegionOut === orientedLink.regionIn) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        }\n      }\n    });\n    const listParallelOrientedLinkSorted: number[] = listParallelOrientedLinks.sort((a, b) => a - b);\n    return listParallelOrientedLinkSorted;\n  };\n\n  /**\n   * to do\n   * @param region\n   */\n  private defineCoor4DRegion = (region: RegionClass): Coord4D => {\n    // let coor4D: Coord4D = { xMin: '0', xMax: '0', yMin: '0', yMax: '0' };\n    let coor4D: Coord4D;\n    let xMin = 0;\n    let xMax = 0;\n    let yMin = 0;\n    let yMax = 0;\n    if (region.idSVG !== '') {\n      // region SVG\n      const heightPanel: number = parseInt(this.props.options.baseMap.height, 10);\n      const widthPanel: number = parseInt(this.props.options.baseMap.width, 10);\n      const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n      const xMinInitialSpace: number = parseInt(initialSpace.xMin, 10);\n      const xMinPx: number = (xMinInitialSpace + 100) * (widthPanel / 200);\n      const xMaxInitialSpace: number = parseInt(initialSpace.xMax, 10);\n      const xMaxPx: number = (xMaxInitialSpace + 100) * (widthPanel / 200);\n      const widthInitialSpace: number = xMaxPx - xMinPx;\n      const yMinInitialSpace: number = parseInt(initialSpace.yMin, 10);\n      const yMinPx: number = (yMinInitialSpace + 100) * (heightPanel / 200);\n      const yMaxInitialSpace: number = parseInt(initialSpace.yMax, 10);\n      const yMaxPx: number = (yMaxInitialSpace + 100) * (heightPanel / 200);\n      const heightInitialSpace: number = yMaxPx - yMinPx;\n      let regionSVGHtml: any;\n      if (this.props.options.baseMap.isUploaded) {\n        regionSVGHtml = document.getElementById(region.idSVG);\n      } else {\n        regionSVGHtml = document.getElementById('oct' + region.idSVG);\n      }\n      let width = 0;\n      let height = 0;\n      let xMinSVG = 0;\n      let xMaxSVG = 0;\n      let yMaxSVG = 0;\n      let yMinSVG = 0;\n      if (regionSVGHtml) {\n        if (regionSVGHtml.localName === 'rect') {\n          width = parseInt(regionSVGHtml.attributes['width'].nodeValue, 10);\n          height = parseInt(regionSVGHtml.attributes['height'].nodeValue, 10);\n          xMinSVG = parseInt(regionSVGHtml.attributes['x'].nodeValue, 10);\n          xMaxSVG = xMinSVG + width;\n          yMaxSVG = parseInt(regionSVGHtml.attributes['y'].nodeValue, 10);\n          yMinSVG = yMaxSVG + height;\n        } else if (regionSVGHtml.localName === 'ellipse') {\n          const rX: number = parseInt(regionSVGHtml.attributes['rx'].nodeValue, 10);\n          const rY: number = parseInt(regionSVGHtml.attributes['ry'].nodeValue, 10);\n          xMinSVG = parseInt(regionSVGHtml.attributes['cx'].nodeValue, 10) - rX;\n          xMaxSVG = parseInt(regionSVGHtml.attributes['cx'].nodeValue, 10) + rX;\n          yMinSVG = parseInt(regionSVGHtml.attributes['cy'].nodeValue, 10) + rY;\n          yMaxSVG = parseInt(regionSVGHtml.attributes['cy'].nodeValue, 10) - rY;\n        } else if (regionSVGHtml.localName === 'path') {\n          const allValues: string = regionSVGHtml.attributes['d'].nodeValue;\n          const arrayAllValues: string[] = allValues.split(' ');\n          let iX = -2;\n          let xMin = 1000000;\n          let xMax = 0;\n          let iY = -1;\n          let yMin = 1000000;\n          let yMax = 0;\n          for (let i = 0; i < arrayAllValues.length; i++) {\n            let valueToCheck = parseInt(arrayAllValues[i], 10);\n            if (i === iX + 3) {\n              if (valueToCheck < xMin) {\n                xMin = valueToCheck;\n              }\n              if (valueToCheck > xMax) {\n                xMax = valueToCheck;\n              }\n              iX = i;\n            }\n            if (i === iY + 3) {\n              if (valueToCheck < yMin) {\n                yMin = valueToCheck;\n              }\n              if (valueToCheck > yMax) {\n                yMax = valueToCheck;\n              }\n              iY = i;\n            }\n          }\n          xMinSVG = xMin;\n          xMaxSVG = xMax;\n          yMinSVG = yMax;\n          yMaxSVG = yMin;\n        }\n      }\n      const xMinSVGCoor: number = Math.round((xMinSVG - widthInitialSpace / 2) * (100 / widthInitialSpace)) * 2;\n      const xMaxSVGCoor: number = Math.round((xMaxSVG - widthInitialSpace / 2) * (100 / widthInitialSpace)) * 2;\n      const yMinSVGCoor: number = Math.round((yMinSVG - heightInitialSpace / 2) * (100 / heightInitialSpace)) * 2 * -1;\n      const yMaxSVGCoor: number = Math.round((yMaxSVG - heightInitialSpace / 2) * (100 / heightInitialSpace)) * 2 * -1;\n      xMin = Math.round(xMinSVG);\n      xMax = Math.round(xMaxSVG);\n      yMin = Math.round(this.props.heightImage - yMinSVG);\n      yMax = Math.round(this.props.heightImage - yMaxSVG);\n\n      if (xMin < 0 && xMax < 0) {\n        xMin = xMaxSVGCoor;\n        xMax = xMinSVGCoor;\n      }\n      if (yMin < 0 && yMax < 0) {\n        yMin = yMaxSVGCoor;\n        yMax = yMinSVGCoor;\n      }\n    } else {\n      // region coordinate\n      xMin = parseInt(region.coordsDefault.xMin, 10);\n      xMax = parseInt(region.coordsDefault.xMax, 10);\n      yMin = parseInt(region.coordsDefault.yMin, 10);\n      yMax = parseInt(region.coordsDefault.yMax, 10);\n    }\n    coor4D = { xMin: xMin.toString(), xMax: xMax.toString(), yMin: yMin.toString(), yMax: yMax.toString() };\n    return coor4D;\n  };\n\n  private getPaddingPoint = (point: PointClass, idMultiLink: number): number => {\n    let result = 0;\n    const pointHtml = document.getElementById(point.name);\n    if (pointHtml) {\n      result = parseInt(pointHtml.style.padding.substring(-2), 10) + parseInt(this.props.size, 10) / 10;\n      if (idMultiLink === 2) {\n        result = result / 2;\n      }\n    }\n    return result;\n  };\n\n  // permet de définir le bon placement X des extrémités du lien :\n  // - selon si il y a un ou plusieurs liens entre deux extrémités\n  // - selon si l'extrémité A est un point, une région ou le panel\n  // - selon si l'extrémité B est un point, une région ou le panel\n  private definePositionX = (isIn: boolean, idMultiLink: number): number => {\n    let xResult = 0;\n    const arrayRegions = this.props.options.regionCoordinateSpace;\n    const arrayPoints = this.props.options.arrayPoints;\n    let xMinIn = 0;\n    let xMaxIn = 0;\n    let xMinOut = 0;\n    let xMaxOut = 0;\n    let yMinIn = 0;\n    let yMaxIn = 0;\n    let yMinOut = 0;\n    let yMaxOut = 0;\n    let xMidIn = 0;\n    let xMidOut = 0;\n    let yMidIn = 0;\n    let yMidOut = 0;\n    let paddingPoint = 0;\n\n    if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n      // pointIn + regionOut\n      //console.log('1');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n      // regionIn + pointOut\n      //console.log('2');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associateRegionOut !== '') {\n      // vide + regionOut\n      //console.log('3');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      // regionIn + vide\n      //console.log('4');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      // pointIn + vide\n      //console.log('5');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associatePointOut !== '') {\n      // vide + pointOut\n      //console.log('6');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n      // pointIn + pointOut\n      //console.log('7');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else {\n      //console.log('8');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    }\n\n    xMidIn = (xMinIn + xMaxIn) / 2;\n    xMidOut = (xMinOut + xMaxOut) / 2;\n    yMidIn = (yMinIn + yMaxIn) / 2;\n    yMidOut = (yMinOut + yMaxOut) / 2;\n\n    const ratioXin = xMidIn / this.props.widthImage;\n    const ratioXout = xMidOut / this.props.widthImage;\n\n    if (isIn) {\n      if (idMultiLink === 0) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x1');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x2');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x3');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x4');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x5');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x6');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x7');\n          xResult = xMidIn;\n        }\n      } else if (idMultiLink === 1) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x8');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x9');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x10');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x11');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x12');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x13');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x14');\n          xResult = xMidIn;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointIn !== '' && this.props.associateRegionIn === '') {\n          if (yMidIn === yMidOut) {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinIn;\n            }\n          } else {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (ratioXin - ratioXout < 0.05) {\n                xResult = xMidIn;\n              } else if (ratioXin - ratioXout < 0.11) {\n                xResult = xMidIn + paddingPoint - parseInt(this.props.size, 10) / 2;\n              } else if (ratioXin - ratioXout < 0.37) {\n                xResult = xMidIn - paddingPoint / 2;\n              } else {\n                if (xMinIn < 0 && xMaxIn < 0) {\n                  xResult = xMaxIn;\n                } else {\n                  xResult = xMinIn;\n                }\n              }\n            } else if (xMidIn < xMidOut) {\n              if (ratioXout - ratioXin < 0.05) {\n                xResult = xMidIn;\n              } else if (ratioXout - ratioXin < 0.11) {\n                xResult = xMidIn - paddingPoint + parseInt(this.props.size, 10) / 2;\n              } else if (ratioXout - ratioXin < 0.37) {\n                xResult = xMidIn + paddingPoint / 2;\n              } else {\n                if (xMinIn < 0 && xMaxIn < 0) {\n                  xResult = xMinIn;\n                } else {\n                  xResult = xMaxIn;\n                }\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidIn;\n            }\n          }\n        } else if (this.props.associatePointIn === '' && this.props.associateRegionIn !== '') {\n          if (yMidIn === yMidOut) {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinIn;\n            }\n          } else {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidIn;\n            }\n          }\n        }\n      }\n    } else {\n      if (idMultiLink === 0) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x15');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x16');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x17');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x18');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x19');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x20');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x21');\n          xResult = xMidOut;\n        }\n      } else if (idMultiLink === 1) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x22');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x23');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x24');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x25');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x26');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x27');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x28');\n          xResult = xMidOut;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointOut !== '' && this.props.associateRegionOut === '') {\n          if (yMidIn === yMidOut) {\n            if (xMidIn > xMidOut) {\n              if (xMinOut < 0 && xMaxOut < 0) {\n                xResult = xMinOut;\n              } else {\n                xResult = xMaxOut;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinOut < 0 && xMaxOut < 0) {\n                xResult = xMaxOut;\n              } else {\n                xResult = xMinOut;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinOut;\n            }\n          } else {\n            if ((xMidIn > xMinOut && xMidIn < xMaxOut) || (xMidIn < xMinOut && xMidIn > xMaxOut)) {\n              xResult = xMidOut;\n            } else if (xMidIn > xMidOut) {\n              if (ratioXin - ratioXout < 0.23) {\n                xResult = xMidOut;\n              } else {\n                if (xMinOut < 0 && xMaxOut < 0) {\n                  xResult = xMinOut;\n                } else {\n                  xResult = xMaxOut;\n                }\n              }\n            } else if (xMidIn < xMidOut) {\n              if (ratioXout - ratioXin < 0.23) {\n                xResult = xMidOut;\n              } else {\n                if (xMinOut < 0 && xMaxOut < 0) {\n                  xResult = xMaxOut;\n                } else {\n                  xResult = xMinOut;\n                }\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidOut;\n            }\n          }\n        } else if (this.props.associatePointOut === '' && this.props.associateRegionOut !== '') {\n          if ((xMidIn > xMinOut && xMidIn < xMaxOut) || (xMidIn < xMinOut && xMidIn > xMaxOut)) {\n            xResult = xMidOut;\n          } else if (xMidIn > xMidOut) {\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            xResult = xMidOut;\n          }\n        }\n      }\n    }\n\n    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.forEach((orientedLink) => {\n      if (orientedLink.name === this.props.name) {\n        if (isIn) {\n          orientedLink.pointAPositionX = xResult.toString();\n          orientedLink.pointAPositionXDefault = xResult.toString();\n        } else {\n          orientedLink.pointBPositionX = xResult.toString();\n          orientedLink.pointBPositionXDefault = xResult.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n\n    return xResult;\n  };\n\n  // permet de définir le bon placement Y des extrémités du lien :\n  // - selon si il y a un ou plusieurs liens entre deux extrémités\n  // - selon si l'extrémité A est un point, une région ou le panel\n  // - selon si l'extrémité B est un point, une région ou le panel\n  private definePositionY = (isIn: boolean, idMultiLink: number): number => {\n    let yResult = 0;\n    const arrayPoints = this.props.options.arrayPoints;\n    const arrayRegions = this.props.options.regionCoordinateSpace;\n    let xMinIn = 0;\n    let xMaxIn = 0;\n    let xMinOut = 0;\n    let xMaxOut = 0;\n    let yMinIn = 0;\n    let yMaxIn = 0;\n    let yMinOut = 0;\n    let yMaxOut = 0;\n    let xMidIn = 0;\n    let xMidOut = 0;\n    let yMidIn = 0;\n    let yMidOut = 0;\n\n    if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associateRegionOut !== '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associatePointOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    }\n\n    xMidIn = (xMinIn + xMaxIn) / 2;\n    xMidOut = (xMinOut + xMaxOut) / 2;\n    yMidIn = (yMinIn + yMaxIn) / 2;\n    yMidOut = (yMinOut + yMaxOut) / 2;\n\n    if (isIn) {\n      if (idMultiLink === 0) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y1');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y2');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y3');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y4');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y5');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y6');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y7');\n          yResult = yMidIn;\n        }\n      } else if (idMultiLink === 1) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y8');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y9');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y10');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y11');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y12');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y13');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y14');\n          yResult = yMidIn;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointIn !== '' && this.props.associateRegionIn === '') {\n          if (xMidIn === xMidOut) {\n            if (yMidIn > yMidOut) {\n              if (yMinIn < 0 && yMaxIn < 0) {\n                yResult = yMaxIn;\n              } else {\n                yResult = yMinIn;\n              }\n            } else if (yMidIn < yMidOut) {\n              if (yMinIn < 0 && yMaxIn < 0) {\n                yResult = yMinIn;\n              } else {\n                yResult = yMaxIn;\n              }\n            }\n          } else {\n            yResult = yMidIn;\n          }\n        } else if (this.props.associatePointIn === '' && this.props.associateRegionIn !== '') {\n          if (yMidIn > yMidOut) {\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            yResult = yMidIn;\n          }\n        }\n      }\n    } else {\n      // ce lien est le premier parmis deux ou trois liens\n      if (idMultiLink === 0) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y15');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y16');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y17');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y18');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y19');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y20');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y21');\n          yResult = yMidOut;\n        }\n        // ce lien est le deuxième parmis deux ou trois liens\n      } else if (idMultiLink === 1) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y22');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y23');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y24');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y25');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y26');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y27');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y28');\n          yResult = yMidOut;\n        }\n        // le lien est seul ou au milieu de trois liens\n      } else if (idMultiLink === 2) {\n        // un point en sortie\n        if (this.props.associatePointOut !== '' && this.props.associateRegionOut === '') {\n          if (xMidIn === xMidOut) {\n            if (yMidIn > yMidOut) {\n              if (yMinOut < 0 && yMaxOut < 0) {\n                yResult = yMinOut;\n              } else {\n                yResult = yMaxOut;\n              }\n            } else if (yMidIn < yMidOut) {\n              if (yMinOut < 0 && yMaxOut < 0) {\n                yResult = yMaxOut;\n              } else {\n                yResult = yMinOut;\n              }\n            }\n          } else {\n            yResult = yMidOut;\n          }\n          // une région en sortie\n        } else if (this.props.associatePointOut === '' && this.props.associateRegionOut !== '') {\n          if (yMidIn > yMidOut) {\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            yResult = yMidOut;\n          }\n        }\n      }\n    }\n\n    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.forEach((orientedLink) => {\n      if (orientedLink.name === this.props.name) {\n        if (isIn) {\n          orientedLink.pointAPositionY = yResult.toString();\n          orientedLink.pointAPositionYDefault = yResult.toString();\n        } else {\n          orientedLink.pointBPositionY = yResult.toString();\n          orientedLink.pointBPositionYDefault = yResult.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n\n    return yResult;\n  };\n\n  /**\n   * to do\n   */\n  private drawLink(xA0: number, yA0: number, xB0: number, yB0: number, xCByClick0: number, yCByClick0: number, orientationLink: string) {\n    const listParallelOrientedLinks: number[] = this.defineParallelOrientedLinks();\n    let xA = 0;\n    let yA = 0;\n    let xB = 0;\n    let yB = 0;\n    let xCByClick = 0;\n    let yCByClick = 0;\n\n    if (listParallelOrientedLinks.length > 1) {\n      let indexOrientedLink = 0;\n      listParallelOrientedLinks.forEach((index) => {\n        if (index === parseInt(this.props.id, 10)) {\n          if (indexOrientedLink === 0) {\n            xA = this.synchroLinkX(this.definePositionX(true, 0));\n            yA = this.synchroLinkY(this.definePositionY(true, 0));\n            xB = this.synchroLinkX(this.definePositionX(false, 0));\n            yB = this.synchroLinkY(this.definePositionY(false, 0));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          } else if (indexOrientedLink === 1) {\n            xA = this.synchroLinkX(this.definePositionX(true, 1));\n            yA = this.synchroLinkY(this.definePositionY(true, 1));\n            xB = this.synchroLinkX(this.definePositionX(false, 1));\n            yB = this.synchroLinkY(this.definePositionY(false, 1));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          } else if (indexOrientedLink === 2) {\n            xA = this.synchroLinkX(this.definePositionX(true, 2));\n            yA = this.synchroLinkY(this.definePositionY(true, 2));\n            xB = this.synchroLinkX(this.definePositionX(false, 2));\n            yB = this.synchroLinkY(this.definePositionY(false, 2));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          }\n        }\n        indexOrientedLink++;\n      });\n    } else {\n      if (\n        (this.props.associateRegionIn !== '' || this.props.associatePointIn !== '') &&\n        this.props.associateRegionOut === '' &&\n        this.props.associatePointOut === ''\n      ) {\n        xA = this.synchroLinkX(this.definePositionX(true, 2));\n        yA = this.synchroLinkY(this.definePositionY(true, 2));\n        xB = xB0;\n        yB = yB0;\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else if (\n        (this.props.associateRegionIn === '' || this.props.associatePointIn === '') &&\n        this.props.associateRegionOut !== '' &&\n        this.props.associatePointOut !== ''\n      ) {\n        xA = xA0;\n        yA = yA0;\n        xB = this.synchroLinkX(this.definePositionX(false, 2));\n        yB = this.synchroLinkY(this.definePositionY(false, 2));\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else if (\n        (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') ||\n        (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') ||\n        (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') ||\n        (this.props.associateRegionIn !== '' && this.props.associateRegionOut !== '')\n      ) {\n        xA = this.synchroLinkX(this.definePositionX(true, 2));\n        yA = this.synchroLinkY(this.definePositionY(true, 2));\n        xB = this.synchroLinkX(this.definePositionX(false, 2));\n        yB = this.synchroLinkY(this.definePositionY(false, 2));\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else {\n        xA = xA0;\n        yA = yA0;\n        xB = xB0;\n        yB = yB0;\n        xCByClick = xCByClick0;\n        yCByClick = yCByClick0;\n      }\n    }\n\n    let xC = 0;\n    let yC = 0;\n\n    if (this.props.isIncurved.value) {\n      xC = xCByClick;\n      yC = yCByClick;\n    } else {\n      xC = (xA + xB) / 2;\n      yC = (yA + yB) / 2;\n    }\n\n    const distanceAC: number = Math.sqrt((xA - xC) * (xA - xC) + (yA - yC) * (yA - yC));\n    const angleRadianAC: number = Math.atan2(yA - yC, xA - xC);\n    const angleDegreeAC: number = (angleRadianAC * 180) / Math.PI;\n    const xMidAC: number = (xA + xC) / 2;\n    const yMidAC: number = (yA + yC) / 2;\n    const xArrowAC: number = xMidAC - distanceAC / 2;\n    const yArrowAC: number = yMidAC;\n\n    const distanceBC: number = Math.sqrt((xB - xC) * (xB - xC) + (yB - yC) * (yB - yC));\n    const angleRadianBC: number = Math.atan2(yB - yC, xB - xC);\n    const angleDegreeBC: number = (angleRadianBC * 180) / Math.PI;\n    const xMidBC: number = (xB + xC) / 2;\n    const yMidBC: number = (yB + yC) / 2;\n    const xArrowBC: number = xMidBC - distanceBC / 2;\n    const yArrowBC: number = yMidBC;\n\n    const distanceAB: number = Math.sqrt((xA - xB) * (xA - xB) + (yA - yB) * (yA - yB));\n    const angleRadianAB: number = Math.atan2(yA - yB, xA - xB);\n    const angleDegreeAB: number = (angleRadianAB * 180) / Math.PI;\n    const xMidAB: number = (xA + xB) / 2;\n    const yMidAB: number = (yA + yB) / 2;\n    const xArrowAB: number = xMidAB - distanceAB / 2;\n    const yArrowAB: number = yMidAB;\n\n    const sizeArrowTriangle = 8;\n\n    const valueTooltipMonodirectional: JSX.Element | null = this.defineValueTooptip('monodirectional');\n    const valueTooltipBidirectionalA: JSX.Element | null = this.defineValueTooptip('bidirectional', 'A');\n    const valueTooltipBidirectionalB: JSX.Element | null = this.defineValueTooptip('bidirectional', 'B');\n    const linkUrlOrientedLink: string = this.props.linkUrl.followLink;\n    const inverseAxeY = -1;\n\n    let positionTooltipA: any = '';\n    if (this.props.tooltipPositionA.value) {\n      positionTooltipA = this.props.tooltipPositionA.value.toLowerCase();\n    }\n\n    let positionTooltipB: any = '';\n    if (this.props.tooltipPositionB.value) {\n      positionTooltipB = this.props.tooltipPositionB.value.toLowerCase();\n    }\n\n    if (orientationLink === 'double') {\n      let first: JSX.Element;\n      if (valueTooltipBidirectionalA) {\n        first = (\n          <Tooltip content={valueTooltipBidirectionalA} placement={positionTooltipA}>\n            <div\n              id=\"linkA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC - sizeArrowTriangle / 2,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                width: distanceAC,\n              }}\n            >\n              <div\n                id=\"arrow1\"\n                style={{\n                  display: 'flex',\n                  alignContent: 'stretch',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceAC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        first = (\n          <div\n            id=\"linkA\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowAC - sizeArrowTriangle / 2,\n              left: xArrowAC,\n              transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n              width: distanceAC,\n            }}\n          >\n            <div\n              id=\"arrow1\"\n              style={{\n                display: 'flex',\n                alignContent: 'stretch',\n              }}\n            >\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                  transform: 'rotate(270deg)',\n                }}\n              ></div>\n              <div\n                style={{\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceAC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n      let second: JSX.Element;\n      if (valueTooltipBidirectionalB) {\n        second = (\n          <Tooltip content={valueTooltipBidirectionalB} placement={positionTooltipB}>\n            <div\n              id=\"linkB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC - sizeArrowTriangle / 2,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                width: distanceBC,\n              }}\n            >\n              <div\n                id=\"arrow2\"\n                style={{\n                  display: 'flex',\n                  alignContent: 'stretch',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('B'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('B') + 'px solid ' + this.defineBorderColor('B'),\n                    backgroundColor: this.defineBackColor('B'),\n                    width: distanceBC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        second = (\n          <div\n            id=\"linkB\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowBC - sizeArrowTriangle / 2,\n              left: xArrowBC,\n              transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n              width: distanceBC,\n            }}\n          >\n            <div\n              id=\"arrow2\"\n              style={{\n                display: 'flex',\n                alignContent: 'stretch',\n              }}\n            >\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('B'),\n                  transform: 'rotate(270deg)',\n                }}\n              ></div>\n              <div\n                style={{\n                  border: this.defineBorderSize('B') + 'px solid ' + this.defineBorderColor('B'),\n                  backgroundColor: this.defineBackColor('B'),\n                  width: distanceBC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <a\n          id=\"link\"\n          href={linkUrlOrientedLink}\n          onClick={this.desactiveLink}\n          style={{ cursor: this.defineCursor() }}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div>\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                fontSize: this.props.sizePolice,\n                //border: '1px solid black',\n                backgroundColor: 'white',\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </div>\n          <div>\n            {second}\n            <div\n              id={'labelMainMetricB' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidBC + parseInt(this.props.labelBPositionY, 10) * inverseAxeY - this.labelSynchroY('B'),\n                left: xMidBC + parseInt(this.props.labelBPositionX, 10) - this.labelSynchroX('B'),\n                fontSize: this.props.sizePolice,\n                //border: '1px solid black',\n                backgroundColor: 'white',\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricB)}\n            </div>\n          </div>\n        </a>\n      );\n    } else if (orientationLink === 'AB') {\n      let first: JSX.Element;\n      if (valueTooltipMonodirectional) {\n        first = (\n          <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n            <div\n              id=\"partA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC - sizeArrowTriangle / 2,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                width: distanceAC,\n              }}\n            >\n              <div\n                style={{\n                  padding: parseInt(this.defineBorderSize('A'), 10) / 2 + 'px',\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceAC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        first = (\n          <div\n            id=\"partA\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowAC - sizeArrowTriangle / 2,\n              left: xArrowAC,\n              transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n              width: distanceAC,\n            }}\n          >\n            <div\n              style={{\n                padding: parseInt(this.defineBorderSize('A'), 10) / 2 + 'px',\n                border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n                width: distanceAC,\n                height: this.defineSizeLink() + 'px',\n              }}\n            ></div>\n          </div>\n        );\n      }\n      let second: JSX.Element;\n      if (valueTooltipMonodirectional) {\n        second = (\n          <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n            <div\n              id=\"partB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC - sizeArrowTriangle / 2,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                width: distanceBC,\n              }}\n            >\n              <div\n                id=\"arrow2\"\n                style={{\n                  display: 'flex',\n                }}\n              >\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceBC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(90deg)',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        second = (\n          <div\n            id=\"partB\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowBC - sizeArrowTriangle / 2,\n              left: xArrowBC,\n              transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n              width: distanceBC,\n              height: this.defineSizeLink() + 'px',\n            }}\n          >\n            <div\n              id=\"arrow2\"\n              style={{\n                display: 'flex',\n              }}\n            >\n              <div\n                style={{\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceBC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                  transform: 'rotate(90deg)',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n      if (this.props.isIncurved.value) {\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            {second}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      } else {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"link\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAB - sizeArrowTriangle / 2,\n                  left: xArrowAB,\n                  transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                  width: distanceAB,\n                }}\n              >\n                <div\n                  id=\"arrow1\"\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                  }}\n                >\n                  <div\n                    className=\"arrowTriangle\"\n                    style={{\n                      //position: 'absolute',\n                      width: '0',\n                      height: '0',\n                      borderLeft: this.defineSizeLink() + 'px solid transparent',\n                      borderRight: this.defineSizeLink() + 'px solid transparent',\n                      borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                      transform: 'rotate(270deg)',\n                    }}\n                  ></div>\n                  <div\n                    style={{\n                      border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                      backgroundColor: this.defineBackColor('A'),\n                      width: distanceAB,\n                      height: this.defineSizeLink() + 'px',\n                    }}\n                  ></div>\n                </div>\n              </div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"link\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAB - sizeArrowTriangle / 2,\n                left: xArrowAB,\n                transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                width: distanceAB,\n              }}\n            >\n              <div\n                id=\"arrow1\"\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceAB,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAB + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAB + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      }\n    } else if (orientationLink === 'no') {\n      if (this.props.isIncurved.value) {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"partA\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAC,\n                  left: xArrowAC,\n                  transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                  height: this.defineSizeLink() + 'px',\n                  width: distanceAC,\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"partA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                height: this.defineSizeLink() + 'px',\n                width: distanceAC,\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        let second: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          second = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"partB\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowBC,\n                  left: xArrowBC,\n                  transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                  height: this.defineSizeLink() + 'px',\n                  width: distanceBC,\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          second = (\n            <div\n              id=\"partB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                height: this.defineSizeLink() + 'px',\n                width: distanceBC,\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            {second}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      } else {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"link\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAB,\n                  left: xArrowAB,\n                  transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                  width: distanceAB,\n                  height: this.defineSizeLink() + 'px',\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"link\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAB,\n                left: xArrowAB,\n                transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                width: distanceAB,\n                height: this.defineSizeLink() + 'px',\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAB + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAB + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      }\n    } else {\n      return <div></div>;\n    }\n  }\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  private defineBackColor(link: string) {\n    let colorBack = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBack) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].backColor !== '') {\n          colorBack = seuil[0].backColor;\n        } else {\n          colorBack = 'black';\n        }\n      } else {\n        colorBack = 'black';\n      }\n    } else {\n      colorBack = 'black';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBack = level.backColor;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            colorBack = level.backColor;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          colorBack = level.backColor;\n        }\n        index++;\n      });\n    }\n\n    return colorBack;\n  }\n\n  private defineBorderColor(link: string) {\n    let colorBorder = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBorder) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].borderColor !== '') {\n          colorBorder = seuil[0].borderColor;\n        } else {\n          colorBorder = 'black';\n        }\n      } else {\n        colorBorder = 'black';\n      }\n    } else {\n      colorBorder = 'black';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBorder = level.borderColor;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            colorBorder = level.borderColor;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          colorBorder = level.borderColor;\n        }\n        index++;\n      });\n    }\n    return colorBorder;\n  }\n\n  defineBorderSize(link: string) {\n    let sizeBorder = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBorder) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].sizeBorder !== '') {\n          sizeBorder = seuil[0].sizeBorder;\n        } else {\n          sizeBorder = '0';\n        }\n      } else {\n        sizeBorder = '0';\n      }\n    } else {\n      sizeBorder = '0';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            sizeBorder = level.sizeBorder;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            sizeBorder = level.sizeBorder;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          sizeBorder = level.sizeBorder;\n        }\n        index++;\n      });\n    }\n    return sizeBorder;\n  }\n\n  private defineMainMetric = (mainMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.valueGenerateObjectText.unit;\n    const decimal: string = this.props.textObject.valueGenerateObjectText.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(mainMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineAuxMetric = (auxMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.generateAuxiliaryElement.unit;\n    const decimal: string = this.props.textObject.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(auxMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = auxMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineTextObject = (mainMetric: string): JSX.Element => {\n    let htmlTextObject: JSX.Element[] = [];\n    let htmlMainMetric: JSX.Element[] = [];\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n\n    const styleLabel = {\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n      textAlign: 'center',\n      margin: 0,\n      padding: '0 5px',\n    } as CSSProperties;\n\n    const styleMainMetric = {\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n      margin: 0,\n      padding: 0,\n      whiteSpace: 'nowrap',\n    } as CSSProperties;\n\n    if (!dislayTextObjectInTooltip) {\n      htmlTextObject.push(\n        <p key={'contentTextObject1' + this.props.name} style={styleLabel}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n    if (displayMainMetric) {\n      if (!displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          htmlMainMetric.push(\n            <p key={'contentTextObject2' + this.props.name} style={styleMainMetric}>\n              {legendMainMetric}\n            </p>\n          );\n        }\n        // Condition Display NaN none Oriented Link\n        htmlMainMetric.push(\n          <p key={'contentTextObject3' + this.props.name} style={styleMainMetric}>\n            {!isNaN(parseFloat(this.defineMainMetric(mainMetric))) && this.defineMainMetric(mainMetric)}\n          </p>\n        );\n      }\n    }\n\n    let styleMainDiv = {\n      backgroundColor: backColoTextObject,\n      border: '1px solid black',\n    } as CSSProperties;\n\n    if (!displayMainMetric || (displayMainMetric && displayMainMetricInTooltip)) {\n      styleMainDiv = {\n        backgroundColor: backColoTextObject,\n      };\n    }\n\n    return (\n      <div style={styleMainDiv}>\n        {htmlTextObject}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>{htmlMainMetric}</div>\n      </div>\n    );\n  };\n\n  private defineHtmlLinkTooltip = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.linkUrl.hoveringTooltipText !== '') {\n      result = (\n        <a href={this.props.linkUrl.hoveringTooltipLink} target=\"_blank\" rel=\"noopener noreferrer\">\n          {this.props.linkUrl.hoveringTooltipText}\n        </a>\n      );\n    }\n    return result;\n  };\n\n  private defineValueTooptip = (typeLink: string, link?: string): JSX.Element | null => {\n    const contentTooltip: JSX.Element[] = [];\n    const contentTooltipMainMetric: JSX.Element[] = [];\n    const contentTooltipAuxMetric: JSX.Element[] = [];\n    const contentTooltipMetaData: JSX.Element[] = [];\n    const valueMainMetricA = this.props.valueMainMetricA;\n    const valueMainMetricB = this.props.valueMainMetricB;\n    const refMainMetricA = this.props.refMainMetricA;\n    const refMainMetricB = this.props.refMainMetricB;\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n    const displayAuxMetricInTooltip: boolean = this.props.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    const addTextColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorTextElement;\n    const addBackColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorBackElement;\n    const textColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorTextElement;\n    const backColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorBackElement;\n    const legendAuxMetric: string = this.props.textObject.generateAuxiliaryElement.legendElement;\n\n    const styleMainTitle = {\n      fontFamily: this.props.police,\n      fontSize: '11px',\n      marginBottom: '0px',\n      textAlign: 'center',\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2MainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2AuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMetaData = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    const styleContentMainMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleContentAuxMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    if (dislayTextObjectInTooltip) {\n      contentTooltip.push(\n        <p key={'contentTooltip1' + this.props.name} style={styleMainTitle}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric) {\n      if (displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          contentTooltipMainMetric.push(<p style={styleTitleMainMetric}>{legendMainMetric}</p>);\n        }\n        contentTooltipMainMetric.push(\n          <p key={'contentTooltip1' + this.props.name} style={styleTitleMainMetric}>\n            Main Metric\n          </p>\n        );\n\n        if (typeLink === 'bidirectional') {\n          if (link === 'A') {\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip2' + this.props.name} style={styleTitle2MainMetric}>\n                + Link A\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip3' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Reference : {refMainMetricA}\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip4' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Value : {this.defineMainMetric(valueMainMetricA)}\n              </p>\n            );\n          } else {\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip5' + this.props.name} style={styleTitle2MainMetric}>\n                + Link B\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip6' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Reference : {refMainMetricB}\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip7' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Value : {this.defineMainMetric(valueMainMetricB)}\n              </p>\n            );\n          }\n        } else if (typeLink === 'monodirectional') {\n          contentTooltipMainMetric.push(\n            <p key={'contentTooltip8' + this.props.name} style={styleContentMainMetrics}>\n              {' '}\n              - Reference : {refMainMetricA}\n            </p>\n          );\n          contentTooltipMainMetric.push(\n            <p key={'contentTooltip9' + this.props.name} style={styleContentMainMetrics}>\n              {' '}\n              - Value : {this.defineMainMetric(valueMainMetricA)}\n            </p>\n          );\n        }\n      }\n    }\n\n    if (displayAuxMetricInTooltip) {\n      if (legendAuxMetric) {\n        contentTooltipAuxMetric.push(<p style={styleTitleAuxMetric}>{legendAuxMetric}</p>);\n      }\n      if (typeLink === 'bidirectional') {\n        if (link === 'A') {\n          if (this.props.auxiliaryMetrics.length > 0) {\n            contentTooltipAuxMetric.push(\n              <p key={'contentTooltip10' + this.props.name} style={styleTitleAuxMetric}>\n                Auxiliary Metric\n              </p>\n            );\n            let index = 1;\n            this.props.auxiliaryMetrics.forEach((metric) => {\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip11' + this.props.name} style={styleTitle2AuxMetric}>\n                  + Metric {index}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip12' + this.props.name} style={styleContentAuxMetrics}>\n                  - Reference : {metric.refId}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip13' + this.props.name} style={styleContentAuxMetrics}>\n                  - Value :{' '}\n                  {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                    this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip14' + this.props.name} style={styleContentAuxMetrics}>\n                  - Key : {metric.key}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip15' + this.props.name} style={styleContentAuxMetrics}>\n                  - KeyValue : {metric.keyValue}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip16' + this.props.name} style={styleContentAuxMetrics}>\n                  - Type : {metric.manageValue}\n                </p>\n              );\n              index++;\n            });\n          }\n        } else {\n          if (this.props.auxiliaryMetricsB.length > 0) {\n            contentTooltipAuxMetric.push(\n              <p key={'contentTooltip17' + this.props.name} style={styleTitleAuxMetric}>\n                Auxiliary Metric\n              </p>\n            );\n            let index = 1;\n            this.props.auxiliaryMetricsB.forEach((metricB) => {\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip18' + this.props.name} style={styleTitle2AuxMetric}>\n                  + Metric {index}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip19' + this.props.name} style={styleContentAuxMetrics}>\n                  - Reference : {metricB.refId}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip20' + this.props.name} style={styleContentAuxMetrics}>\n                  - Value :{' '}\n                  {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetricsB[index - 1]))) &&\n                    this.defineAuxMetric(this.props.valuesAuxiliaryMetricsB[index - 1])}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip21' + this.props.name} style={styleContentAuxMetrics}>\n                  - Key : {metricB.key}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip22' + this.props.name} style={styleContentAuxMetrics}>\n                  - KeyValue : {metricB.keyValue}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip23' + this.props.name} style={styleContentAuxMetrics}>\n                  - Type : {metricB.manageValue}\n                </p>\n              );\n              index++;\n            });\n          }\n        }\n      } else if (typeLink === 'monodirectional') {\n        if (this.props.auxiliaryMetrics.length > 0) {\n          contentTooltipAuxMetric.push(\n            <p key={'contentTooltip24' + this.props.name} style={styleTitleAuxMetric}>\n              Auxiliary Metric\n            </p>\n          );\n          let index = 1;\n          this.props.auxiliaryMetrics.forEach((metric) => {\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip25' + this.props.name} style={styleTitle2AuxMetric}>\n                + Metric {index}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip26' + this.props.name} style={styleContentAuxMetrics}>\n                - Reference : {metric.refId}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip27' + this.props.name} style={styleContentAuxMetrics}>\n                - Value :{' '}\n                {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                  this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip28' + this.props.name} style={styleContentAuxMetrics}>\n                - Key : {metric.key}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip29' + this.props.name} style={styleContentAuxMetrics}>\n                - KeyValue : {metric.keyValue}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip30' + this.props.name} style={styleContentAuxMetrics}>\n                - Type : {metric.manageValue}\n              </p>\n            );\n            index++;\n          });\n        }\n      }\n    }\n\n    if (this.props.metaData.length !== 0) {\n      contentTooltipMetaData.push(\n        <p key={'ContentTooltip31' + this.props.name} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.metaData.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        contentTooltipMetaData.push(\n          <p key={index + 'ContentTooltip32' + this.props.name} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    }\n\n    if (\n      contentTooltip.length === 0 &&\n      contentTooltipAuxMetric.length === 0 &&\n      contentTooltipMainMetric.length === 0 &&\n      contentTooltipMetaData.length === 0 &&\n      !this.props.linkUrl.hoveringTooltipText\n    ) {\n      return null;\n    }\n\n    return (\n      <div style={{ border: '1px solid black', padding: 0 }}>\n        {contentTooltip}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>\n          {contentTooltipMainMetric}\n        </div>\n        <div style={{ backgroundColor: addBackColorAuxMetric ? backColorAuxMetric : backColoTextObject, padding: '0 5px' }}>\n          {contentTooltipAuxMetric}\n        </div>\n        <div style={{ padding: '0 5px' }}>{contentTooltipMetaData}</div>\n        {this.defineHtmlLinkTooltip()}\n      </div>\n    );\n  };\n\n  private defineTextDecoration = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (): any => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineColorTextLabel = () => {\n    let result = '';\n    if (this.props.textObject.colorText) {\n      result = this.props.textObject.colorText;\n    } else {\n      result = 'black';\n    }\n    return result;\n  };\n\n  private defineSizeLink = (): string => {\n    let result = '';\n    if (this.props.size) {\n      const size: string = this.props.size || '';\n      result = size;\n    } else {\n      result = '2';\n    }\n    return result;\n  };\n\n  render() {\n    const xCoordinateA: number = this.synchroLinkX(parseInt(this.props.positionXADefault, 10), 'xA');\n    const yCoordinateA: number = this.synchroLinkY(parseInt(this.props.positionYADefault, 10), 'yA');\n    const xCoordinateB: number = this.synchroLinkX(parseInt(this.props.positionXBDefault, 10), 'xB');\n    const yCoordinateB: number = this.synchroLinkY(parseInt(this.props.positionYBDefault, 10), 'yB');\n    const xCoordinateC: number = this.synchroLinkX(parseInt(this.props.positionXCDefault, 10) || 0, 'xC');\n    const yCoordinateC: number = this.synchroLinkY(parseInt(this.props.positionYCDefault, 10) || 0, 'yC');\n    const orientationLink: string = this.props.orientationLink;\n\n    return <div>{this.drawLink(xCoordinateA, yCoordinateA, xCoordinateB, yCoordinateB, xCoordinateC, yCoordinateC, orientationLink)}</div>;\n  }\n}\n","import React, { CSSProperties } from 'react';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { Tooltip } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from 'types';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { PointClass } from 'Models/PointClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  size: string;\n  positionShapeX: string;\n  positionShapeY: string;\n  label: string;\n  color: string;\n  widthImage: number;\n  heightImage: number;\n  police: string;\n  sizePolice: string;\n  //style: Style;\n  idPoint: string;\n  name: string;\n  textObject: TextObject;\n  seuil: LowerLimitClass[];\n  valueMainMetric: string;\n  refMainMetric: string;\n  associateOrientedLinkIn: any[];\n  associateOrientedLinkOut: any[];\n  labelPositionX: string;\n  labelPositionY: string;\n  tooltipPosition: SelectableValue<any>;\n  auxiliaryMetrics: Metric[];\n  valuesAuxiliaryMetrics: string[];\n  linkUrl: LinkURLClass;\n  buttonAddLinkIsActive: boolean;\n  buttonAddIncurvedLinkIsActive: boolean;\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXDefault: string;\n  positionYDefault: string;\n  metaData: Metadata[];\n  colorMode: boolean;\n  traceBorder: boolean;\n  traceBack: boolean;\n}\n\ninterface State {}\n\n/**\n * to do\n */\nexport default class DrawPoint extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  /**\n   * to do\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    const xMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    if (coordinateX < xMin) {\n      result = xMin;\n    } else if (coordinateX > xMax) {\n      result = xMax;\n    }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    const yMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    if (coordinateY < yMin) {\n      result = yMin;\n    } else if (coordinateY > yMax) {\n      result = yMax;\n    }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param defineCenter\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private definePositionX(positionX: number, initialSpace: Coord4D, size: number, shape: string): number {\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const ratioX = parseInt(this.props.positionXDefault, 10) / this.props.widthImage;\n\n    // define value to display in input positionShapeX\n    const x = Math.round(xMin + widthInitialSpace * ratioX);\n\n    // saving data new positionShapeX\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((point) => {\n      if (point.name === this.props.name) {\n        point.positionShapeX = x.toString();\n      }\n    });\n    this.props.options.arrayPoints = newArrayPoint;\n\n    // define limit x in fonction of values xMin and xMax of initialSpace\n    const xLimited = this.defineLimitX(x);\n\n    // define display x\n    const result = ((xLimited - xMin) / widthInitialSpace) * this.props.widthImage;\n\n    // return result and center display of point in fonction of sizePoint and borderPoint\n    return result - (size + parseInt(this.defineBorderSize(), 10));\n  }\n\n  /**\n   * to do\n   * @param defineCenter\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private definePositionY(positionY: number, initialSpace: SelectableValue<RegionClass>, size: number, shapeGraphicMarker: string): number {\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const heightInitialSpace: number = yMax - yMin;\n    const ratioY = parseInt(this.props.positionYDefault, 10) / this.props.heightImage;\n\n    // define value to display in input positionShapeY\n    let y = Math.round(yMin + heightInitialSpace * ratioY);\n\n    // saving data new positionShapeY\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((point) => {\n      if (point.name === this.props.name) {\n        point.positionShapeY = y.toString();\n      }\n    });\n    this.props.options.arrayPoints = newArrayPoint;\n\n    // define limit y in fonction of values yMin and yMax of initialSpace\n    const yLimited = this.defineLimitY(y);\n\n    // define display y\n    const result = ((yMin + heightInitialSpace - yLimited) / heightInitialSpace) * this.props.heightImage;\n\n    return result - (size + parseInt(this.defineBorderSize(), 10));\n  }\n\n  /**\n   * to do\n   * @param sizeGraphicMarker\n   * @param shapeGraphicMarker\n   */\n  private defineSizeGraphicMarkerPx(size: string, shape: string) {\n    if (this.props.shape.value === 'none') {\n      return 0;\n    } else {\n      // if (size === 'small') {\n      //   return 4;\n      // } else if (size === 'medium') {\n      //   return 6;\n      // } else if (size === 'large') {\n      //   return 8;\n      // } else {\n      //   return 0;\n      // }\n      return parseInt(size, 10) / 2;\n    }\n  }\n\n  defineBorderRadius = (): number => {\n    let result = 0;\n    const shape: string = this.props.shape.value || '';\n    if (shape === 'circle') {\n      result = 50;\n    }\n    return result;\n  };\n\n  defineRotate = (): string => {\n    let result = 'rotate(0deg)';\n    const shape: string = this.props.shape.value || '';\n    if (shape === 'diamond') {\n      result = 'rotate(45deg)';\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   * @param positionX\n   * @param positionY\n   * @param color\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private drawPoint(drawGraphicMarker: string, size: number, positionShapeX: number, positionShapeY: number): any {\n    const valueToolTip: JSX.Element | null = this.defineContentTooltip('point');\n    const linkUrlPoint = this.props.linkUrl.followLink;\n    const borderRadius = this.defineBorderRadius() + 'px';\n    const rotate = this.defineRotate();\n    let positionTooltip: any = '';\n    if (this.props.tooltipPosition.value) {\n      positionTooltip = this.props.tooltipPosition.value.toLowerCase();\n    }\n\n    if (drawGraphicMarker === 'true') {\n      if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n        if (valueToolTip === null) {\n          return (\n            <div\n              style={{\n                border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                backgroundColor: this.defineBackgroundColor(),\n                borderRadius: borderRadius,\n                padding: size + 'px',\n                position: 'absolute',\n                zIndex: 1000,\n                left: positionShapeX,\n                top: positionShapeY,\n                transform: rotate,\n              }}\n              id={this.props.idPoint}\n            ></div>\n          );\n        } else {\n          return (\n            <Tooltip key={'tooltip' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n              <div\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                }}\n                id={this.props.idPoint}\n              ></div>\n            </Tooltip>\n          );\n        }\n      } else {\n        if (valueToolTip === null) {\n          return (\n            <div>\n              <a\n                href={linkUrlPoint}\n                onClick={this.desactiveLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                  cursor: this.defineCursor(),\n                }}\n                id={this.props.idPoint}\n              ></a>\n            </div>\n          );\n        } else {\n          return (\n            <Tooltip key={'tooltip' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n              <a\n                href={linkUrlPoint}\n                onClick={this.desactiveLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                  cursor: this.defineCursor(),\n                }}\n                id={this.props.idPoint}\n              ></a>\n            </Tooltip>\n          );\n        }\n      }\n    } else {\n      return <div></div>;\n    }\n  }\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  private definePositionLabelX = (coordinateX: number): number => {\n    const positionLabel: number = parseInt(this.props.labelPositionX, 10);\n    let result = 0;\n    if (this.props.drawGraphicMarker.value === 'true') {\n      result = coordinateX + positionLabel + parseInt(this.props.size, 10) + 5;\n      // if (this.props.size.value === 'large') {\n      //   result = coordinateX + positionLabel + 18;\n      // } else if (this.props.size.value === 'medium') {\n      //   result = coordinateX + positionLabel + 14;\n      // }\n    } else {\n      result = coordinateX + positionLabel;\n    }\n    return result;\n  };\n\n  private definePositionLabelY = (coordinateY: number): number => {\n    const inverseAxeY = -1;\n    const positionLabel: number = parseInt(this.props.labelPositionY, 10) * inverseAxeY;\n    let result = 0;\n    if (this.props.drawGraphicMarker.value === 'true') {\n      result = coordinateY + positionLabel + parseInt(this.props.size, 10) + 5;\n      // if (this.props.size.value === 'large') {\n      //   result = coordinateY + positionLabel + 18;\n      // } else if (this.props.size.value === 'medium') {\n      //   result = coordinateY + positionLabel + 14;\n      // }\n    } else {\n      result = coordinateY + positionLabel;\n    }\n    return result;\n  };\n\n  private displayLabel(label: string, name: string, positionX: number, positionY: number, police: string) {\n    const valueToolTip: JSX.Element | null = this.defineContentTooltip('label');\n    let positionTooltip: any = '';\n    if (this.props.tooltipPosition.value) {\n      positionTooltip = this.props.tooltipPosition.value.toLowerCase();\n    }\n    if (valueToolTip === null) {\n      return (\n        <div\n          style={{\n            textDecoration: this.defineTextDecoration(),\n            fontStyle: this.defineFontStyle(),\n            fontWeight: this.defineFontWeight(),\n            fontSize: this.props.sizePolice,\n            fontFamily: police,\n            color: this.props.textObject.colorText || 'black',\n            position: 'absolute',\n            zIndex: 1000,\n            top: this.definePositionLabelY(positionY),\n            left: this.definePositionLabelX(positionX),\n          }}\n        >\n          {this.defineTextObject(this.props.valueMainMetric)}\n        </div>\n      );\n    } else {\n      return (\n        <Tooltip key={'tooltipLabel' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n          <div\n            style={{\n              textDecoration: this.defineTextDecoration(),\n              fontStyle: this.defineFontStyle(),\n              fontWeight: this.defineFontWeight(),\n              fontSize: this.props.sizePolice,\n              fontFamily: police,\n              color: this.props.textObject.colorText || 'black',\n              position: 'absolute',\n              zIndex: 1000,\n              top: this.definePositionLabelY(positionY),\n              left: this.definePositionLabelX(positionX),\n            }}\n          >\n            {this.defineTextObject(this.props.valueMainMetric)}\n          </div>\n        </Tooltip>\n      );\n    }\n  }\n\n  private defineMainMetric = (mainMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.valueGenerateObjectText.unit;\n    const decimal: string = this.props.textObject.valueGenerateObjectText.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(mainMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineAuxMetric = (auxMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.generateAuxiliaryElement.unit;\n    const decimal: string = this.props.textObject.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(auxMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = auxMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineTextObject = (mainMetric: string): JSX.Element => {\n    let htmlTextObject: JSX.Element[] = [];\n    let htmlMainMetric: JSX.Element[] = [];\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n\n    const styleLabel = {\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n      textAlign: 'center',\n      margin: 0,\n      padding: '0 5px',\n    } as CSSProperties;\n\n    const styleMainMetric = {\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n      margin: 0,\n      padding: 0,\n      whiteSpace: 'nowrap',\n    } as CSSProperties;\n\n    if (!dislayTextObjectInTooltip) {\n      htmlTextObject.push(\n        <p key={'contentTextObject1' + this.props.name} style={styleLabel}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric) {\n      if (!displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          htmlMainMetric.push(\n            <p key={'contentTextObject2' + this.props.name} style={styleMainMetric}>\n              {legendMainMetric}\n            </p>\n          );\n        }\n        // Condition Display NaN none Point\n        htmlMainMetric.push(\n          <p key={'contentTextObject3' + this.props.name} style={styleMainMetric}>\n            {!isNaN(parseFloat(this.defineMainMetric(mainMetric))) && this.defineMainMetric(mainMetric)}\n          </p>\n        );\n      }\n    }\n\n    let styleMainDiv = {\n      backgroundColor: backColoTextObject,\n      border: '1px solid black',\n    } as CSSProperties;\n\n    if (!displayMainMetric || (displayMainMetric && displayMainMetricInTooltip)) {\n      styleMainDiv = {\n        backgroundColor: backColoTextObject,\n      };\n    }\n    return (\n      <div style={styleMainDiv}>\n        {htmlTextObject}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>{htmlMainMetric}</div>\n      </div>\n    );\n  };\n\n  private defineHtmlLinkTooltip = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.linkUrl.hoveringTooltipText !== '') {\n      result = (\n        <a\n          style={{ fontFamily: this.props.police, fontSize: '11px', marginBottom: '0px', textAlign: 'center' }}\n          href={this.props.linkUrl.hoveringTooltipLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {this.props.linkUrl.hoveringTooltipText}\n        </a>\n      );\n    }\n    return result;\n  };\n\n  private defineContentTooltip(localisation: string): JSX.Element | null {\n    const contentTooltip: JSX.Element[] = [];\n    const contentTooltipMainMetric: JSX.Element[] = [];\n    const contentTooltipAuxMetric: JSX.Element[] = [];\n    const contentTooltipAssociateLink: JSX.Element[] = [];\n    const contentTooltipMetadata: JSX.Element[] = [];\n    const arrayOrientedLinksIn: any[] = this.props.associateOrientedLinkIn;\n    const arrayOrientedLinksOut: any[] = this.props.associateOrientedLinkOut;\n    const refMainMetric: string = this.props.refMainMetric;\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n    const displayAuxMetricInTooltip: boolean = this.props.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    const addTextColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorTextElement;\n    const addBackColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorBackElement;\n    const textColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorTextElement;\n    const backColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorBackElement;\n    const legendAuxMetric: string = this.props.textObject.generateAuxiliaryElement.legendElement;\n\n    const styleMainTitle = {\n      fontFamily: this.props.police,\n      fontSize: '11px',\n      marginBottom: '0px',\n      textAlign: 'center',\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2AuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMetaData = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    const styleContentMainMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleContentAuxMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAssociateLink = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n    } as React.CSSProperties;\n\n    const styleContentAssociateLink = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n    } as React.CSSProperties;\n\n    if (dislayTextObjectInTooltip) {\n      contentTooltip.push(\n        <p key={localisation + 'ContentTooltip1' + this.props.name} style={styleMainTitle}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric && displayMainMetricInTooltip) {\n      if (legendMainMetric) {\n        contentTooltipMainMetric.push(\n          <p key={localisation + 'ContentTooltip2' + this.props.name} style={styleTitleMainMetric}>\n            {legendMainMetric}\n          </p>\n        );\n      }\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip3' + this.props.name} style={styleTitleMainMetric}>\n          Main Metric\n        </p>\n      );\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip4' + this.props.name} style={styleContentMainMetrics}>\n          - Reference : {refMainMetric}\n        </p>\n      );\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip5' + this.props.name} style={styleContentMainMetrics}>\n          - Value : {this.defineMainMetric(this.props.valueMainMetric)}\n        </p>\n      );\n    }\n\n    if (displayAuxMetricInTooltip) {\n      if (legendAuxMetric) {\n        contentTooltipMainMetric.push(\n          <p key={localisation + 'ContentTooltip6' + this.props.name} style={styleTitleAuxMetric}>\n            {legendAuxMetric}\n          </p>\n        );\n      }\n      if (this.props.auxiliaryMetrics.length > 0) {\n        contentTooltipAuxMetric.push(\n          <p key={localisation + 'ContentTooltip7' + this.props.name} style={styleTitleAuxMetric}>\n            Auxiliary Metric\n          </p>\n        );\n        let index = 1;\n        this.props.auxiliaryMetrics.forEach((metric) => {\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip8' + this.props.name} style={styleTitle2AuxMetric}>\n              + Metric {index}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip9' + this.props.name} style={styleContentAuxMetrics}>\n              - Reference : {metric.refId}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip10' + this.props.name} style={styleContentAuxMetrics}>\n              - Value :{' '}\n              {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip11' + this.props.name} style={styleContentAuxMetrics}>\n              - Key : {metric.key}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip12' + this.props.name} style={styleContentAuxMetrics}>\n              - KeyValue : {metric.keyValue}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip13' + this.props.name} style={styleContentAuxMetrics}>\n              - Type : {metric.manageValue}\n            </p>\n          );\n          index++;\n        });\n      }\n    }\n\n    if (arrayOrientedLinksIn.length !== 0) {\n      contentTooltipAssociateLink.push(\n        <p key={localisation + 'ContentTooltip14' + this.props.name} style={styleTitleAssociateLink}>\n          Associate Link In :\n        </p>\n      );\n      arrayOrientedLinksIn.forEach((orientedLinkIn) => {\n        const nameOrientedLink: string = orientedLinkIn.label || orientedLinkIn.name;\n        contentTooltipAssociateLink.push(\n          <p key={localisation + 'ContentTooltip15' + this.props.name + nameOrientedLink} style={styleContentAssociateLink}>\n            - {nameOrientedLink}\n          </p>\n        );\n      });\n    }\n\n    if (arrayOrientedLinksOut.length !== 0) {\n      contentTooltipAssociateLink.push(\n        <p key={localisation + 'ContentTooltip16' + this.props.name} style={styleTitleAssociateLink}>\n          Associate Link Out :\n        </p>\n      );\n      arrayOrientedLinksOut.forEach((orientedLinkOut) => {\n        const nameOrientedLink: string = orientedLinkOut.label || orientedLinkOut.name;\n        contentTooltipAssociateLink.push(\n          <p key={localisation + 'ContentTooltip17' + this.props.name + nameOrientedLink} style={styleContentAssociateLink}>\n            - {nameOrientedLink}\n          </p>\n        );\n      });\n    }\n\n    if (this.props.metaData.length !== 0) {\n      contentTooltipMetadata.push(\n        <p key={localisation + 'ContentTooltip18' + this.props.name} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.metaData.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        contentTooltipMetadata.push(\n          <p key={localisation + index + 'ContentTooltip19' + this.props.name} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    }\n\n    if (\n      contentTooltip.length === 0 &&\n      contentTooltipMainMetric.length === 0 &&\n      contentTooltipAssociateLink.length === 0 &&\n      contentTooltipMetadata.length === 0 &&\n      !this.props.linkUrl.hoveringTooltipText\n    ) {\n      return null;\n    }\n\n    return (\n      <div>\n        <div style={{ border: '1px solid black', padding: 0 }}>\n          {contentTooltip}\n          <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>\n            {contentTooltipMainMetric}\n          </div>\n          <div style={{ backgroundColor: addBackColorAuxMetric ? backColorAuxMetric : backColoTextObject, padding: '0 5px' }}>\n            {contentTooltipAuxMetric}\n          </div>\n          <div style={{ padding: '0 5px' }}>{contentTooltipMetadata}</div>\n          <div style={{ padding: '0 5px' }}>{contentTooltipAssociateLink}</div>\n          {this.defineHtmlLinkTooltip()}\n        </div>\n      </div>\n    );\n  }\n\n  private defineBackgroundColor() {\n    let colorBackground = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      if (this.props.seuil[0].backColor !== '') {\n        colorBackground = this.props.seuil[0].backColor;\n      } else {\n        colorBackground = 'black';\n      }\n    } else {\n      colorBackground = 'black';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBack) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              colorBackground = level.backColor;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              colorBackground = level.backColor;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBackground = level.backColor;\n          }\n          index++;\n        });\n      }\n    }\n\n    return colorBackground;\n  }\n\n  private defineBorderColor() {\n    let colorBorder = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      if (this.props.seuil[0].borderColor !== '') {\n        colorBorder = this.props.seuil[0].borderColor;\n      } else {\n        colorBorder = 'black';\n      }\n    } else {\n      colorBorder = 'black';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBorder) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              colorBorder = level.borderColor;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              colorBorder = level.borderColor;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBorder = level.borderColor;\n          }\n          index++;\n        });\n      }\n    }\n\n    return colorBorder;\n  }\n\n  private defineBorderSize() {\n    let sizeBorder = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      sizeBorder = this.props.seuil[0].sizeBorder;\n    } else {\n      sizeBorder = '1';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBorder) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              sizeBorder = level.sizeBorder;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              sizeBorder = level.sizeBorder;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            sizeBorder = level.sizeBorder;\n          }\n          index++;\n        });\n      }\n    }\n\n    return sizeBorder;\n  }\n\n  private defineTextDecoration = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (): any => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const shape: string = this.props.shape.value || '';\n    const size: number = this.defineSizeGraphicMarkerPx(this.props.size || '', shape);\n    const valuePositionX: number = parseInt(this.props.positionShapeX, 10) || 0;\n    const valuePositionY: number = parseInt(this.props.positionShapeY, 10) || 0;\n    const positionShapeX: number = this.definePositionX(valuePositionX, initialSpace, size, shape);\n    const positionShapeY: number = this.definePositionY(valuePositionY, initialSpace, size, shape);\n    const label: string = this.props.label;\n    const name: string = this.props.name;\n    const drawGraphicMarker: string = this.props.drawGraphicMarker.value || '';\n    const police = this.props.police;\n\n    return (\n      <div key={this.props.name} style={{ cursor: 'pointer' }}>\n        {this.displayLabel(label, name, positionShapeX, positionShapeY, police)}\n        {this.drawPoint(drawGraphicMarker, size, positionShapeX, positionShapeY)}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, CoordinateSpaceInitial } from 'types';\n\nimport { isNumFloat } from 'Functions/isNumFloat';\nimport DrawRectangleExtend from './drawRectangleExtend';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** color of border */\n  color: string;\n  /** coordinate space initial */\n  coordinateInitial: CoordinateSpaceInitial;\n  /** id region */\n  id: string;\n  /** if button SimplePanel is active, block all onClick region space */\n  //isEnabled: boolean;\n  /** if button Add Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddLinkIsActive: boolean;\n  /** if button Add Incurved Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddIncurvedLinkIsActive: boolean;\n}\n\n// tslint:disable-next-line: no-empty-interface\ninterface State {\n  /** stock html for result */\n  resultHTML: JSX.Element;\n}\n\n/**\n * Draw inititial viewing space rectangle\n */\nexport default class DrawRectangle extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      resultHTML: <div></div>,\n    };\n  }\n\n  /**\n   * Transform coordinate percent for css\n   * @param {number} size value of coordinate\n   * @param {boolean} isMax true if x or y is max value\n   * @returns coordinate to percent\n   */\n  transformCoordonneesToPx = (size: number, isMax: boolean, position: number): number => {\n    /**\n     *\n     * V1 -100-100\n     *\n     */\n    // if (size > 100) {\n    //   size = 100;\n    // } else if (size < 0 && size < -100) {\n    //   size = -100;\n    // }\n    // if (size >= 0) {\n    //   size /= 2;\n    //   size = isMax ? 50 - size : 50 + size;\n    // } else {\n    //   size *= -1;\n    //   size /= 2;\n    //   size = 50 - size;\n    // }\n    // return size;\n\n    /**\n     *\n     * Correctif client 0-100\n     *\n     */\n    let result = 0;\n    // if (!this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (size > 100) {\n    //     size = 100;\n    //   } else if (size < 0 && size < -100) {\n    //     size = -100;\n    //   }\n    //   if (size >= 0) {\n    //     size /= 2;\n    //     size = isMax ? 50 - size : 50 + size;\n    //   } else {\n    //     size *= -1;\n    //     size /= 2;\n    //     size = 50 - size;\n    //   }\n    //   result = size;\n    // } else {\n    //   if (position === 1) {\n    //     result = size;\n    //   } else if (position === 2) {\n    //     result = 100 - size;\n    //   } else if (position === 3) {\n    //     result = size;\n    //   } else if (position === 4) {\n    //     result = 100 - size;\n    //   }\n    // }\n    return result;\n  };\n\n  limitValueBorder = (value: number, position: number): number => {\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const heigthBackground = parseInt(this.props.options.baseMap.height, 10);\n    let result = value;\n    if (position === 1 || position === 2) {\n      //xMin + xMax\n      if (value > widthBackground) {\n        result = widthBackground;\n      }\n    } else if (position === 3 || position === 4) {\n      //yMin + yMax\n      if (value > heigthBackground) {\n        result = heigthBackground;\n      }\n    }\n    return result;\n  };\n\n  getPositionBorder = (value: number, position: number): number => {\n    // const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    // const heigthBackground = parseInt(this.props.options.baseMap.height, 10);\n    // const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    // const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    // const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    // const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    // const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    // const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    let result = 0;\n    // if (position === 1) {\n    //   //xMin\n    //   if (value < 0) {\n    //     result = 0;\n    //   } else if (xMaxInitialSpace > widthBackground) {\n    //     result = (value / xMaxInitialSpace) * widthBackground;\n    //   } else {\n    //     result = value;\n    //   }\n    // } else if (position === 2) {\n    //   //xMax\n    //   if (value > widthBackground) {\n    //     result = 0;\n    //   } else {\n    //     result = widthBackground - value;\n    //   }\n    // } else if (position === 3) {\n    //   //yMax\n    //   if (value > heigthBackground) {\n    //     result = 0;\n    //   } else {\n    //     result = heigthBackground - value;\n    //   }\n    // } else if (position === 4) {\n    //   //yMin\n    //   if (value < 0) {\n    //     result = 0;\n    //   } else if (yMaxInitialSpace > heigthBackground) {\n    //     result = (value / yMaxInitialSpace) * heigthBackground;\n    //   } else {\n    //     result = value;\n    //   }\n    // }\n    return result;\n  };\n\n  fillCoordinate = (): JSX.Element => {\n    const { options } = this.props;\n    const xMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMax, 10);\n    let mapItems: JSX.Element[];\n    mapItems = options.regionCoordinateSpace.map((line: RegionClass, index: number) => (\n      <DrawRectangleExtend\n        key={'drawRectangleExtend' + index.toString()}\n        uneCoor={line}\n        useLimit={false}\n        limit={options.coordinateSpaceInitial.coordinate}\n        onOptionsChange={this.props.onOptionsChange}\n        options={this.props.options}\n        data={this.props.data}\n        id={'region' + line.id.toString()}\n        //isEnabled={this.props.isEnabled}\n        buttonAddLinkIsActive={this.props.buttonAddLinkIsActive}\n        buttonAddIncurvedLinkIsActive={this.props.buttonAddIncurvedLinkIsActive}\n        widthInitialSpaceDefault={(xMaxInitialSpace - xMinInitialSpace).toString()}\n        heightInitialSpaceDefault={(yMaxInitialSpace - yMinInitialSpace).toString()}\n      />\n    ));\n    return <ul>{mapItems}</ul>;\n  };\n\n  /** creaate rectrangle */\n  createRectangle = (): void => {\n    const line: Coord4D = this.props.coordinateInitial.coordinate;\n    let pLeft: string;\n    let pRight: string;\n    let pTop: string;\n    let pBottom: string;\n    let xMin = 0;\n    let xMax = 0;\n    let yMin = 0;\n    let yMax = 0;\n    const pBorder: string = this.props.coordinateInitial.displayArea ? '3px solid ' + this.props.color : '';\n\n    xMin = isNumFloat(line.xMin) ? parseInt(line.xMin, 10) : 0;\n    xMax = isNumFloat(line.xMax) ? parseInt(line.xMax, 10) : 0;\n    yMin = isNumFloat(line.yMin) ? parseInt(line.yMin, 10) : 0;\n    yMax = isNumFloat(line.yMax) ? parseInt(line.yMax, 10) : 0;\n\n    // pLeft = this.transformCoordonneesToPx(xMin, false, 1).toString() + '%';\n    // pRight = this.transformCoordonneesToPx(xMax, true, 2).toString() + '%';\n    // pBottom = this.transformCoordonneesToPx(yMin, false, 3).toString() + '%';\n    // pTop = this.transformCoordonneesToPx(yMax, true, 4).toString() + '%';\n    pLeft = this.getPositionBorder(xMin, 1).toString() + 'px';\n    pRight = this.getPositionBorder(xMax, 2).toString() + 'px';\n    pTop = this.getPositionBorder(yMax, 3).toString() + 'px';\n    pBottom = this.getPositionBorder(yMin, 4).toString() + 'px';\n\n    // if (xMax >= 0) {\n    //   pLeft = this.transformCoordonneesToPx(xMin, false, 1).toString() + 'px';\n    //   pRight = this.transformCoordonneesToPx(xMax, true, 2).toString() + 'px';\n    // } else {\n    //   xMin = xMin * -1;\n    //   pRight = this.transformCoordonneesToPx(xMin, false, 1).toString() + 'px';\n    //   pLeft = this.transformCoordonneesToPx(xMax, true, 2).toString() + 'px';\n    // }\n    // if (yMax >= 0) {\n    //   pBottom = this.transformCoordonneesToPx(yMin, false, 3).toString() + 'px';\n    //   pTop = this.transformCoordonneesToPx(yMax, true, 4).toString() + 'px';\n    // } else {\n    //   yMin = yMin * -1;\n    //   pTop = this.transformCoordonneesToPx(yMin, false, 3).toString() + 'px';\n    //   pBottom = this.transformCoordonneesToPx(yMax, true, 4).toString() + 'px';\n    // }\n\n    const data: JSX.Element = (\n      <div\n        style={{\n          border: pBorder,\n          bottom: pBottom,\n          left: pLeft,\n          position: 'absolute',\n          right: pRight,\n          top: pTop,\n        }}\n        id={this.props.id}\n      >\n        {/* {this.fillCoordinate()} */}\n      </div>\n    );\n    this.setState({\n      resultHTML: data,\n    });\n  };\n\n  /** update state when props coordinateInitial change */\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps !== this.props) {\n      this.createRectangle();\n    }\n  }\n\n  /** create rectangle when component mount */\n  componentDidMount = () => {\n    this.createRectangle();\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const test = {\n      position: 'absolute',\n      textAlign: 'center',\n      height: this.props.options.baseMap.height + 'px',\n      width: this.props.options.baseMap.width + 'px',\n    } as React.CSSProperties;\n\n    return <div style={test}>{this.state.resultHTML}</div>;\n  }\n}\n","/* eslint-disable prettier/prettier */\nimport React, { CSSProperties } from 'react';\nimport { SimpleOptions, Metric } from 'types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Tooltip } from '@grafana/ui';\n\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\n\n//import { calculRealCoordinate } from 'Functions/otherFunction';\nimport { getLowerLimit, LowerLimit } from 'Functions/getLowerLimit';\nimport { getResultQuery } from 'Functions/getResultQuery';\nimport { parseColor, Color } from 'Functions/parseColor';\nimport { reqMetricRegion, reqMetricAuxRegion } from 'Functions/fetchMetrics';\n//import { searchMinMaxIdSVG, Coord4DInt } from 'Functions/searchMinMaxIdSVG';\nimport { Style } from 'components/Parametrage/styleComponent';\n// import { Coor4DNum, pixelToPercent } from 'Functions/searchIDLimit';\n// import { Coor4DNum } from 'Functions/searchIDLimit';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** object CoordinateSpace */\n  uneCoor: RegionClass;\n  /** use limit */\n  useLimit: boolean;\n  /** limit */\n  limit: Coord4D;\n  /** id region */\n  id: string;\n  /** if button SimplePanel is active, block all onClick region space */\n  //isEnabled: boolean;\n  /** if button Add Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddLinkIsActive: boolean;\n  /** if button Add Incurved Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddIncurvedLinkIsActive: boolean;\n  /** width when region has been created */\n  widthInitialSpaceDefault: string;\n  /** height when region has been created */\n  heightInitialSpaceDefault: string;\n}\n\ninterface State {\n  /** value of tooltip */\n  tooltipValue: JSX.Element | null;\n  /** background color with lower limit */\n  backgroundColor: string;\n  /** border color with lower llimit */\n  borderColor: string;\n  /** size border with lower limit */\n  sizeBorder: number;\n  /** html result */\n  htmlResult: JSX.Element;\n  /** value return by query */\n  valueQuery: string;\n}\n\ninterface CoorHTML {\n  /** coordinate left */\n  left: string;\n  /** coordinate right */\n  right: string;\n  /** coordinate top */\n  top: string;\n  /** coordinate bottom */\n  bottom: string;\n}\n\ninterface Tooltip {\n  tooltipValue: JSX.Element | null;\n  backgroundColor: string;\n  borderColor: string;\n  sizeBorder: number;\n  valueQuery: string;\n}\n\n/**\n * Draw rectangle\n */\nexport default class DrawRectangleExtend extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tooltipValue: null,\n      backgroundColor: 'rgba(255, 255, 255, 0)',\n      borderColor: 'rgba(255, 255, 255, 0)',\n      sizeBorder: 1,\n      htmlResult: <div></div>,\n      valueQuery: '',\n    };\n  }\n\n  /**\n   * Edit color Zone in SVG\n   * @param {string} id id is equal to zone for change color in Svg\n   * @param {string} color define the color for Svg zone\n   */\n  editColorSvgZone = (id: string, color: string, border: string, sizeBorder: string): void => {\n    const colorSVG: Color = parseColor(color);\n    const colorBorderSVG: Color = parseColor(border);\n    const changeColorElement: HTMLElement | null = document.getElementById(id);\n\n    if (changeColorElement) {\n      changeColorElement.style.fill = colorSVG.color;\n      changeColorElement.style.fillOpacity = colorSVG.transparency;\n      changeColorElement.style.stroke = colorBorderSVG.color;\n      changeColorElement.style.strokeOpacity = colorBorderSVG.transparency;\n      changeColorElement.style.strokeWidth = sizeBorder;\n    }\n  };\n\n  generateValueMetricElement = (region: RegionClass, valueQuery: number | null): string => {\n    let converValueQuery = 'NaN';\n    const roundMetrics: number = region.textObj.valueGenerateObjectText\n      ? parseInt(region.textObj.valueGenerateObjectText.numericFormatElement, 10)\n      : 1;\n\n    if (valueQuery && region.textObj.valueGenerateObjectText && region.textObj.valueGenerateObjectText.numericFormatElement !== '' && roundMetrics) {\n      converValueQuery = (valueQuery || 0).toPrecision(roundMetrics).toString();\n    } else if (valueQuery) {\n      converValueQuery = valueQuery.toString();\n    }\n    // (Math.round(valueQuery * roundMetrics + Number.EPSILON) / roundMetrics).toString()\n    let value: string = converValueQuery;\n    if (region.textObj.valueGenerateObjectText && converValueQuery !== 'NaN') {\n      value = region.textObj.valueGenerateObjectText.legendElement + ' ' + converValueQuery + ' ' + region.textObj.valueGenerateObjectText.unit;\n    }\n    if (value === 'NaN') {\n      return '';\n    }\n\n    return value;\n  };\n\n  /** fill state for tooltip, color zone and calc round query */\n  setStateTooltip = (\n    lowerLimit: LowerLimit,\n    region: RegionClass,\n    valueQuery: number | null\n    //link: boolean\n  // ): Tooltip => {\n  ) => {\n    const styleTooltip = {\n      color: region.textObj.colorText,\n      backgroundColor: region.textObj.colorBack,\n    } as CSSProperties;\n\n    const styleMetrics = {\n      color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n    } as CSSProperties;\n\n    const valueQueryResult: string = this.generateValueMetricElement(region, valueQuery);\n    const valueMetaData: JSX.Element | null = this.displayValuesMetaData();\n    let tooltipValue: JSX.Element | null = null;\n      // valueQueryResult !== '' ? (\n      //   <div>\n      //     <div style={styleTooltip}>\n      //       {/* {link && <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>} */}\n      //       <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>\n      //       {region.textObj.isTextTooltip && <p>{region.label}</p>}\n      //     </div>\n      //     <div style={styleMetrics}>\n      //       {region.textObj.generateObjectText &&\n      //         region.textObj.valueGenerateObjectText &&\n      //         region.textObj.valueGenerateObjectText.displayObjectInTooltip && <p>{valueQueryResult}</p>}\n      //     </div>\n      //     <div>{this.displayValuesAuxMetrics()}</div>\n      //     <div>{this.displayValuesMetaData()}</div>\n      //   </div>\n      // ) : null;\n    if ((valueQueryResult !== '' && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.metrics.length !== 0 || valueMetaData !== null || this.props.uneCoor.linkURL.hoveringTooltipText) {\n      tooltipValue = (\n        <div>\n          <div style={styleTooltip}>\n            {region.textObj.isTextTooltip && <p>{region.label}</p>}\n          </div>\n          <div style={styleMetrics}>\n            {region.textObj.generateObjectText &&\n            region.textObj.valueGenerateObjectText &&\n            region.textObj.valueGenerateObjectText.displayObjectInTooltip && <p>{valueQueryResult}</p>}\n          </div>\n          <div>{this.displayValuesAuxMetrics()}</div>\n          <div>{valueMetaData}</div>\n          <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>\n        </div>\n        );\n    }\n    return {\n      tooltipValue: tooltipValue,\n      backgroundColor: lowerLimit.colorBack,\n      borderColor: lowerLimit.colorBorder,\n      sizeBorder: lowerLimit.sizeBorder,\n      valueQuery: valueQueryResult,\n    };\n  };\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.uneCoor.linkURL.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.uneCoor.linkURL.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.uneCoor.linkURL.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.uneCoor.linkURL.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  displayValueQuery = (region: RegionClass): boolean => {\n    if (\n      region.textObj.generateObjectText &&\n      region.textObj.valueGenerateObjectText &&\n      !region.textObj.valueGenerateObjectText.displayObjectInTooltip\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  getPositionTextObjectRegionSVG = (idSVG: string): CoorHTML => {\n    const coor: CoorHTML = { top: '0', bottom: '0', left: '0', right: '0' };\n    let elementSVG: any;\n    if (this.props.options.baseMap.isUploaded) {\n      elementSVG = document.getElementById(idSVG);\n    } else {\n      elementSVG = document.getElementById('oct' + idSVG);\n    }\n    if (elementSVG) {\n      let xSVG = 0;\n      let ySVG = 0;\n      let widthSVG = 0;\n      let heightSVG = 0;\n      let top = '';\n      let left = '';\n      if (elementSVG.localName === 'path') {\n        const allValues: string = elementSVG.attributes['d'].nodeValue;\n        const arrayAllValues: string[] = allValues.split(' ');\n        let iX = -2;\n        let xMin = 1000000;\n        let xMax = 0;\n        let iY = -1;\n        let yMin = 1000000;\n        let yMax = 0;\n        for (let i = 0; i < arrayAllValues.length; i++) {\n          let valueToCheck = parseInt(arrayAllValues[i], 10);\n          if (i === iX + 3) {\n            if (valueToCheck < xMin) {\n              xMin = valueToCheck;\n            }\n            if (valueToCheck > xMax) {\n              xMax = valueToCheck;\n            }\n            iX = i;\n          }\n          if (i === iY + 3) {\n            if (valueToCheck < yMin) {\n              yMin = valueToCheck;\n            }\n            if (valueToCheck > yMax) {\n              yMax = valueToCheck;\n            }\n            iY = i;\n          }\n        }\n        left = xMax.toString();\n        top = yMax.toString();\n      } else if (elementSVG.localName === 'ellipse') {\n        xSVG = parseInt(elementSVG.attributes['cx'].nodeValue, 10);\n        ySVG = parseInt(elementSVG.attributes['cy'].nodeValue, 10);\n        const rX = parseInt(elementSVG.attributes['rx'].nodeValue, 10) * 2;\n        //const rY = parseInt(elementSVG.attributes['ry'].nodeValue, 10) * 2;\n        left = (xSVG + rX).toString();\n        top = ySVG.toString();\n      } else if (elementSVG.localName === 'rect') {\n        xSVG = parseInt(elementSVG.attributes['x'].nodeValue, 10);\n        ySVG = parseInt(elementSVG.attributes['y'].nodeValue, 10);\n        widthSVG = parseInt(elementSVG.attributes['width'].nodeValue, 10);\n        heightSVG = parseInt(elementSVG.attributes['height'].nodeValue, 10);\n        left = (xSVG + widthSVG).toString();\n        top = (ySVG + heightSVG).toString();\n      }\n      coor.top = (parseInt(top, 10) + parseInt(this.props.uneCoor.positionParameter.labelAPositionY, 10) * (-1)).toString();\n      coor.left = (parseInt(left, 10) + parseInt(this.props.uneCoor.positionParameter.labelAPositionX, 10)).toString();\n    }\n    return coor;\n  };\n\n  /** generate tooltip for metrics and apply color with lower limit */\n  generateTooltipAndEditColor = (region: RegionClass, valueQuery: number | null) => {\n    let stateIsFill = false;\n    const lowerLimit: LowerLimit = getLowerLimit(region, valueQuery);\n\n    if (region.mode) {\n      this.editColorSvgZone(region.idSVG, lowerLimit.colorBack, lowerLimit.colorBorder, lowerLimit.sizeBorder.toString());\n    }\n\n    // const resultTooltip: Tooltip = this.setStateTooltip(lowerLimit, region, valueQuery, this.props.isEnabled);\n    // const resultTooltip: Tooltip = this.setStateTooltip(lowerLimit, region, valueQuery);\n    const resultTooltip: any = this.setStateTooltip(lowerLimit, region, valueQuery);\n    //if (valueQuery) {\n    //if (region.mode && ((!region.textObj.isTextTooltip) || this.displayValueQuery(region))) {\n    if (region.mode) {\n      //const coordinateWrite: Coord4DInt | null = searchMinMaxIdSVG(region.idSVG);\n      const coordinateTextObject: CoorHTML = this.getPositionTextObjectRegionSVG(region.idSVG);\n      //if (coordinateWrite) {\n      stateIsFill = true;\n      const style: Style = region.textObj.style;\n      const styleWrite = {\n        width: 'auto',\n        position: 'absolute',\n        zIndex: 999,\n        // left: coordinateWrite.xMax - (coordinateWrite.xMax - coordinateWrite.xMin),\n        // top: coordinateWrite.yMax,\n        left: coordinateTextObject.left + 'px',\n        top: coordinateTextObject.top + 'px',\n        border: '1px solid black',\n        // backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n        // color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      } as CSSProperties;\n\n      const styleLabelTooltipSVG = {\n        textDecoration: this.defineTextDecoration(style),\n        fontStyle: this.defineFontStyle(style),\n        fontWeight: this.defineFontWeight(style),\n        fontSize: this.props.options.display.size,\n        fontFamily: this.props.options.display.police,\n        color: region.textObj.colorText,\n        backgroundColor: region.textObj.colorBack,\n        margin: 0,\n        padding: '5px 5px 0 5px',\n      } as React.CSSProperties;\n\n      const styleMainMetricTooltipSVG = {\n        textDecoration: this.defineTextDecoration(style),\n        fontStyle: this.defineFontStyle(style),\n        fontWeight: this.defineFontWeight(style),\n        color: region.textObj.valueGenerateObjectText.addColorTextElement ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n        backgroundColor: region.textObj.valueGenerateObjectText.addColorBackElement\n          ? region.textObj.valueGenerateObjectText.colorBackElement\n          : 'black',\n        fontSize: this.props.options.display.size,\n        fontFamily: this.props.options.display.police,\n        margin: 0,\n        padding: '5px 5px 0 5px',\n      } as React.CSSProperties;\n\n      let htmlResult = (\n        <div style={styleWrite}>\n          {!region.textObj.isTextTooltip && <p style={styleLabelTooltipSVG}>{region.label}</p>}\n          {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && (\n            <p style={styleMainMetricTooltipSVG}>{this.displayValueQuery(region) && resultTooltip.valueQuery}</p>\n          )}\n        </div>\n      );\n      if (region.textObj.isTextTooltip && region.textObj.valueGenerateObjectText.displayObjectInTooltip) {\n        htmlResult = <div></div>;\n      }\n      this.setState({\n        htmlResult: htmlResult,\n        tooltipValue: resultTooltip.tooltipValue,\n        backgroundColor: resultTooltip.backgroundColor,\n        borderColor: resultTooltip.borderColor,\n        sizeBorder: resultTooltip.sizeBorder,\n        valueQuery: resultTooltip.valueQuery,\n      });\n      //}\n      //}\n    }\n    if (!stateIsFill) {\n      this.setState({\n        tooltipValue: resultTooltip.tooltipValue,\n        backgroundColor: resultTooltip.backgroundColor,\n        borderColor: resultTooltip.borderColor,\n        sizeBorder: resultTooltip.sizeBorder,\n        valueQuery: resultTooltip.valueQuery,\n      });\n    }\n  };\n\n  /** get data metrics and fill state */\n  reqMetrics = () => {\n    const region: RegionClass = this.props.uneCoor;\n\n    reqMetricRegion(region, this.props);\n    if (region.mainMetric.returnQuery && region.mainMetric.returnQuery.length > 0) {\n      const cnt: number | null = getResultQuery(region.mainMetric);\n\n      this.generateTooltipAndEditColor(region, cnt);\n    } else {\n      this.generateTooltipAndEditColor(region, null);\n    }\n  };\n\n  getValuesAuxiliaryMetrics = (): string[] => {\n    const region: RegionClass = this.props.uneCoor;\n    reqMetricAuxRegion(region, this.props);\n    const mainMetric: Metric = region.mainMetric;\n    const auxiliaryMetrics: Metric[] = region.metrics;\n    let valueAuxiliaryMetric: string[] = [];\n    //const countMetrics: number = auxiliaryMetrics.length;\n    auxiliaryMetrics.forEach((metric: Metric) => {\n      let countTotalValues = 0;\n      let resultTotalValues = 0;\n      let result = '';\n      if (metric.returnQuery && metric.returnQuery.length > 0) {\n        let numberLoop: number = metric.returnQuery?.length || 0;\n        if (metric.key !== '' && metric.keyValue !== '') {\n          for (let i = 0; i < numberLoop; i++) {\n            let line = metric.returnQuery[i];\n            if (line.fields[0].labels) {\n              if (mainMetric.refId !== '') {\n                if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                  if (line.fields[0].labels[metric.key] === metric.keyValue) {\n                    const countValues: number = line.fields[0].values.length;\n                    for (let i = 0; i < countValues; i++) {\n                      if (line.fields[0].values.get(i)) {\n                        resultTotalValues += line.fields[0].values.get(i);\n                        countTotalValues++;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          for (let i = 0; i < numberLoop; i++) {\n            let line = metric.returnQuery[i];\n            if (line.fields[0].labels) {\n              if (mainMetric.refId) {\n                if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                  const countValues: number = line.fields[0].values.length;\n                  for (let i = 0; i < countValues; i++) {\n                    if (line.fields[0].values.get(i)) {\n                      resultTotalValues += line.fields[0].values.get(i);\n                      countTotalValues++;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (metric.manageValue === 'avg') {\n          result = (resultTotalValues / countTotalValues).toString();\n        } else if (metric.manageValue === 'sum') {\n          result = resultTotalValues.toString();\n        } else if (metric.manageValue === 'err') {\n          if (countTotalValues > 1) {\n            result = 'error';\n          } else {\n            result = resultTotalValues.toString();\n          }\n        }\n      }\n      if (result !== '') {\n        valueAuxiliaryMetric.push(result);\n      }\n    });\n    return valueAuxiliaryMetric;\n  };\n\n  private getConvertValueAuxMetrics = (valueBrut: string): string => {\n    let result = '';\n    const region: RegionClass = this.props.uneCoor;\n    //const roundValue: string = region.textObj.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(region.textObj.generateAuxiliaryElement.numericFormatElement, 10) || 1;\n    const unit: string = region.textObj.generateAuxiliaryElement.unit;\n    //if (roundValue !== '') {\n    result = parseFloat(valueBrut).toPrecision(roundValue).toString();\n    // } else {\n    //   result = valueBrut;\n    // }\n    return result + ' ' + unit;\n  };\n\n  private displayValuesAuxMetrics = (): JSX.Element => {\n    let html: JSX.Element[] = [];\n    const region: RegionClass = this.props.uneCoor;\n    const valuesAuxMetrics: string[] = this.getValuesAuxiliaryMetrics();\n    const auxMetrics: Metric[] = region.metrics;\n    const addColorText: boolean = region.textObj.generateAuxiliaryElement.addColorTextElement;\n    const addColorBack: boolean = region.textObj.generateAuxiliaryElement.addColorBackElement;\n    const legend: string = region.textObj.generateAuxiliaryElement.legendElement;\n    let colorText = '';\n    let colorBack = '';\n\n    if (addColorText) {\n      colorText = region.textObj.generateAuxiliaryElement.colorTextElement;\n    } else {\n      colorText = 'white';\n    }\n\n    if (addColorBack) {\n      colorBack = region.textObj.generateAuxiliaryElement.colorBackElement;\n    } else {\n      colorBack = 'black';\n    }\n\n    const styleTitle = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleTitle2 = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleContent = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    if (auxMetrics.length > 0) {\n      html.push(\n        <p key={'region' + region.id + 'contentToolTip1'} style={styleTitle}>\n          Auxiliary Metric\n        </p>\n      );\n      html.push(\n        <p key={'region' + region.id + 'contentToolTip2'} style={styleTitle}>\n          {legend}\n        </p>\n      );\n      let index = 1;\n      for (const metric of auxMetrics) {\n        const valueAuxMetric: string = this.getConvertValueAuxMetrics(valuesAuxMetrics[index - 1]);\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip3'} style={styleTitle2}>\n            + Metric {index}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip4'} style={styleContent}>\n            - Reference : {metric.refId}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip5'} style={styleContent}>\n            - Value : {!isNaN(parseFloat(valueAuxMetric)) && valueAuxMetric}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip6'} style={styleContent}>\n            - Key : {metric.key}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip7'} style={styleContent}>\n            - KeyValue : {metric.keyValue}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip8'} style={styleContent}>\n            - Type : {metric.manageValue}\n          </p>\n        );\n        index++;\n      }\n    }\n    return <div style={{ backgroundColor: colorBack }}>{html}</div>;\n  };\n\n  displayValuesMetaData = (): JSX.Element | null => {\n    const styleTitleMetaData = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    let result: JSX.Element[] = [];\n    if (this.props.uneCoor.meta.length !== 0) {\n      result.push(\n        <p key={'region' + this.props.uneCoor.id + 'ContentTooltip9' + this.props.uneCoor.label} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.uneCoor.meta.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.options.display.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        result.push(\n          <p key={index + 'region' + this.props.uneCoor.id + 'ContentTooltip10' + this.props.uneCoor.label} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    } else {\n      return null;\n    }\n    return <div>{result}</div>;\n  };\n\n  /**\n   * to do\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    // if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (coordinateX > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateX < 0) {\n    //     result = 0;\n    //   }\n    // } else {\n    //   if (coordinateX > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateX < -100) {\n    //     result = -100;\n    //   }\n    // }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    // if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (coordinateY > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateY < 0) {\n    //     result = 0;\n    //   }\n    // } else {\n    //   if (coordinateY > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateY < -100) {\n    //     result = -100;\n    //   }\n    // }\n    return result;\n  }\n\n  getCoordinatePxAdaptToInitialSpace = (\n    region: RegionClass,\n    // coorRegion: Coord4D,\n    coorRegionDefault: Coord4D,\n    // widthInitialSpaceDefault: number,\n    // heightInitialSpaceDefault: number\n  ): CoorHTML => {\n    const widthBackground: number = parseInt(this.props.options.baseMap.width, 10);\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    let leftPx = 0;\n    let rightPx = 0;\n    let topPx = 0;\n    let bottomPx = 0;\n\n    const ratioLeft = parseInt(coorRegionDefault.xMin, 10) / widthBackground;\n    const ratioRight = (widthBackground - parseInt(coorRegionDefault.xMax, 10)) / widthBackground;\n    const ratioTop = (heightBackground - parseInt(coorRegionDefault.yMax, 10)) / heightBackground;\n    const ratioBottom = parseInt(coorRegionDefault.yMin, 10) / heightBackground;\n    leftPx = Math.round(this.defineLimitX(xMin + widthInitialSpace * ratioLeft));\n    rightPx = Math.round(this.defineLimitX(widthInitialSpace * ratioRight + (widthBackground - xMax)));\n    topPx = Math.round(this.defineLimitY(heightInitialSpace * ratioTop + (heightBackground - yMax)));\n    bottomPx = Math.round(this.defineLimitY(yMin + heightInitialSpace * ratioBottom));\n\n    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    newArrayRegion.forEach((currentRegion) => {\n      if (currentRegion.id === region.id) {\n        currentRegion.coords.xMin = leftPx.toString();\n        currentRegion.coords.xMax = (widthBackground - rightPx).toString();\n        currentRegion.coords.yMin = bottomPx.toString();\n        currentRegion.coords.yMax = (heightBackground - topPx).toString();\n      }\n    });\n    this.props.options.regionCoordinateSpace = newArrayRegion;\n\n    const leftToDraw = ((leftPx - xMin) / widthInitialSpace) * widthBackground;\n    const rightToDraw = ((rightPx - (widthBackground - xMax)) / widthInitialSpace) * widthBackground;\n    const topToDraw = ((topPx - (heightBackground - yMax)) / heightInitialSpace) * heightBackground;\n    const bottomToDraw = ((bottomPx - yMin) / heightInitialSpace) * heightBackground;\n\n    let result: CoorHTML = {\n      top: topToDraw.toString() + 'px',\n      bottom: bottomToDraw.toString() + 'px',\n      left: leftToDraw.toString() + 'px',\n      right: rightToDraw.toString() + 'px',\n    };\n    return result;\n  };\n\n  /** final region zone . Call function after reqMetrics*/\n  renduFinal = () => {\n    if (this.props.uneCoor.mode) {\n      return;\n    }\n    const region: RegionClass = this.props.uneCoor;\n    const pBorder: string = this.state.sizeBorder.toString() + 'px solid ' + this.state.borderColor;\n\n    const backColor: string = region.textObj.colorBack;\n    const textColor: string = region.textObj.colorText;\n\n    //const coorHTML: CoorHTML = calculRealCoordinate(region, this.props.useLimit, this.props.limit);\n    const coorHTML: CoorHTML = this.getCoordinatePxAdaptToInitialSpace(\n      region,\n      region.coordsDefault\n      // region.coords,\n      // parseInt(region.widthInitialSpaceDefault, 10),\n      // parseInt(region.heightInitialSpaceDefault, 10)\n    );\n    const style: Style = region.textObj.style;\n\n    let valueCursor = 'default';\n    if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n      valueCursor = 'pointer';\n    }\n\n    const styleDiv = {\n      position: 'absolute',\n      border: pBorder,\n      top: coorHTML.top,\n      bottom: coorHTML.bottom,\n      left: coorHTML.left,\n      right: coorHTML.right,\n      zIndex: 999,\n      justifyContent: 'center',\n      background: 'url(' + region.img + ') no-repeat center center',\n      backgroundColor: this.state.backgroundColor,\n      backgroundSize: 'contain',\n      cursor: valueCursor,\n    } as React.CSSProperties;\n\n    const styleTextDiv = {\n      backgroundColor: backColor,\n      textDecoration: this.defineTextDecoration(style),\n      fontStyle: this.defineFontStyle(style),\n      fontWeight: this.defineFontWeight(style),\n      textAlign: 'center',\n      //verticalAlign: 'middle',\n      color: textColor,\n      marginTop: (parseInt(region.positionParameter.labelAPositionY, 10) * -1) + 'px',\n      marginLeft: region.positionParameter.labelAPositionX + 'px',\n    } as React.CSSProperties;\n\n    const styleMetricsDiv = {\n      textDecoration: this.defineTextDecoration(style),\n      fontStyle: this.defineFontStyle(style),\n      fontWeight: this.defineFontWeight(style),\n      backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n      color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      textAlign: 'center',\n      //verticalAlign: 'middle',\n    } as React.CSSProperties;\n\n    let positionTooltip: any = '';\n    if (region.positionParameter.tooltipPositionA.value) {\n      positionTooltip = region.positionParameter.tooltipPositionA.value.toLowerCase();\n    }\n\n    let value: JSX.Element;\n\n    if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n      value = (\n        <div style={styleDiv} id={this.props.id}>\n          {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n            <div>\n              <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n              <div style={styleMetricsDiv}>\n                {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n              </div>\n            </div>\n          )}\n        </div>\n      );\n      if (\n        region.textObj.isTextTooltip ||\n        (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) ||\n        region.textObj.generateAuxiliaryElement.displayObjectInTooltip ||\n        region.meta.length !== 0\n      ) {\n        // if (this.state.tooltipValue) {\n        //   value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n        // } else {\n        //   <div>{value}</div>;\n        // }\n        if (this.state.tooltipValue === null) {\n          <div>{value}</div>;\n        } else {\n          value = <Tooltip placement={positionTooltip} content={this.state.tooltipValue}>{value}</Tooltip>;\n        }\n      }\n    } else {\n      value = (\n        <div style={styleDiv} id={this.props.id}>\n          <a href={region.linkURL.followLink} onClick={this.desactiveLink} style={{cursor: this.defineCursor()}} target=\"_blank\" rel=\"noopener noreferrer\">\n            <div style={{ height: '100%', width: '100%' }}>\n              {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n                <div>\n                  <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n                  <div style={styleMetricsDiv}>\n                    {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n                  </div>\n                </div>\n              )}\n            </div>\n          </a>\n        </div>\n      );\n      if (\n        region.textObj.isTextTooltip ||\n        (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) ||\n        region.textObj.generateAuxiliaryElement.displayObjectInTooltip ||\n        region.meta.length !== 0\n      ) {\n        // if (this.state.tooltipValue) {\n        //   value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n        // } else {\n        //   <div>{value}</div>;\n        // }\n        if (this.state.tooltipValue === null) {\n          <div>{value}</div>;\n        } else {\n          value = <Tooltip placement={positionTooltip} content={this.state.tooltipValue}>{value}</Tooltip>;\n        }\n      }\n    }\n    // if (!this.props.isEnabled && region.linkURL.followLink !== '') {\n    //   value = (\n    //     <div style={styleDiv} id={this.props.id}>\n    //       <a href={region.linkURL.followLink}>\n    //         <div style={{height: '100%', width: '100%'}} >\n    //           {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n    //             <div>\n    //               <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n    //               <div style={styleMetricsDiv}>\n    //                 {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n    //               </div>\n    //             </div>\n    //           )}\n    //         </div>\n    //       </a>\n    //     </div>\n    //   );\n    //   if (region.textObj.isTextTooltip || (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.textObj.generateAuxiliaryElement.displayObjectInTooltip) {\n    //     value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n    //   }\n    // } else {\n    //   value = (\n    //     <div style={styleDiv} id={this.props.id}>\n    //       {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n    //         <div>\n    //           <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n    //           <div style={styleMetricsDiv}>\n    //             {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n    //           </div>\n    //         </div>\n    //       )}\n    //     </div>\n    //   );\n    //   if (region.textObj.isTextTooltip || (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.textObj.generateAuxiliaryElement.displayObjectInTooltip) {\n    //     value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n    //   }\n    // }\n    this.setState({\n      htmlResult: value,\n    });\n  };\n\n  /** fill state to display data in html */\n  fillState = async () => {\n    await Promise.resolve('Success').then(() => {\n      this.reqMetrics();\n    });\n    await Promise.resolve('Success').then(() => {\n      this.renduFinal();\n    });\n  };\n\n  private defineTextDecoration = (mainStyle: Style): string => {\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (mainStyle: Style): string => {\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (mainStyle: Style): any => {\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  /**\n   * update props\n   * @param prevProps\n   */\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps !== this.props) {\n      this.fillState();\n    }\n  }\n\n  /** load prometheus value */\n  componentDidMount = () => {\n    this.fillState();\n  };\n\n  /** render */\n  render() {\n    return this.state.htmlResult;\n  }\n}\n","import React from 'react';\nimport { SimpleOptions } from 'types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Button, FormField } from '@grafana/ui';\n\nimport { ArrayInputClass } from 'Models/ArrayInputClass';\nimport { InputClass } from 'Models/InputClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport InputTextField from 'Functions/Input/inputText';\n\ninterface Props {\n  /** trace color border? */\n  traceBorder: boolean;\n  /** trace color back */\n  traceBack: boolean;\n  /** last lower limit array */\n  lowerLimit: LowerLimitClass[];\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /**\n   * tableau d'input pour générer le form\n   */\n  arrayInputClass: ArrayInputClass[];\n  /**\n   * tableau des seuils qui sera renvoyé au parent\n   */\n  lowerLimit: LowerLimitClass[];\n  /**\n   * nombre de seuil\n   */\n  index: number;\n  /**\n   * nombre de variation à ajouter qui est affiché dans l'input\n   */\n  nbVariation: string;\n\n  /**\n   * fill dynamic input\n   */\n  dynamicInput: JSX.Element;\n  /** input final form */\n  //displayInput: boolean;\n}\n\n/**\n * edit colors in variable mode\n */\nclass VariableColor extends React.Component<Props, State, PanelEditorProps<SimpleOptions>> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayInputClass: [],\n      lowerLimit: [],\n      index: 0,\n      nbVariation: '3',\n      dynamicInput: <br />,\n      //displayInput: false,\n    };\n  }\n\n  /**\n   * set state for arrayInputClass with Promise\n   */\n  setStateAsyncArrayInputClass = (state: {\n    /**\n     * edit arrayInputClass\n     */\n    arrayInputClass: ArrayInputClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for seuil with Promise\n   */\n  setStateAsyncLowerLimit = (state: {\n    /**\n     * edit seuil\n     */\n    lowerLimit: LowerLimitClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for index with Promise\n   */\n  setStateAsyncIndex = (state: {\n    /**\n     * edit index\n     */\n    index: number;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for nbVariation with Promise\n   */\n  setStateAsyncNbVariation = (state: {\n    /**\n     * edit nbVariation\n     */\n    nbVariation: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * send data to parent\n   */\n  callBack = () => {\n    this.fillVarInput();\n    this.props.lowerLimitCallBack(this.state.lowerLimit);\n  };\n\n  /** old function */\n  saveData = () => {\n    // const { onOptionsChange } = this.props;\n    // console.table(this.state.seuil);\n    // onOptionsChange({\n    // \t...this.props.options,\n    // \tseuil: this.state.seuil,\n    // });\n  };\n\n  /**\n   * add new seuil\n   * @param idx index for id\n   */\n  addInput = async (idx: number, newLowerLimit: LowerLimitClass) => {\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: this.state.arrayInputClass\n        .slice()\n        .concat(\n          new ArrayInputClass(idx, [\n            new InputClass('gestCouleurMin' + idx.toString(), 'Seuil min', 'lowerLimitMin', 'text', false, 'Seuil min', undefined),\n            new InputClass('gestCouleurMax' + idx.toString(), 'Seuil max', 'lowerLimitMax', 'text', false, 'Seuil max', undefined),\n          ])\n        ),\n    });\n\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: this.state.lowerLimit.concat(newLowerLimit),\n    });\n\n    await this.setStateAsyncIndex({\n      index: idx + 1,\n    });\n  };\n\n  /**\n   * call function with value input change\n   * @param event event input\n   * @param idInput id input\n   * @param idLine index array\n   */\n  handleValueChange = async (event: string, idInput: string, idLine: number) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit.slice();\n    if (idInput === 'lowerLimitMin') {\n      cpy[idLine].lowerLimitMin = event;\n    } else {\n      cpy[idLine].lowerLimitMax = event;\n      if (cpy.length > idLine + 1) {\n        cpy[idLine + 1].lowerLimitMin = '>' + event;\n      }\n    }\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when colorFond value change\n   * @param key line index to modify\n   * @param color the new color to add\n   */\n  onChangeColorFond = async (key: number, color: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].backColor = color;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call fonction when colorContour change\n   * @param key line index to modify\n   * @param color the new color to add\n   */\n  onChangeColorContour = async (key: number, color: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].borderColor = color;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when sizeBorder value change\n   * @param key line index to modify\n   * @param size the new size to add\n   */\n  onChangeSzContour = async (key: number, size: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].sizeBorder = size;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * insert color picker\n   * @param keyInt index to edit line\n   * @returns JSX.Element\n   */\n  addButtonColor = (keyInt: number): JSX.Element[] => {\n    const key = keyInt.toString();\n    const couleur: JSX.Element[] = [];\n    const l10n = require('Localization/en.json');\n\n    if (this.props.traceBack) {\n      const keyFondColorPicker = key + 'FondcolorPicker';\n\n      couleur.push(\n        <InputSeriesColorPicker\n          key={keyFondColorPicker}\n          color={this.state.lowerLimit[keyInt].backColor}\n          keyInt={keyInt}\n          text={l10n.colorVariable.switchBackgroundColor}\n          _onChange={this.onChangeColorFond}\n        />\n      );\n    }\n    if (this.props.traceBorder) {\n      const keyContourDiv = key + 'ContourDiv';\n      let nameInputSize = '';\n      if (this.props.isLink) {\n        nameInputSize = 'Size';\n      } else {\n        nameInputSize = l10n.colorVariable.thicknessOutline;\n      }\n\n      couleur.push(\n        <div key={keyContourDiv}>\n          <InputSeriesColorPicker\n            color={this.state.lowerLimit[keyInt].borderColor}\n            keyInt={keyInt}\n            text={l10n.colorVariable.switchOutlineColor}\n            _onChange={this.onChangeColorContour}\n          />\n\n          <FormField\n            labelWidth={15}\n            label={nameInputSize}\n            name=\"epaisseurContour\"\n            placeholder={l10n.colorVariable.thicknessOutline}\n            value={this.state.lowerLimit[keyInt].sizeBorder}\n            onChange={(event) => this.onChangeSzContour(keyInt, event.currentTarget.value)}\n          />\n        </div>\n      );\n    }\n    return couleur;\n  };\n\n  /**\n   * call fonction when edit nbVariation\n   */\n  onChangeVariation = async (event: {\n    /** currentTarget is item that is being edited */\n    currentTarget: HTMLInputElement;\n  }) => {\n    await this.setStateAsyncNbVariation({ nbVariation: event.currentTarget.value });\n  };\n\n  /** generate array input */\n  test = async (newSeuil: LowerLimitClass[]) => {\n    const arrayInput: ArrayInputClass[] = this.state.arrayInputClass.slice();\n    let idx = this.state.index;\n    const pSeuil: LowerLimitClass[] = this.state.lowerLimit;\n\n    for (const line of newSeuil) {\n      arrayInput.push(\n        new ArrayInputClass(idx, [\n          new InputClass('gestCouleurMin' + idx.toString(), 'Seuil min', 'lowerLimitMin', 'text', false, 'Seuil min', undefined),\n          new InputClass('gestCouleurMax' + idx.toString(), 'Seuil max', 'lowerLimitMax', 'text', false, 'Seuil max', undefined),\n        ])\n      );\n      idx++;\n      pSeuil.push(line);\n    }\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: arrayInput,\n    });\n\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: pSeuil,\n    });\n\n    await this.setStateAsyncIndex({\n      index: idx,\n    });\n  };\n\n  /**\n   * call addInput to prepare new inputs\n   * @param nb number inputs to add\n   */\n  addMultipleVariation = async (nb: number, seuil?: LowerLimitClass[]) => {\n    if (seuil) {\n      await this.test(seuil);\n      this.fillVarInput();\n    }\n  };\n\n  /** add new lower limit */\n  addVariation = async (nb: number, seuil?: LowerLimitClass[]) => {\n    for (let i = 0; i < nb; i++) {\n      let newSeuil: LowerLimitClass = seuil ? seuil[i] : new LowerLimitClass(i, '', '', '', '', '');\n      if (this.props.isLink) {\n        newSeuil = seuil ? seuil[i] : new LowerLimitClass(i, '', '', '', '', '10');\n      }\n      await this.addInput(i, newSeuil);\n    }\n    this.fillVarInput();\n  };\n\n  /**\n   * call function when display n input according to nbVariation\n   */\n  onClickVariation = async () => {\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: [],\n    });\n    await this.setStateAsyncIndex({\n      index: 0,\n    });\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: [],\n    });\n\n    // this.setState({\n    //   displayInput: true,\n    // });\n\n    const nb: number = parseInt(this.state.nbVariation, 10);\n    await this.addVariation(nb);\n  };\n\n  /**\n   * generate input seuil min and max with value\n   * @returns JSX.Element\n   */\n  fillVarInput = (): void => {\n    let final: JSX.Element[] = [];\n\n    if (this.state.lowerLimit.length === 0) {\n      this.setState({\n        dynamicInput: <br />,\n      });\n      return;\n    }\n\n    let i = 0;\n    for (const line of this.state.arrayInputClass) {\n      if (line.uneClassInput.length <= 0) {\n        this.setState({\n          dynamicInput: <br />,\n        });\n        return;\n      }\n      const result = line.uneClassInput.map((obj: InputClass) => (\n        <InputTextField\n          key={obj.id}\n          label={obj.label}\n          name={obj.name}\n          placeholder={obj.placeholder || ''}\n          required={obj.required}\n          value={\n            obj.name === 'lowerLimitMin'\n              ? line.id === 0\n                ? '-∞'\n                : this.state.lowerLimit[i].lowerLimitMin\n              : line.id === this.state.index - 1\n              ? '+∞'\n              : this.state.lowerLimit[i].lowerLimitMax\n          }\n          _handleChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this.handleValueChange(event.currentTarget.value, obj.name, line.id)}\n          disabled={obj.name === 'lowerLimitMin' || line.id === this.state.index - 1}\n        />\n      ));\n      i++;\n      const couleur: JSX.Element[] = this.addButtonColor(line.id);\n      const newKey = line.id.toString() + 'brGestColor';\n      final = final.concat(result.concat(couleur.concat(<br key={newKey} />)));\n    }\n    this.setState({\n      dynamicInput: <ul>{final}</ul>,\n    });\n  };\n\n  /**\n   * debug\n   */\n  infoSeuil = () => {};\n\n  /**\n   * component mount\n   */\n  componentDidMount = () => {\n    if (this.props.lowerLimit.length > 0) {\n      const nb: number = parseInt(this.state.nbVariation, 10);\n      this.addMultipleVariation(nb, this.props.lowerLimit);\n    }\n  };\n\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.traceBorder !== this.props.traceBorder || prevProps.traceBack !== this.props.traceBack) {\n      this.fillVarInput();\n    }\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <InputTextField\n          label={l10n.colorVariable.variationNumber}\n          name=\"nbVariation\"\n          placeholder={l10n.colorVariable.number}\n          required={true}\n          value={this.state.nbVariation}\n          _handleChange={this.onChangeVariation}\n        />\n        <Button onClick={this.onClickVariation}>{l10n.colorVariable.addColor}</Button>\n        <br />\n        <br />\n        {this.state.dynamicInput}\n      </div>\n    );\n  }\n}\nexport default VariableColor;\n","import React from 'react';\n\nimport { FormField } from '@grafana/ui';\n\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** trace border? */\n  traceBorder: boolean;\n  /** trace background? */\n  traceBack: boolean;\n  /** last array lowerLimit */\n  lowerLimit: LowerLimitClass[];\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  //lowerLimitDefault: (value: LowerLimitClass) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /** couleur du fond */\n  lowerLimit: LowerLimitClass[];\n  /** result html */\n  htmlResult: JSX.Element;\n}\n\n/**\n * edit color in fix mode\n */\nclass FixColor extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      lowerLimit: this.props.lowerLimit,\n      htmlResult: <div></div>,\n    };\n  }\n\n  /**\n   * edit background color with Promise\n   */\n  setStateAsyncSeuil = (state: {\n    /**\n     * edit colorFond\n     */\n    lowerLimit: LowerLimitClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data\n   */\n  callBack = (): void => {\n    this.props.lowerLimitCallBack(this.state.lowerLimit);\n  };\n\n  /**\n   * change background color\n   */\n  onChangeColorFond = async (key: number, color: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].backColor = color;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * change contour color\n   */\n  onChangeColorContour = async (key: number, color: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].borderColor = color;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * change size color\n   */\n  onChangeSzContour = async (value: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].sizeBorder = value;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * add button color\n   */\n  addButtonColor = (): JSX.Element[] => {\n    const key = '0';\n    const couleur: JSX.Element[] = [];\n    const l10n = require('Localization/en.json');\n    let textInputColor = l10n.colorVariable.switchOutlineColor;\n    let labelSize = l10n.colorVariable.thicknessOutline;\n    let placeHolderSize = l10n.colorVariable.thicknessOutline;\n    if (this.props.traceBack) {\n      const keyFondColorPicker = key + 'FondcolorPicker';\n      couleur.push(\n        <InputSeriesColorPicker\n          key={keyFondColorPicker}\n          color={this.state.lowerLimit[0].backColor}\n          keyInt={0}\n          text={l10n.colorVariable.switchBackgroundColor}\n          _onChange={this.onChangeColorFond}\n        />\n      );\n    }\n    if (this.props.traceBorder) {\n      const keyContourDiv = key + 'ContourDiv';\n      couleur.push(\n        <div key={keyContourDiv}>\n          <InputSeriesColorPicker\n            color={this.state.lowerLimit[0].borderColor}\n            keyInt={0}\n            text={textInputColor}\n            _onChange={this.onChangeColorContour}\n          />\n\n          <FormField\n            labelWidth={15}\n            label={labelSize}\n            name=\"epaisseurContour\"\n            placeholder={placeHolderSize}\n            value={this.state.lowerLimit[0].sizeBorder}\n            onChange={(event) => this.onChangeSzContour(event.currentTarget.value)}\n          />\n        </div>\n      );\n    }\n    return couleur;\n  };\n\n  /** create form */\n  initComponent = () => {\n    this.setState({\n      htmlResult: <div>{this.addButtonColor()}</div>,\n    });\n  };\n\n  /** init component when component is mount */\n  componentDidMount = async () => {\n    if (this.state.lowerLimit.length === 0) {\n      await this.setStateAsyncSeuil({\n        lowerLimit: [new LowerLimitClass(0, '', '', '', '', '2')],\n      });\n    }\n    this.initComponent();\n  };\n\n  /** init component when  update props */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.traceBorder !== this.props.traceBorder || prevProps.traceBack !== this.props.traceBack) {\n      this.initComponent();\n    }\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return <div>{this.state.htmlResult}</div>;\n  }\n}\nexport default FixColor;\n","import React from 'react';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputTextField from 'Functions/Input/inputText';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props {\n  /** id for coordinate space */\n  coordinateSpace: CoordinateSpaceClass;\n  /** save data to parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** link */\n  followLink: string;\n  /**\n   * link for tooltip\n   */\n  hoveringTooltipLink: string;\n  /**\n   * text for tooltip\n   */\n  hoveringTooltipText: string;\n}\n\n/**\n * def\n */\nclass ManageLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      followLink: this.props.coordinateSpace.linkURL.followLink,\n      hoveringTooltipLink: this.props.coordinateSpace.linkURL.hoveringTooltipLink,\n      hoveringTooltipText: this.props.coordinateSpace.linkURL.hoveringTooltipText,\n    };\n  }\n\n  /**\n   * edit followLink with Promise\n   */\n  setStateAsyncFollowLink = (state: {\n    /**\n     * edit followLink\n     */\n    followLink: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * edit link for tooltip with Promise\n   */\n  setStateAsyncHoveringTooltipLink = (state: {\n    /**\n     * edit hoveringTooltipLink\n     */\n    hoveringTooltipLink: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * edit text for tooltip with Promise\n   */\n  setStateAsyncHoveringTooltipText = (state: {\n    /**\n     * edit hoveringTooltipText\n     */\n    hoveringTooltipText: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data\n   */\n  callBack = () => {\n    this.props.callBackToParent(new LinkURLClass(this.state.followLink, this.state.hoveringTooltipLink, this.state.hoveringTooltipText), undefined);\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeFollowLink = async (value: string) => {\n    await this.setStateAsyncFollowLink({\n      followLink: value,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeHoveringTooltipLink = async (value: string) => {\n    await this.setStateAsyncHoveringTooltipLink({\n      hoveringTooltipLink: value,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeHoveringTooltipText = async (value: string) => {\n    await this.setStateAsyncHoveringTooltipText({\n      hoveringTooltipText: value,\n    });\n    this.callBack();\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.coordinateSpace.id !== this.props.coordinateSpace.id) {\n      this.setState({\n        followLink: prevProps.coordinateSpace.linkURL.followLink,\n        hoveringTooltipLink: prevProps.coordinateSpace.linkURL.hoveringTooltipLink,\n        hoveringTooltipText: prevProps.coordinateSpace.linkURL.hoveringTooltipText,\n      });\n    }\n  }\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n    return (\n      <div>\n        <InputTextField\n          id=\"followLink\"\n          label={l10n.metricPrincipalSetting.followLink}\n          name=\"followLink\"\n          placeholder={l10n.metricPrincipalSetting.link}\n          required={false}\n          value={this.state.followLink}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeFollowLink(event.currentTarget.value)}\n        />\n\n        <InputTextField\n          label={l10n.metricPrincipalSetting.linkTooltip}\n          name=\"linkTooltip\"\n          placeholder={l10n.metricPrincipalSetting.link}\n          required={false}\n          value={this.state.hoveringTooltipLink}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeHoveringTooltipLink(event.currentTarget.value)}\n        />\n\n        <InputTextField\n          label={l10n.metricPrincipalSetting.textInTooltip}\n          name=\"textTooltip\"\n          placeholder={l10n.metricPrincipalSetting.text}\n          required={false}\n          value={this.state.hoveringTooltipText}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeHoveringTooltipText(event.currentTarget.value)}\n        />\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\nexport default ManageLink;\n","import React from 'react';\n\nimport { Switch, Collapse, FormLabel } from '@grafana/ui';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport FixColor from 'components/Parametrage/fixColor';\nimport VariableColor from 'components/Parametrage/VariableColor';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** last data */\n  coordinate: CoordinateSpaceClass;\n  /** function parent to save data */\n  callBack: (coordinate: CoordinateSpaceClass, id?: number) => void;\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /** copy coordinate */\n  coordinate: CoordinateSpaceClass;\n  /** collapse */\n  openLowerLimit: boolean;\n  lowerLimitFix: LowerLimitClass;\n  lowerLimitVariable: LowerLimitClass[];\n}\n\n/**\n * def class\n */\nclass ManageLowerLimit extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      coordinate: this.props.coordinate,\n      openLowerLimit: false,\n      lowerLimitFix: new LowerLimitClass(0, '', '', '', '', ''),\n      lowerLimitVariable: [],\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncCoordinate = (state: {\n    /** new value */\n    coordinate: CoordinateSpaceClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncOpenLowerLimit = (state: {\n    /** new value */\n    openLowerLimit: boolean;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data in type\n   */\n  onSave = () => {\n    this.props.callBack(this.props.coordinate);\n    this.props.lowerLimitCallBack(this.state.coordinate.lowerLimit);\n  };\n\n  /**\n   * Edit fondIsChecked with switch\n   */\n  onSwitchFond = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.traceBack = !newValue.traceBack;\n    await this.setStateAsyncCoordinate({ coordinate: newValue });\n    this.onSave();\n  };\n\n  /**\n   * Edit contourIsChecked with switch\n   */\n  onSwitchContour = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.traceBorder = !newValue.traceBorder;\n    await this.setStateAsyncCoordinate({ coordinate: newValue });\n    this.onSave();\n  };\n\n  /**\n   * switch colorMode -> fixe / variable\n   */\n  onSwitchColorMode = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.colorMode = !newValue.colorMode;\n    if (!this.state.coordinate.colorMode) {\n      if (this.state.coordinate.lowerLimit && this.state.coordinate.lowerLimit.length > 0) {\n        this.setState({\n          lowerLimitVariable: this.state.coordinate.lowerLimit,\n        });\n      }\n      // let defaultSizeBorder = '';\n      // if (this.props.isLink) {\n      //   defaultSizeBorder = '10';\n      // }\n      //newValue.lowerLimit = new LowerLimitClass(0, '', '', '', '', defaultSizeBorder);\n      let lowerLimitFix = this.state.lowerLimitFix;\n      //lowerLimitFix.sizeBorder = defaultSizeBorder;\n      newValue.lowerLimit[0] = lowerLimitFix;\n      await this.setStateAsyncCoordinate({ coordinate: newValue });\n    } else {\n      if (this.state.coordinate && this.state.coordinate.lowerLimit && this.state.coordinate.lowerLimit.length > 0) {\n        this.setState({\n          lowerLimitFix: this.state.coordinate.lowerLimit[0],\n        });\n      }\n      newValue.lowerLimit = this.state.lowerLimitVariable;\n      await this.setStateAsyncCoordinate({ coordinate: newValue });\n    }\n    this.onSave();\n  };\n\n  // updateLowerLimitDefault = (value: LowerLimitClass) => {\n  //   this.setState({\n  //     lowerLimitFix: value,\n  //   })\n  // }\n\n  /** open or close toggle lower limit */\n  onToggleLowerLimit = (isOpen: boolean) => {\n    this.setState({\n      openLowerLimit: isOpen,\n    });\n  };\n\n  /** update component when coordinate props change */\n  componentDidUpdate = async (prevProps: Props) => {\n    if (prevProps.coordinate !== this.state.coordinate) {\n      await this.setStateAsyncCoordinate({\n        coordinate: prevProps.coordinate,\n      });\n      await this.setStateAsyncOpenLowerLimit({\n        openLowerLimit: false,\n      });\n    }\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n    return (\n      <div>\n        <Collapse label={'Lower limit'} isOpen={this.state.openLowerLimit} onToggle={this.onToggleLowerLimit}>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.genericParameter.variableColor}</FormLabel>\n            <Switch label={''} checked={this.state.coordinate.colorMode} onChange={this.onSwitchColorMode} />\n          </div>\n          <br />\n          {/* {!this.props.isLink ? (\n            <div>\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.genericParameter.traceBackground}</FormLabel>\n                <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n              </div>\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.genericParameter.traceContour}</FormLabel>\n                <Switch label={''} checked={this.state.coordinate.traceBorder} onChange={this.onSwitchContour} />\n              </div>\n            </div>\n          ) : (\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{'Color/Size'}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n            </div>\n          )} \n          */}\n          <div>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{l10n.genericParameter.traceBackground}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n            </div>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{l10n.genericParameter.traceContour}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBorder} onChange={this.onSwitchContour} />\n            </div>\n          </div>\n\n          {this.state.coordinate.colorMode ? (\n            <VariableColor\n              traceBorder={this.state.coordinate.traceBorder}\n              traceBack={this.state.coordinate.traceBack}\n              lowerLimit={this.state.coordinate.lowerLimit}\n              lowerLimitCallBack={this.props.lowerLimitCallBack}\n              isLink={this.props.isLink}\n            />\n          ) : (\n            <FixColor\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              traceBorder={this.state.coordinate.traceBorder}\n              traceBack={this.state.coordinate.traceBack}\n              lowerLimit={this.state.coordinate.lowerLimit}\n              //lowerLimitDefault={this.updateLowerLimitDefault}\n              lowerLimitCallBack={this.props.lowerLimitCallBack}\n              isLink={this.props.isLink}\n            />\n          )}\n        </Collapse>\n      </div>\n    );\n  }\n}\nexport default ManageLowerLimit;\n","import React from 'react';\nimport { SimpleOptions } from 'types';\n\nimport { Collapse } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\n\n// import { RegionClass } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport ManageLink from './manageLink';\nimport TextObjects from './textObjects';\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate */\n  coordinateSpace: CoordinateSpaceClass;\n  /** call function to save data in parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** open or close collapse main metric */\n  collapseLink: boolean;\n  /** open or close text object */\n  collapseTextObject: boolean;\n}\n\n/**\n * class ParametresGeneriques\n */\nclass ParametresGeneriques extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapseLink: false,\n      collapseTextObject: false,\n    };\n  }\n\n  /** switch value collapseLink when click collapse */\n  onToggleLinkCollapse = (isOpen: boolean) => {\n    this.setState({\n      collapseLink: isOpen,\n    });\n  };\n\n  /** switch value collapseTextObject when click collapse */\n  onToggleTextObject = (isOpen: boolean) => {\n    this.setState({\n      collapseTextObject: isOpen,\n    });\n  };\n\n  /** close collapse when coordinateSpace object change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.coordinateSpace !== this.props.coordinateSpace) {\n      this.setState({\n        collapseLink: false,\n        collapseTextObject: false,\n      });\n    }\n  };\n\n  /** HTML */\n  render() {\n    // const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseLink} label=\"Manage link\" onToggle={this.onToggleLinkCollapse}>\n          <div>\n            <ManageLink coordinateSpace={this.props.coordinateSpace} callBackToParent={this.props.callBackToParent} />\n          </div>\n        </Collapse>\n\n        <Collapse isOpen={this.state.collapseTextObject} label=\"Text object\" onToggle={this.onToggleTextObject}>\n          <div>\n            <TextObjects coordinateSpace={this.props.coordinateSpace} callBackToParent={this.props.callBackToParent} />\n          </div>\n        </Collapse>\n      </div>\n    );\n  }\n}\nexport default ParametresGeneriques;\n","import React from 'react';\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport { FormField, Collapse, Select, FormLabel, Button } from '@grafana/ui';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  callBackToParentZIndex: (zIndex: number, id: number) => void;\n  isPoint: boolean;\n  isLink: boolean;\n  isRegion: boolean;\n  id: number;\n}\n\ninterface State {\n  /** get text object */\n  collapsepositionParameter: boolean;\n  collapseLabel: boolean;\n  collapseTooltip: boolean;\n  collapseLayerLevel: boolean;\n  orientedLinkComparedToDowngrade: any;\n  orientedLinkComparedToUpgrade: any;\n}\n\n/**\n * def\n */\nclass PositionParameter extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapsepositionParameter: false,\n      collapseLabel: false,\n      collapseTooltip: false,\n      collapseLayerLevel: false,\n      orientedLinkComparedToDowngrade: {},\n      orientedLinkComparedToUpgrade: {},\n    };\n  }\n\n  private savePositionParameter = (newPositionParameter: PositionParameterClass) => {\n    const idCurrentCoordinateSpace: number = this.props.id || 0;\n    if (this.props.isPoint) {\n      const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of newArrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          point.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: newArrayPoints,\n      });\n    } else if (this.props.isLink) {\n      const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayOrientedLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          orientedLink.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: newArrayOrientedLink,\n      });\n    } else if (this.props.isRegion) {\n      const newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of newArrayRegion) {\n        if (region.id === idCurrentCoordinateSpace) {\n          region.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: newArrayRegion,\n      });\n    }\n  };\n\n  private getPositionParameter = (): PositionParameterClass => {\n    let positionParameter: PositionParameterClass = {\n      labelAPositionX: '0',\n      labelAPositionY: '0',\n      labelBPositionX: '0',\n      labelBPositionY: '0',\n      tooltipPositionA: {},\n      tooltipPositionB: {},\n    };\n    const idCurrentCoordinateSpace: number = this.props.id || 0;\n    if (this.props.isLink) {\n      const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayOrientedLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          positionParameter = orientedLink.positionParameter;\n        }\n      }\n    } else if (this.props.isPoint) {\n      const arrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of arrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          positionParameter = point.positionParameter;\n        }\n      }\n    } else if (this.props.isRegion) {\n      const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of arrayRegions) {\n        if (region.id === idCurrentCoordinateSpace) {\n          positionParameter = region.positionParameter;\n        }\n      }\n    }\n    return positionParameter;\n  };\n\n  // private callBack() {\n  //   this.props.callBackToParent(this.state.positionParameter, this.props.id || 0);\n  // }\n\n  private callBackZIndex(zIndex: number, id: number) {\n    this.props.callBackToParentZIndex(zIndex, id);\n  }\n\n  private handleChangeLabelAPositionX = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelAPositionX = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelAPositionY = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelAPositionY = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelBPositionX = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelBPositionX = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelBPositionY = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelBPositionY = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeTooltipPositionA = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.tooltipPositionA = { label: event.value, value: event.value };\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeTooltipPositionB = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.tooltipPositionB = { label: event.value, value: event.value };\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeSelectOrientedLinkToUpgrade = (event: any) => {\n    const newOrientedLinkComparedToToUpgrade: SelectableValue<OrientedLinkClass> = {\n      label: event.label,\n      value: event.value,\n    };\n    this.setState({\n      orientedLinkComparedToUpgrade: newOrientedLinkComparedToToUpgrade,\n    });\n  };\n\n  private handleChangeSelectOrientedLinkToDowngrade = (event: any) => {\n    const newOrientedLinkComaparedToDowngrade: SelectableValue<OrientedLinkClass> = {\n      label: event.label,\n      value: event.value,\n    };\n    this.setState({\n      orientedLinkComparedToDowngrade: newOrientedLinkComaparedToDowngrade,\n    });\n  };\n\n  private downgradeLayerLevel = () => {\n    const orientedLinkComparedTo: OrientedLinkClass = this.state.orientedLinkComparedToDowngrade.value;\n    const zIndex: number = orientedLinkComparedTo.zIndex - 1;\n    this.callBackZIndex(zIndex, this.props.id || 0);\n  };\n\n  private upgradeLayerLevel = () => {\n    const orientedLinkComparedTo: OrientedLinkClass = this.state.orientedLinkComparedToUpgrade.value;\n    const zIndex: number = orientedLinkComparedTo.zIndex + 1;\n    this.callBackZIndex(zIndex, this.props.id || 0);\n  };\n\n  private defineListOrientedLink = (): Array<SelectableValue<OrientedLinkClass>> => {\n    let listOptions: Array<SelectableValue<OrientedLinkClass>> = [];\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n\n    arrayOrientedLinks.forEach((orientedLink) => {\n      let selectableValue = {\n        label: orientedLink.label || orientedLink.name,\n        value: orientedLink,\n      };\n      listOptions.push(selectableValue);\n    });\n    return listOptions;\n  };\n\n  private defineLabelPositionInputs = (): JSX.Element => {\n    let item: JSX.Element;\n    const positionParameter: PositionParameterClass = this.getPositionParameter();\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.id) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      item = (\n        <div>\n          <div>\n            <div>\n              <FormField\n                label=\"Label A Position X\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelAPositionX}\n                onChange={this.handleChangeLabelAPositionX}\n                placeholder={'Label A Position X'}\n              />\n              <FormField\n                label=\"Label A Position Y\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelAPositionY}\n                onChange={this.handleChangeLabelAPositionY}\n                placeholder={'Label A Position Y'}\n              />\n            </div>\n          </div>\n          <div>\n            <div>\n              <FormField\n                label=\"Label B Position X\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelBPositionX}\n                onChange={this.handleChangeLabelBPositionX}\n                placeholder={'Label B Position X'}\n              />\n              <FormField\n                label=\"Label B Position Y\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelBPositionY}\n                onChange={this.handleChangeLabelBPositionY}\n                placeholder={'Label B Position Y'}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div>\n          <FormField\n            label=\"Position X\"\n            labelWidth={10}\n            inputWidth={20}\n            type=\"text\"\n            value={positionParameter.labelAPositionX}\n            onChange={this.handleChangeLabelAPositionX}\n            placeholder={'Position X'}\n          />\n          <FormField\n            label=\"Position Y\"\n            labelWidth={10}\n            inputWidth={20}\n            type=\"text\"\n            value={positionParameter.labelAPositionY}\n            onChange={this.handleChangeLabelAPositionY}\n            placeholder={'Position Y'}\n          />\n        </div>\n      );\n    }\n\n    return item;\n  };\n\n  private defineTooltipPositionInputs = (): JSX.Element => {\n    let item: JSX.Element;\n    const optionsSelectTooltipPosition: Array<SelectableValue<string>> = [\n      { label: 'Top', value: 'Top' },\n      { label: 'Bottom', value: 'Bottom' },\n      { label: 'Left', value: 'Left' },\n      { label: 'Right', value: 'Right' },\n    ];\n    const positionParameter: PositionParameterClass = this.getPositionParameter();\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.id) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      item = (\n        <div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={10}>Tooltip A Position</FormLabel>\n            <Select\n              onChange={this.handleChangeTooltipPositionA}\n              allowCustomValue={false}\n              options={optionsSelectTooltipPosition}\n              value={positionParameter.tooltipPositionA}\n              width={20}\n            />\n          </div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={10}>Tooltip B Position</FormLabel>\n            <Select\n              onChange={this.handleChangeTooltipPositionB}\n              allowCustomValue={false}\n              options={optionsSelectTooltipPosition}\n              value={positionParameter.tooltipPositionB}\n              width={20}\n            />\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={10}>Tooltip position</FormLabel>\n          <Select\n            onChange={this.handleChangeTooltipPositionA}\n            allowCustomValue={false}\n            options={optionsSelectTooltipPosition}\n            value={positionParameter.tooltipPositionA}\n            width={20}\n          />\n        </div>\n      );\n    }\n    return item;\n  };\n\n  defineLayerLevel = (): JSX.Element => {\n    let item: JSX.Element;\n    const options: Array<SelectableValue<OrientedLinkClass>> = this.defineListOrientedLink();\n\n    if (this.props.isLink) {\n      item = (\n        <Collapse\n          isOpen={this.state.collapseLayerLevel}\n          label={'LayerLevel'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseLayerLevel: isOpen,\n            });\n          }}\n        >\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Upgrade on </FormLabel>\n            <Select\n              onChange={this.handleChangeSelectOrientedLinkToUpgrade}\n              allowCustomValue={false}\n              options={options}\n              value={this.state.orientedLinkComparedToUpgrade}\n              width={15}\n            />\n            <Button onClick={this.upgradeLayerLevel}>Submit</Button>\n          </div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Downgrade on</FormLabel>\n            <Select\n              onChange={this.handleChangeSelectOrientedLinkToDowngrade}\n              allowCustomValue={false}\n              options={options}\n              value={this.state.orientedLinkComparedToDowngrade}\n              width={15}\n            />\n            <Button onClick={this.downgradeLayerLevel}>Submit</Button>\n          </div>\n        </Collapse>\n      );\n    } else {\n      item = <div></div>;\n    }\n\n    return item;\n  };\n\n  render() {\n    return (\n      <Collapse\n        isOpen={this.state.collapsepositionParameter}\n        label={'Position Parameter'}\n        onToggle={(isOpen) => {\n          this.setState({\n            collapsepositionParameter: isOpen,\n          });\n        }}\n      >\n        <Collapse\n          isOpen={this.state.collapseLabel}\n          label={'Label'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseLabel: isOpen,\n            });\n          }}\n        >\n          <div>{this.defineLabelPositionInputs()}</div>\n        </Collapse>\n        <Collapse\n          isOpen={this.state.collapseTooltip}\n          label={'Tooltip'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseTooltip: isOpen,\n            });\n          }}\n        >\n          <div>{this.defineTooltipPositionInputs()}</div>\n        </Collapse>\n        <div>{this.defineLayerLevel()}</div>\n      </Collapse>\n    );\n  }\n}\n\nexport default PositionParameter;\n","import React from 'react';\n\nimport { Switch, FormLabel } from '@grafana/ui';\n\nexport interface Style {\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n}\n\ninterface Props {\n  oldStyle: Style;\n  saveParent: (style: Style) => void;\n}\n\ninterface State {\n  style: Style;\n}\n\n/**\n * def\n */\nclass StyleComponent extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      style: this.props.oldStyle, //{ bold: false, italic: false, underline: false },\n    };\n  }\n\n  /** save data in Parent */\n  callBack = () => {\n    this.props.saveParent(this.state.style);\n  };\n\n  /** change bold */\n  onChangeBold = () => {\n    const style = this.state.style;\n    style.bold = !style.bold;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /** change italic */\n  onChangeItalic = () => {\n    const style = this.state.style;\n    style.italic = !style.italic;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /** change underline */\n  onChangeUnderline = () => {\n    const style = this.state.style;\n    style.underline = !style.underline;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return (\n      <section>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Bold</FormLabel>\n          <Switch label=\"\" checked={this.state.style.bold} onChange={this.onChangeBold} />\n        </div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Italic</FormLabel>\n          <Switch label=\"\" checked={this.state.style.italic} onChange={this.onChangeItalic} />\n        </div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Underline</FormLabel>\n          <Switch label=\"\" checked={this.state.style.underline} onChange={this.onChangeUnderline} />\n        </div>\n        {/* <Button onChange={this.onChangeBold}>Bold</Button>\n        <Button onChange={this.onChangeItalic}>Italic</Button>\n        <Button onChange={this.onChangeUnderline}>Underline</Button> */}\n      </section>\n    );\n  }\n}\nexport default StyleComponent;\n","import React from 'react';\nimport { Switch, FormLabel } from '@grafana/ui';\n\nimport { Style } from 'components/Parametrage/styleComponent';\nimport StyleComponent from 'components/Parametrage/styleComponent';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputTextField from 'Functions/Input/inputText';\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props {\n  /** id coordinate */\n  coordinateSpace: CoordinateSpaceClass;\n  /** call function to save data in parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** get text object */\n  textObject: TextObject;\n}\n\n/**\n * def\n */\nclass TextObjects extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textObject: this.props.coordinateSpace.textObj,\n    };\n  }\n\n  /** save data in async mode */\n  stateAsyncTextObject = (state: {\n    /** new text object */\n    textObject: TextObject;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      //this.callBack();\n    });\n  };\n\n  /** call back to parent */\n  callBack = () => {\n    this.props.callBackToParent(undefined, this.state.textObject);\n  };\n\n  // /** change value for legend input */\n  // onSwitchLegend = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.legend = !newTextObject.legend;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** change value for value input */\n  onChangeValeur = async (value: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.value = value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back color input */\n  onChangeBackColor = async (key: number, color: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.colorBack = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color region */\n  onChangeColorText = async (key: number, color: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.colorText = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for style text region */\n  // onChangeStyleText = async (event: {\n  //   /** target for style text region input */\n  //   currentTarget: HTMLInputElement;\n  // }) => {\n  //   const newTextObject: TextObject = this.state.textObject;\n\n  //   newTextObject.styleText = event.currentTarget.value;\n  //   await this.stateAsyncTextObject({ textObject: newTextObject });\n  //   this.callBack();\n  // };\n\n  /** switch value for generate text object */\n  onSwitchGenerateObjectText = async () => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateObjectText = !this.state.textObject.generateObjectText;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for legend element */\n  onChangeLegendElement = async (event: {\n    /** target for legend text element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.legendElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for unity mesure element */\n  onChangeunit = async (event: {\n    /** target for unity mesure element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.unit = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change format for numeric text object */\n  onChangeFormatageNumeriqueTextObject = async (event: {\n    /** target for numeric format text object input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.numericFormatElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch value for display object text */\n  onSwitchdisplayObjectInTooltip = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.displayObjectInTooltip = !this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  // /** switch value for display object permanently */\n  // onSwitchDisplayObjectPermanently = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.generateAuxiliaryElement.displayObjectPermanently =\n  // \t\t!this.state.textObject.generateAuxiliaryElement.displayObjectPermanently;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** choice to apply color or not for text element */\n  onSwitchAddColorTextElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.addColorTextElement = !this.state.textObject.generateAuxiliaryElement.addColorTextElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** choice to apply color or not for back element */\n  onSwitchAddColorBackElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.addColorBackElement = !this.state.textObject.generateAuxiliaryElement.addColorBackElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch display text */\n  onSwitchisTextTooltip = async () => {\n    // console.clear();\n\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.isTextTooltip = !this.state.textObject.isTextTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color text element */\n  onChangeColorTextElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.colorTextElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back element */\n  onChangeColorBackElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.colorBackElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for legend element */\n  onChangeValueGenerateObjectTextLegendElement = async (event: {\n    /** target for legend text element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.legendElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for unity mesure element */\n  onChangeValueGenerateObjectTextunit = async (event: {\n    /** target for unity mesure element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.unit = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change format for numeric text object */\n  onChangeValueGenerateObjectTextFormatageNumeriqueTextObject = async (event: {\n    /** target for numeric format text object input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.numericFormatElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch value for display object text */\n  onSwitchValueGenerateObjectTextdisplayObjectInTooltip = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.displayObjectInTooltip = !this.state.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  // /** switch value for display object permanently */\n  // onSwitchValueGenerateObjectTextDisplayObjectPermanently = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.valueGenerateObjectText.displayObjectPermanently =\n  // \t\t!this.state.textObject.valueGenerateObjectText.displayObjectPermanently;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** choice to apply color or not for text element */\n  onSwitchValueGenerateObjectTextAddColorTextElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.addColorTextElement = !this.state.textObject.valueGenerateObjectText.addColorTextElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** choice to apply color or not for back element */\n  onSwitchValueGenerateObjectTextAddColorBackElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.addColorBackElement = !this.state.textObject.valueGenerateObjectText.addColorBackElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color text element */\n  onChangeValueGenerateObjectTextColorTextElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.colorTextElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back element */\n  onChangeValueGenerateObjectTextColorBackElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.colorBackElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  saveData = (style: Style): void => {\n    let newText = this.state.textObject;\n    newText.style = style;\n    this.setState({\n      textObject: newText,\n    });\n    this.callBack();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        {/* <div>\n\t\t\t\t\t<h4>{l10n.textObject.titleTextObject}</h4>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tlabel={l10n.textObject.optionalLegend}\n\t\t\t\t\t\tchecked={this.state.textObject.legend}\n\t\t\t\t\t\tonChange={this.onSwitchLegend} />\n\t\t\t\t\t<br /><br />\n\t\t\t\t</div> */}\n\n        <div>\n          <h4>{l10n.textObject.principalMetric}</h4>\n\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Display text in region or tooltip</FormLabel>\n            <Switch label=\"\" checked={this.state.textObject.isTextTooltip} onChange={this.onSwitchisTextTooltip} />\n          </div>\n\n          <h5 hidden={this.state.textObject.isTextTooltip}>{l10n.textObject.textRegion}</h5>\n          <h5 hidden={!this.state.textObject.isTextTooltip}>{l10n.textObject.textBubble}</h5>\n\n          <InputSeriesColorPicker\n            color={this.state.textObject.colorBack}\n            keyInt={0}\n            text={l10n.textObject.colorBackground}\n            _onChange={this.onChangeBackColor}\n          />\n\n          <InputSeriesColorPicker\n            color={this.state.textObject.colorText}\n            keyInt={0}\n            text={l10n.textObject.colorText}\n            _onChange={this.onChangeColorText}\n          />\n\n          <StyleComponent oldStyle={this.state.textObject.style} saveParent={this.saveData} />\n\n          {/* <InputTextField\n            label={l10n.textObject.textStyle}\n            name=\"textStyleTextObject\"\n            placeholder={l10n.textObject.style}\n            required={false}\n            value={this.state.textObject.styleText}\n            _handleChange={this.onChangeStyleText}\n          /> */}\n          <br />\n          <br />\n        </div>\n        <div>\n          <h4>Generate text object</h4>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.generateTextObject}</FormLabel>\n            <Switch label={''} checked={this.state.textObject.generateObjectText} onChange={this.onSwitchGenerateObjectText} />\n          </div>\n\n          {this.state.textObject.generateObjectText && (\n            <div>\n              {/* <h4>Object text</h4> */}\n              <InputTextField\n                label={l10n.textObject.legend}\n                name=\"legendTextObject\"\n                placeholder={l10n.textObject.legend}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.legendElement}\n                _handleChange={this.onChangeValueGenerateObjectTextLegendElement}\n              />\n              <InputTextField\n                label={l10n.textObject.digitalFormatting}\n                name=\"formatageNumeriqueTextObject\"\n                placeholder={l10n.textObject.digitalFormatting}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.numericFormatElement}\n                _handleChange={this.onChangeValueGenerateObjectTextFormatageNumeriqueTextObject}\n              />\n              <InputTextField\n                label={l10n.textObject.mesureUnit}\n                name=\"mesureUnityTextObject\"\n                placeholder={l10n.textObject.unit}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.unit}\n                _handleChange={this.onChangeValueGenerateObjectTextunit}\n              />\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.objectDisplayTextTooltip}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.displayObjectInTooltip}\n                  onChange={this.onSwitchValueGenerateObjectTextdisplayObjectInTooltip}\n                />\n              </div>\n\n              {/* <Switch\n\t\t\t\t\t\t\t\tlabel={l10n.textObject.objectDisplayInPermanentlyHover}\n\t\t\t\t\t\t\t\tchecked={this.state.textObject.valueGenerateObjectText.displayObjectPermanently}\n\t\t\t\t\t\t\t\tonChange={this.onSwitchValueGenerateObjectTextDisplayObjectPermanently}\n\t\t\t\t\t\t\t/> */}\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.colorText}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.addColorTextElement}\n                  onChange={this.onSwitchValueGenerateObjectTextAddColorTextElement}\n                />\n              </div>\n\n              {this.state.textObject.valueGenerateObjectText.addColorTextElement && (\n                <InputSeriesColorPicker\n                  color={this.state.textObject.valueGenerateObjectText.colorTextElement}\n                  keyInt={0}\n                  text={l10n.textObject.colorTextOptional}\n                  _onChange={this.onChangeValueGenerateObjectTextColorTextElement}\n                />\n              )}\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.backgroundColor}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.addColorBackElement}\n                  onChange={this.onSwitchValueGenerateObjectTextAddColorBackElement}\n                />\n              </div>\n\n              {this.state.textObject.valueGenerateObjectText.addColorBackElement && (\n                <InputSeriesColorPicker\n                  color={this.state.textObject.valueGenerateObjectText.colorBackElement}\n                  keyInt={0}\n                  text={l10n.textObject.optionalBackgroundColor}\n                  _onChange={this.onChangeValueGenerateObjectTextColorBackElement}\n                />\n              )}\n            </div>\n          )}\n          <br />\n          <br />\n        </div>\n\n        <div>\n          <h4>{l10n.textObject.auxiliaryElement}</h4>\n          <InputTextField\n            label={l10n.textObject.legend}\n            name=\"legendTextObject\"\n            placeholder={l10n.textObject.legend}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.legendElement}\n            _handleChange={this.onChangeLegendElement}\n          />\n          <InputTextField\n            label={l10n.textObject.digitalFormatting}\n            name=\"formatageNumeriqueTextObject\"\n            placeholder={l10n.textObject.digitalFormatting}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.numericFormatElement}\n            _handleChange={this.onChangeFormatageNumeriqueTextObject}\n          />\n          <InputTextField\n            label={l10n.textObject.mesureUnit}\n            name=\"mesureUnityTextObject\"\n            placeholder={l10n.textObject.unit}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.unit}\n            _handleChange={this.onChangeunit}\n          />\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.objectDisplayTextTooltip}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip}\n              onChange={this.onSwitchdisplayObjectInTooltip}\n            />\n          </div>\n\n          {/* <Switch\n\t\t\t\t\t\tlabel={l10n.textObject.objectDisplayInPermanentlyHover}\n\t\t\t\t\t\tchecked={this.state.textObject.generateAuxiliaryElement.displayObjectPermanently}\n\t\t\t\t\t\tonChange={this.onSwitchDisplayObjectPermanently}\n\t\t\t\t\t/> */}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.colorText}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.addColorTextElement}\n              onChange={this.onSwitchAddColorTextElement}\n            />\n          </div>\n\n          {this.state.textObject.generateAuxiliaryElement.addColorTextElement && (\n            <InputSeriesColorPicker\n              color={this.state.textObject.generateAuxiliaryElement.colorTextElement}\n              keyInt={0}\n              text={l10n.textObject.colorTextOptional}\n              _onChange={this.onChangeColorTextElement}\n            />\n          )}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.backgroundColor}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.addColorBackElement}\n              onChange={this.onSwitchAddColorBackElement}\n            />\n          </div>\n\n          {this.state.textObject.generateAuxiliaryElement.addColorBackElement && (\n            <InputSeriesColorPicker\n              color={this.state.textObject.generateAuxiliaryElement.colorBackElement}\n              keyInt={0}\n              text={l10n.textObject.optionalBackgroundColor}\n              _onChange={this.onChangeColorBackElement}\n            />\n          )}\n          <br />\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\nexport default TextObjects;\n","import React from 'react';\nimport { SimpleOptions, CoordinateSpaceInitial } from 'types';\n\nimport { FormField, Switch, FormLabel } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\n\nimport { editGoodParameter } from 'Functions/EditParameter/editGoodParameter';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** value to initial coordinate space */\n  arrayCoor: CoordinateSpaceInitial;\n}\n\n/**\n * initialize space for space coordinate\n */\nclass CoordinateSpaceInitialClass extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayCoor: this.props.options.coordinateSpaceInitial,\n    };\n  }\n\n  /**\n   * Call parent to send arrayCoor data\n   */\n  callBack = () => {\n    this.props.onOptionsChange({\n      ...this.props.options,\n      coordinateSpaceInitial: this.state.arrayCoor,\n    });\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   */\n  _handleChange(currentTarget: string, name: string) {\n    this.props.options.updateOnlyInitialSpace = true;\n    this.setState((prevState) => ({\n      arrayCoor: editGoodParameter(\n        name,\n        prevState.arrayCoor,\n        currentTarget,\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n    }));\n    this.callBack();\n  }\n\n  /**\n   * Get value of input with state.arrayCoor\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  getGoodValue(id: number, param: string): string {\n    let value: string;\n\n    value = '';\n    if (param.startsWith('positionXMin')) {\n      value = this.state.arrayCoor.coordinate.xMin;\n    } else if (param.startsWith('positionXMax')) {\n      value = this.state.arrayCoor.coordinate.xMax;\n    } else if (param.startsWith('positionYMin')) {\n      value = this.state.arrayCoor.coordinate.yMin;\n    } else if (param.startsWith('positionYMax')) {\n      value = this.state.arrayCoor.coordinate.yMax;\n    }\n    return value;\n  }\n\n  /** change value for switch */\n  onChangeSwitchDisplayInitialSpace = () => {\n    const newInitialSpace: CoordinateSpaceInitial = this.state.arrayCoor;\n    newInitialSpace.displayArea = !newInitialSpace.displayArea;\n    this.setState({\n      arrayCoor: newInitialSpace,\n    });\n    this.callBack();\n  };\n\n  // onChangeSwitchDefaultInitialSpace = () => {\n  //   const newInitialSpace: CoordinateSpaceInitial = this.state.arrayCoor;\n  //   newInitialSpace.defaultReferentiel = !newInitialSpace.defaultReferentiel;\n  //   this.setState({\n  //     arrayCoor: newInitialSpace,\n  //   });\n  //   if (newInitialSpace.defaultReferentiel) {\n  //     this.props.options.coordinateSpaceInitial.coordinate = {\n  //       xMin: '0',\n  //       xMax: '100',\n  //       yMin: '0',\n  //       yMax: '100',\n  //     };\n  //   } else {\n  //     this.props.options.coordinateSpaceInitial.coordinate = {\n  //       xMin: '-100',\n  //       xMax: '100',\n  //       yMin: '-100',\n  //       yMax: '100',\n  //     };\n  //   }\n  //   this.callBack();\n  // };\n\n  // displayValueReferentiel = (): string => {\n  //   let result = '';\n  //   if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n  //     result = '(0 : 100)';\n  //   } else {\n  //     result = '(-100 : 100)';\n  //   }\n  //   return result;\n  // };\n\n  /**\n   * HTML render\n   */\n  render() {\n    return (\n      <div className=\"coordinateSpaceInitial\">\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Display space initial</FormLabel>\n          <Switch label=\"\" checked={this.state.arrayCoor.displayArea} onChange={this.onChangeSwitchDisplayInitialSpace} />\n        </div>\n        {/* <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Default referentiel {this.displayValueReferentiel()}</FormLabel>\n          <Switch label=\"\" checked={this.state.arrayCoor.defaultReferentiel} onChange={this.onChangeSwitchDefaultInitialSpace} />\n        </div> */}\n        <FormField\n          label=\"X min\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"xMin\"\n          value={this.state.arrayCoor.coordinate.xMin}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionXMin')}\n          placeholder={'X minimum'}\n        />\n\n        <FormField\n          label=\"X max\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"xMax\"\n          value={this.state.arrayCoor.coordinate.xMax}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionXMax')}\n          placeholder={'X max'}\n        />\n\n        <FormField\n          label=\"Y min\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"yMin\"\n          value={this.state.arrayCoor.coordinate.yMin}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionYMin')}\n          placeholder={'Y minimum'}\n        />\n\n        <FormField\n          label=\"Y max\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"yMax\"\n          value={this.state.arrayCoor.coordinate.yMax}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionYMax')}\n          placeholder={'Y max'}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CoordinateSpaceInitialClass;\n","import React from 'react';\nimport { SimpleOptions, Background } from 'types';\n\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { FormField, Switch, FormLabel } from '@grafana/ui';\n\nimport InputSelect from 'Functions/Input/inputSelect';\nimport StyleComponent, { Style } from './Parametrage/styleComponent';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** police choice in select */\n  newPolice: SelectableValue<string>;\n  /** size variable for input */\n  size: string;\n  /** style variable for input */\n  style: Style;\n}\n\n/**\n * class to manage police, size and style\n */\nclass Display extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      newPolice: {\n        value: this.props.options.display.police,\n        label: this.props.options.display.police,\n      },\n      size: this.props.options.display.size,\n      style: this.props.options.display.style,\n    };\n  }\n\n  /**\n   * call parent with new data\n   */\n  callParent = () => {\n    const { newPolice, size, style } = this.state;\n    const pPolice: string = newPolice.value || '';\n    const pSize = size;\n    const pStyle = style;\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      display: {\n        police: pPolice,\n        size: pSize,\n        style: pStyle,\n      },\n    });\n  };\n\n  /**\n   * set police state async\n   */\n  setStateAsyncPolice = (state: {\n    /** new police value */\n    newPolice: SelectableValue<string>;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * set size state async\n   */\n  setStateAsyncsize = (state: {\n    /** new size value */\n    size: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * set style state async\n   */\n  setStateAsyncStyle = (state: {\n    /** new style value */\n    style: Style;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * edit size\n   */\n  handleChangesize = async (event: {\n    /** target to input element */\n    target: HTMLInputElement;\n  }) => {\n    await this.setStateAsyncsize({\n      size: event.target.value,\n    });\n    this.callParent();\n  };\n\n  // /**\n  //  * edit style\n  //  */\n  // handleChangeStyle = async (event: {\n  //   /** target to input element */\n  //   target: HTMLInputElement;\n  // }) => {\n  //   await this.setStateAsyncStyle({\n  //     style: event.target.value,\n  //   });\n  //   this.callParent();\n  // };\n\n  /**\n   * edit police\n   */\n  onChangePolice = async (value: SelectableValue<string>) => {\n    await this.setStateAsyncPolice({\n      newPolice: value,\n    });\n    this.callParent();\n  };\n\n  /**\n   * Change background picture\n   */\n  onImageChanged = (e: {\n    /**\n     * Get target element\n     */\n    target: HTMLInputElement;\n  }) => {\n    const newBaseMap: Background = this.props.options.baseMap;\n    const image = e.target.value;\n    //const arrayImage = image.split('.');\n    newBaseMap.image = image;\n    // if (image.split(',')[0] === 'base64') {\n    //   // on ne fait rien car la base 64 peut être un jpeg ou un svg\n    //   // l'utilisateur doit bien le spécifier avant sur le switch Use SVG\n    // } else if (image.split('.')[arrayImage.length - 1] === 'svg') {\n    //   // si la valeur renseignée est une url et que l'extension du fichier est svg\n    //   // on passe automatiquement le swith Use SVG à true\n    //   newBaseMap.modeSVG = true;\n    // } else {\n    //   // si la valeur renseignée est une url et que l'extension du fichier n'est pas un svg\n    //   // on passe automatiquement le swith Use SVG à false\n    //   newBaseMap.modeSVG = false;\n    // }\n    this.props.onOptionsChange({\n      ...this.props.options,\n      baseMap: newBaseMap,\n    });\n    // this.props.onOptionsChange({ ...this.props.options, imageUrl: event.target.value });\n  };\n\n  /** edit modeSVG */\n  onChangeSwitchModeSVG = () => {\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.modeSVG = !oldValue.modeSVG;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  /** edit modeSVG */\n  onChangeHeightBaseMap = (e: {\n    /** new value for height */\n    target: HTMLInputElement;\n  }) => {\n    this.props.options.updateOnlyInitialSpace = false;\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.height = e.target.value;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  /** edit modeSVG */\n  onChangeWidthBaseMap = (e: {\n    /** new value for width */\n    target: HTMLInputElement;\n  }) => {\n    this.props.options.updateOnlyInitialSpace = false;\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.width = e.target.value;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  saveStyleData = (style: Style): void => {\n    this.setStateAsyncStyle({ style: style });\n  };\n\n  uploadImage = (event: any) => {\n    const readerFile: FileReader = new FileReader();\n    const selectedFile: any = event.target.files[0];\n    const extensionFile = selectedFile.name.split('.')[1];\n    let file: any;\n    if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n      readerFile.readAsDataURL(selectedFile);\n    } else {\n      readerFile.readAsText(selectedFile);\n    }\n    readerFile.onload = function () {\n      file = readerFile.result;\n    };\n\n    setTimeout(() => {\n      let newBaseMap: Background = this.props.options.baseMap;\n      if (extensionFile === 'svg') {\n        newBaseMap.image = file;\n        newBaseMap.modeSVG = true;\n        newBaseMap.isUploaded = true;\n        newBaseMap.nameUploadedImage = selectedFile.name;\n      } else if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n        newBaseMap.image = file;\n        newBaseMap.modeSVG = false;\n        newBaseMap.isUploaded = true;\n        newBaseMap.nameUploadedImage = selectedFile.name;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        baseMap: newBaseMap,\n      });\n    }, 1000);\n  };\n\n  defineValueImage = (): string => {\n    let result = '';\n    if (!this.props.options.baseMap.isUploaded) {\n      result = this.props.options.baseMap.image || '';\n    }\n    return result;\n  };\n\n  /**\n   * html\n   */\n  render() {\n    const { options } = this.props;\n\n    const police: Array<SelectableValue<string>> = [\n      { value: 'Helvetica', label: 'Helvetica' },\n      { value: 'Arial', label: 'Arial' },\n      { value: 'sans-serif', label: 'sans-serif' },\n      { value: 'mono', label: 'mono' },\n    ];\n\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <div style={{ display: 'flex', marginBottom: 1 }}>\n          <div style={{ marginBottom: '1px' }}>\n            <FormLabel width={15}>Police</FormLabel>\n          </div>\n          <InputSelect _onChange={this.onChangePolice} data={police} defaultValue={this.state.newPolice} />\n        </div>\n\n        <FormField\n          label={l10n.textDefault.size}\n          labelWidth={15}\n          inputWidth={30}\n          required={true}\n          value={this.state.size}\n          onChange={this.handleChangesize}\n        />\n\n        <StyleComponent oldStyle={this.state.style} saveParent={this.saveStyleData} />\n        {/* \n        <FormField\n          label={l10n.textDefault.style}\n          labelWidth={10}\n          inputWidth={15}\n          required={true}\n          value={this.state.style}\n          onChange={this.handleChangeStyle}\n        /> */}\n\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Use SVG</FormLabel>\n          <Switch labelClass=\"\" label=\"\" checked={options.baseMap.modeSVG} onChange={this.onChangeSwitchModeSVG} />\n        </div>\n        {/* {options.baseMap.modeSVG ? (\n          <FormField\n            label={l10n.simpleEditor.pictureLink}\n            labelWidth={10}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onImageChanged}\n            value={options.baseMap.image || ''}\n          />\n        ) : ( */}\n        <div>\n          <FormField\n            label={'Image'}\n            labelWidth={15}\n            inputWidth={30}\n            placeholder={'URL'}\n            type=\"text\"\n            onChange={this.onImageChanged}\n            value={this.defineValueImage()}\n          />\n          <div style={{ display: 'flex', margin: '2px 0' }}>\n            <FormLabel width={15}>Upload Image</FormLabel>\n            <input\n              style={{ border: '1px solid #262628', borderRadius: '0 3px 3px 0', width: '416px' }}\n              type=\"file\"\n              name=\"file\"\n              onChange={this.uploadImage}\n            />\n            <p style={{ margin: '10px 0 0 10px', fontSize: '10px' }}>{this.props.options.baseMap.nameUploadedImage || ''}</p>\n          </div>\n          <FormField\n            label=\"Width\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onChangeWidthBaseMap}\n            value={options.baseMap.width || '0'}\n          />\n          <FormField\n            label=\"Height\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onChangeHeightBaseMap}\n            value={options.baseMap.height || '0'}\n          />\n        </div>\n        {/* )} */}\n      </div>\n    );\n  }\n}\n\nexport default Display;\n","import React from 'react';\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\n// add Metadata\nimport { SimpleOptions, GabaritFile, Metric, Metadata, MetaFile } from '../types';\nimport { FormField, Button, Collapse, FormLabel, Select } from '@grafana/ui';\n//import /*pointClassImport, regionClassImport, gabaritPointClassImport, gabaritRegionClassImport */ '../../config/testVariable';\nimport { coordParse, LabelCoord2D, Filtred, filterParse, coordParseRegion, filterParseRegion } from '../Functions/loaderGabarit';\n//import { LinkURLClass } from 'Models/LinkURLClass';\n//import { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n//import { LowerLimitClass } from 'Models/LowerLimitClass';\n//import { TextObject } from 'Models/TextObjectClass';\n\nimport { reqMetricPoint, reqMetricOrientedLink } from '../Functions/fetchMetrics';\n\nimport { PointClass } from 'Models/PointClass';\nimport { TextObject, GenerateTextObject } from 'Models/TextObjectClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { searchNameIsFilter } from 'Functions/getResultQuery';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n// import { LowerLimitClass } from 'Models/LowerLimitClass';\n// import { initPoint } from 'Functions/initPoint';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\n/*\n * TODO\n */\n\ninterface State {\n  selectQuerryID: Array<SelectableValue<string>>;\n  collapseSelectURL: boolean;\n  collapseGabarit: boolean;\n  collapseGabaritDefault: boolean;\n}\n\n// interface SelectQueryID {\n//   value: string;\n//   label: string;\n// }\n\nclass Gabarit extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectQuerryID: [\n        { label: 'A', value: 'A' },\n        { label: 'B', value: 'B' },\n        { label: 'C', value: 'C' },\n        { label: 'D', value: 'D' },\n        { label: 'E', value: 'E' },\n        { label: 'F', value: 'F' },\n        { label: 'G', value: 'G' },\n        { label: 'H', value: 'H' },\n        { label: 'I', value: 'I' },\n        { label: 'J', value: 'J' },\n        { label: 'K', value: 'K' },\n        { label: 'L', value: 'L' },\n        { label: 'M', value: 'M' },\n        { label: 'N', value: 'N' },\n        { label: 'O', value: 'O' },\n        { label: 'P', value: 'P' },\n        { label: 'Q', value: 'Q' },\n        { label: 'R', value: 'R' },\n        { label: 'S', value: 'S' },\n        { label: 'T', value: 'T' },\n        { label: 'U', value: 'U' },\n        { label: 'V', value: 'V' },\n        { label: 'W', value: 'W' },\n        { label: 'X', value: 'X' },\n        { label: 'Y', value: 'Y' },\n        { label: 'Z', value: 'Z' },\n      ],\n      collapseSelectURL: false,\n      collapseGabarit: false,\n      collapseGabaritDefault: true,\n    };\n  }\n  result: any[] = [];\n\n  /**************************************CATCH******************************************/\n\n  onChangeSelectQuerryID = (value: SelectableValue<string>, index: number) => {\n    let newGabaritFile: GabaritFile[] = this.props.options.saveGabaritFile;\n    newGabaritFile[index].queryID = value.value!;\n    this.props.onOptionsChange({\n      ...this.props.options,\n      saveGabaritFile: newGabaritFile,\n    });\n  };\n\n  onToggleSelectUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseSelectURL: isOpen,\n    });\n  };\n\n  UrlValidator = (url: string) => {\n    let result = true;\n    for (let index in this.props.options.saveGabaritURL) {\n      if (this.props.options.saveGabaritURL[index] === url) {\n        result = false;\n        break;\n      }\n    }\n    return result;\n  };\n\n  GabaritValidator = (name: string) => {\n    let result = true;\n    this.props.options.saveGabaritFile.forEach((element) => {\n      if (element.fileName === name) {\n        console.log('LoadGabaritFileReject');\n        result = false;\n      }\n    });\n    return result;\n  };\n\n  /**************************************LOADER******************************************/\n\n  // quantile|0.5#slice|inner_eval\n  loadGabarit = (file: any, url: string) => {\n    let name = url.split('/');\n    if (this.GabaritValidator(name[name.length - 1])) {\n      let newGabarit: GabaritFile = {\n        queryID: 'null',\n        fileName: name[name.length - 1],\n        loaded: false,\n        globalGabarit: file.global,\n        templateGabaritPoint: [],\n        templateGabaritRegion: [],\n        templateGabaritLink: [],\n        templateGabaritPointDefault: [],\n        templateGabaritRegionDefault: [],\n        templateGabaritLinkDefault: [],\n      };\n      file.templates.forEach((gab: any) => {\n        if (gab.type === 'point') {\n          newGabarit.templateGabaritPoint.push(gab);\n        }\n        if (gab.type === 'region') {\n          newGabarit.templateGabaritRegion.push(gab);\n        }\n        if (gab.type === 'link') {\n          newGabarit.templateGabaritLink.push(gab);\n        }\n      });\n      file.default.templates.forEach((gab: any) => {\n        if (gab.type === 'point') {\n          newGabarit.templateGabaritPointDefault.push(gab);\n        }\n        if (gab.type === 'region') {\n          newGabarit.templateGabaritRegionDefault.push(gab);\n        }\n        if (gab.type === 'link') {\n          newGabarit.templateGabaritLinkDefault.push(gab);\n        }\n      });\n      this.props.options.saveGabaritFile.push(newGabarit);\n    }\n  };\n\n  fetchUrl = async (url: string) => {\n    try {\n      let file = {};\n      let response = await fetch(url);\n\n      file = await response.json();\n      return file;\n    } catch (error) {\n      console.error(error);\n    }\n    return null;\n  };\n\n  loadDefaultGabarit = async (file: any, url: string) => {\n    let name = url.split('/');\n    let newGabarit: GabaritFile = {\n      queryID: 'null',\n      fileName: name[name.length - 1],\n      loaded: false,\n      globalGabarit: file.global,\n      templateGabaritPoint: [],\n      templateGabaritRegion: [],\n      templateGabaritLink: [],\n      templateGabaritPointDefault: [],\n      templateGabaritRegionDefault: [],\n      templateGabaritLinkDefault: [],\n    };\n    file.default.templates.forEach((gab: any) => {\n      if (gab.type === 'point') {\n        newGabarit.templateGabaritPointDefault.push(gab);\n      }\n      if (gab.type === 'region') {\n        newGabarit.templateGabaritRegionDefault.push(gab);\n      }\n      if (gab.type === 'link') {\n        newGabarit.templateGabaritLinkDefault.push(gab);\n      }\n    });\n    this.props.options.gabaritDefault = newGabarit;\n  };\n\n  fetchGabarit = () => {\n    //this.result = fetchConfFile(this.props.options.saveGabaritURL);\n    this.props.options.saveGabaritURL.forEach(async (url) => {\n      try {\n        let file = {};\n        let response = await fetch(url);\n        file = await response.json();\n        this.loadGabarit(file, url);\n        this.setState({\n          collapseGabarit: true,\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  };\n\n  /**************************************CHECK TOLOAD/ADD FILTER******************************************/\n\n  addFilterDynamic = (metric: Metric, label: LabelCoord2D, value: LabelCoord2D) => {\n    let result: Metric = {\n      key: metric.key,\n      unit: metric.unit,\n      format: metric.format,\n      keyValue: metric.keyValue,\n      filter: JSON.parse(JSON.stringify(metric.filter)),\n      refId: metric.refId,\n      expr: metric.expr,\n      returnQuery: metric.returnQuery,\n      manageValue: metric.manageValue,\n    };\n    if (label.x !== value.x) {\n      result.filter!.push({ label: label.x, value: value.x });\n    }\n    if (label.y !== value.y) {\n      result.filter!.push({ label: label.y, value: value.y });\n    }\n    return result;\n  };\n\n  checkCoordinateFilterPoint = (point: PointClass, props: any) => {\n    reqMetricPoint(point, props);\n    let valid = false;\n    point.mainMetric.returnQuery?.forEach((dataFrame) => {\n      const result = searchNameIsFilter(dataFrame, point.mainMetric);\n      if (result) {\n        this.props.options.arrayPoints.push(point);\n        valid = true;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return valid;\n  };\n\n  checkCoordinateFilterLink = (link: OrientedLinkClass, props: any) => {\n    reqMetricOrientedLink(link, props);\n    link.mainMetric.returnQuery?.forEach((dataFrame) => {\n      const result = searchNameIsFilter(dataFrame, link.mainMetric);\n      if (result) {\n        this.props.options.arrayOrientedLinks.push(link);\n        return true;\n      } else {\n        console.log('Filter not found -> no load');\n        return false;\n      }\n    });\n    return false;\n  };\n\n  /**************************************INPUT******************************************/\n\n  onToggleGabaritUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseSelectURL: isOpen,\n    });\n  };\n\n  onToggleGabaritDefault = (isOpen: boolean): void => {\n    this.setState({\n      collapseGabaritDefault: isOpen,\n    });\n  };\n\n  onToggleGabarit = (isOpen: boolean): void => {\n    this.setState({\n      collapseGabarit: isOpen,\n    });\n  };\n\n  onGabaritUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, gabaritUrlInput: newData });\n  };\n\n  /*\n   * add url for default gabarit\n   */\n  onGabaritDefaultUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritDefaultUrl: newData });\n  };\n\n  onGabaritListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveGabaritURL.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveGabaritURL = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  addGabaritUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    let valid = true;\n    this.props.options.saveGabaritURL.forEach((element) => {\n      if (this.props.options.gabaritUrlInput === element) {\n        valid = false;\n      }\n    });\n    if (valid === true) {\n      this.props.options.saveGabaritURL.push(this.props.options.gabaritUrlInput);\n      this.props.options.gabaritUrlInput = '';\n      this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n    }\n  };\n\n  addGabaritDefaultUrlInput = async (onClick: { currentTarget: HTMLButtonElement }) => {\n    try {\n      const url = this.props.options.saveGabaritDefaultUrl;\n      let file = {};\n      let response = await fetch(this.props.options.saveGabaritDefaultUrl);\n\n      // update fileName to display in input 'GabaritDefault' of collapse 'Default Gabarit URL'\n      const newFileName = url.split('/')[url.split('/').length - 1];\n      let newGabaritDefault: GabaritFile = this.props.options.gabaritDefault;\n      newGabaritDefault.fileName = newFileName;\n      this.props.onOptionsChange({ ...this.props.options, gabaritDefault: newGabaritDefault });\n\n      file = await response.json();\n      this.loadDefaultGabarit(file, url);\n      this.setState({\n        collapseSelectURL: true,\n      });\n    } catch (error) {\n      console.log('Default gabarit error:');\n      console.error(error);\n    }\n  };\n\n  gabaritDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveGabaritURL[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveGabaritURL.splice(this.props.options.saveGabaritURL.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  gabaritDeletFile = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isGabarit = (gabarit: GabaritFile) => gabarit === this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveGabaritFile.splice(this.props.options.saveGabaritFile.findIndex(isGabarit), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritFile: this.props.options.saveGabaritFile });\n  };\n\n  gabaritDeletFileDefault = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.gabaritDefault = {\n      queryID: 'A',\n      fileName: '',\n      loaded: false,\n      globalGabarit: {\n        lowerLimit: [\n          {\n            id: 0,\n            lowerLimitMin: '',\n            lowerLimitMax: '',\n            backColor: 'blue',\n            borderColor: 'red',\n            sizeBorder: '1',\n          },\n        ],\n        textObject: {\n          value: 'default',\n          isTextTooltip: 'false',\n          colorBack: 'blue',\n          colorText: 'black',\n          style: {\n            bold: 'false',\n            italic: 'false',\n            underline: 'false',\n          },\n          generateObjectText: 'false',\n          valueGenerateObjectText: {\n            legendElement: 'default',\n            numericFormatElement: 'default',\n            unit: 'default',\n            displayObjectInTooltip: 'false',\n            addColorTextElement: 'false',\n            colorTextElement: 'black',\n            addColorBackElement: 'false',\n            colorBackElement: 'white',\n          },\n          generateAuxiliaryElement: {\n            legendElement: 'default',\n            numericFormatElement: 'default',\n            unit: 'default',\n            displayObjectInTooltip: 'false',\n            addColorTextElement: 'false',\n            colorTextElement: 'black',\n            addColorBackElement: 'false',\n            colorBackElement: 'white',\n          },\n        },\n        defaultColor: 'black',\n        colorMode: 'true',\n        traceBack: 'true',\n        traceBorder: 'true',\n      },\n      templateGabaritPoint: [],\n      templateGabaritRegion: [],\n      templateGabaritLink: [],\n      templateGabaritPointDefault: [],\n      templateGabaritRegionDefault: [],\n      templateGabaritLinkDefault: [],\n    };\n    this.props.onOptionsChange({\n      ...this.props.options,\n      gabaritDefault: this.props.options.gabaritDefault,\n      saveGabaritDefaultUrl: '',\n    });\n  };\n\n  /**************************************LOADER******************************************/\n\n  checkLoaderGabarit = (onClick: { currentTarget: HTMLButtonElement }) => {\n    if (!this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)].loaded) {\n      this.loaderGabarit(this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)], parseInt(onClick.currentTarget.id, 10));\n      this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)].loaded = true;\n    } else {\n      console.log('loadGabaritReject');\n    }\n  };\n\n  metaConstructor = (metas: MetaFile[]) => {\n    let result: Metadata[] = [];\n    metas.forEach((meta, index) => {\n      let textObject = new TextObject(\n        '',\n        false,\n        meta.obj.colorBack,\n        meta.obj.colorText,\n        {\n          bold: this.transformStringToBoolean(meta.obj.style.bold),\n          italic: this.transformStringToBoolean(meta.obj.style.italic),\n          underline: this.transformStringToBoolean(meta.obj.style.underline),\n        },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: '',\n          addColorBackElement: false,\n          colorBackElement: '',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: meta.obj.colorText,\n          addColorBackElement: false,\n          colorBackElement: '',\n        }\n      );\n      result.push({ meta: meta.meta, obj: textObject });\n    });\n    return result;\n  };\n\n  transformStringToBoolean = (text: string): boolean => {\n    return text === 'true' ? true : false;\n  };\n\n  transformWithUpperCase = (oldSelectableValue: SelectableValue<boolean>): SelectableValue<boolean> => {\n    let newSelectableValue: SelectableValue<boolean>;\n    let newLabel = '';\n    (oldSelectableValue.label || '').split('').forEach((letter, index) => {\n      if (index === 0) {\n        newLabel += letter.toUpperCase();\n      } else {\n        newLabel += letter;\n      }\n    });\n    newSelectableValue = { label: newLabel, value: oldSelectableValue.value };\n    return newSelectableValue;\n  };\n\n  loaderGabarit = (gab: GabaritFile, idx: number | null) => {\n    let tmpLabelAPosition: LabelCoord2D;\n    let tmpLabelBPosition: LabelCoord2D;\n    let tmpToolTipA: SelectableValue<string>;\n    let tmpToolTipB: SelectableValue<string>;\n    /* Point */\n    //template\n    let filterPoint: Filtred[][] = [];\n    let posPoint: LabelCoord2D[] = [];\n    let namePoint: string[] = [];\n    // add metadata\n    let metaPoint: Metadata[][] = [];\n    let labelPoint: string[] = [];\n    let positionParameterPoint: PositionParameterClass[] = [];\n    let mainMetricPoint: Metric[] = [];\n    let metricPoint: Metric[][] = [];\n    let linkURLPoint: LinkURLClass[] = [];\n    let valueMetricPoint: string[] = [];\n    let drawGraphicMarkerPoint: Array<SelectableValue<string>> = [];\n    let shapePoint: Array<SelectableValue<string>> = [];\n    //let sizeWidthPoint: Array<SelectableValue<string>> = [];\n    let sizeWidthPoint: string[] = [];\n    let sizeHeightPoint: Array<SelectableValue<string>> = [];\n    let colorPoint: string[] = [];\n    let associateOrientedLinksInPoint: OrientedLinkClass[][] = [];\n    let associateOrientedLinksOutPoint: OrientedLinkClass[][] = [];\n    //global\n    let lowerLimit: LowerLimitClass[];\n    let colorMode: boolean;\n    let traceBack: boolean;\n    let traceBorder: boolean;\n    let textObj: TextObject;\n    let value: string;\n    let isTextTooltip: boolean;\n    let colorBack: string;\n    let colorText: string;\n    let style: Style;\n    let generateObjectText: boolean;\n    let generateValue: GenerateTextObject;\n    let generateAux: GenerateTextObject;\n\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n\n    /* Region */\n    //Template\n\n    const gabaritFileTmp: GabaritFile = gab;\n\n    // GLOBAL\n\n    //colorMode = Boolean(gabaritFileTmp.globalGabarit.colorMode);\n    if (!gabaritFileTmp.globalGabarit.colorMode) {\n      //default\n      colorMode = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.colorMode);\n    } else {\n      //normal\n      colorMode = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.colorMode);\n    }\n\n    //traceBack = Boolean(gabaritFileTmp.globalGabarit.traceBack);\n    if (!gabaritFileTmp.globalGabarit.traceBack) {\n      //default\n      traceBack = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.traceBack);\n    } else {\n      //normal\n      traceBack = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.traceBack);\n    }\n\n    //traceBorder = Boolean(gabaritFileTmp.globalGabarit.traceBorder);\n    if (!gabaritFileTmp.globalGabarit.traceBorder) {\n      //default\n      traceBorder = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.traceBorder);\n    } else {\n      //normal\n      traceBorder = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.traceBorder);\n    }\n\n    ////// Text Object\n    value = gabaritFileTmp.globalGabarit.textObject.value;\n    if (!value) {\n      value = this.props.options.gabaritDefault.globalGabarit.textObject.value;\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.isTextTooltip) {\n      //default\n      isTextTooltip = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.isTextTooltip);\n    } else {\n      //normal\n      isTextTooltip = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.isTextTooltip);\n    }\n\n    colorBack = gabaritFileTmp.globalGabarit.textObject.colorBack;\n    if (!colorBack) {\n      colorBack = this.props.options.gabaritDefault.globalGabarit.textObject.colorBack;\n    }\n\n    colorText = gabaritFileTmp.globalGabarit.textObject.colorText;\n    if (!colorBack) {\n      colorText = this.props.options.gabaritDefault.globalGabarit.textObject.colorText;\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.generateObjectText) {\n      //default\n      generateObjectText = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateObjectText);\n    } else {\n      //normal\n      generateObjectText = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.generateObjectText);\n    }\n\n    // generateValue = {\n    //   legendElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n    //   numericFormatElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n    //   unit: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.unit,\n    //   displayObjectInTooltip: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),\n    //   addColorTextElement: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),\n    //   colorTextElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n    //   addColorBackElement: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),\n    //   colorBackElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    // };\n\n    // if (!generateValue.unit) {\n    //   generateValue = {\n    //     legendElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n    //     numericFormatElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n    //     unit: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.unit,\n    //     displayObjectInTooltip: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),\n    //     addColorTextElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),\n    //     colorTextElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n    //     addColorBackElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),\n    //     colorBackElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    //   };\n    // }\n\n    generateValue = {\n      legendElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n      numericFormatElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n      unit: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.unit,\n      displayObjectInTooltip: false,\n      addColorTextElement: false,\n      colorTextElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n      addColorBackElement: false,\n      colorBackElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement) {\n      generateValue.addColorTextElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement\n      );\n    } else {\n      generateValue.addColorTextElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement\n      );\n    }\n    if (!generateValue.colorTextElement) {\n      generateValue.colorTextElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorTextElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement) {\n      generateValue.addColorBackElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement\n      );\n    } else {\n      generateValue.addColorBackElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement\n      );\n    }\n    if (!generateValue.colorBackElement) {\n      generateValue.colorBackElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorBackElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip) {\n      generateValue.displayObjectInTooltip = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip\n      );\n    } else {\n      generateValue.displayObjectInTooltip = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip\n      );\n    }\n    if (!generateValue.legendElement) {\n      generateValue.legendElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.legendElement;\n    }\n    if (!generateValue.numericFormatElement) {\n      generateValue.numericFormatElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement;\n    }\n    if (!generateValue.unit) {\n      generateValue.unit = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.unit;\n    }\n\n    // generateAux = {\n    //   legendElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n    //   numericFormatElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n    //   unit: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.unit,\n    //   displayObjectInTooltip: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),\n    //   addColorTextElement: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),\n    //   colorTextElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n    //   addColorBackElement: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),\n    //   colorBackElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    // };\n\n    // if (!generateAux.unit) {\n    //   generateAux = {\n    //     legendElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n    //     numericFormatElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n    //     unit: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.unit,\n    //     displayObjectInTooltip: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),\n    //     addColorTextElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),\n    //     colorTextElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n    //     addColorBackElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),\n    //     colorBackElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    //   };\n    // }\n\n    generateAux = {\n      legendElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n      numericFormatElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n      unit: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.unit,\n      displayObjectInTooltip: false,\n      addColorTextElement: false,\n      colorTextElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n      addColorBackElement: false,\n      colorBackElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement) {\n      generateAux.addColorBackElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement\n      );\n    } else {\n      generateAux.addColorBackElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement\n      );\n    }\n    if (!generateAux.colorBackElement) {\n      generateAux.colorBackElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement) {\n      generateAux.addColorTextElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement\n      );\n    } else {\n      generateAux.addColorTextElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement\n      );\n    }\n    if (!generateAux.colorTextElement) {\n      generateAux.colorTextElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip) {\n      generateAux.displayObjectInTooltip = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip\n      );\n    } else {\n      generateAux.displayObjectInTooltip = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip\n      );\n    }\n    if (!generateAux.legendElement) {\n      generateAux.legendElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.legendElement;\n    }\n    if (!generateAux.numericFormatElement) {\n      generateAux.numericFormatElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement;\n    }\n    if (!generateAux.unit) {\n      generateAux.unit = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.unit;\n    }\n\n    // style = {\n    //   bold: Boolean(gabaritFileTmp.globalGabarit.textObject.style.bold),\n    //   italic: Boolean(gabaritFileTmp.globalGabarit.textObject.style.italic),\n    //   underline: Boolean(gabaritFileTmp.globalGabarit.textObject),\n    // };\n\n    // if (!style.bold) {\n    //   style = {\n    //     bold: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.bold),\n    //     italic: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.italic),\n    //     underline: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.underline),\n    //   };\n    // }\n\n    style = { bold: false, italic: false, underline: false };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.bold) {\n      //default\n      style.bold = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.bold);\n    } else {\n      //normal\n      style.bold = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.bold);\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.italic) {\n      //default\n      style.italic = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.italic);\n    } else {\n      //normal\n      style.italic = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.italic);\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.underline) {\n      //default\n      style.underline = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.underline);\n    } else {\n      //normal\n      style.underline = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.underline);\n    }\n\n    // textObj = new TextObject(\n    //   gabaritFileTmp.globalGabarit.textObject.value,\n    //   Boolean(gabaritFileTmp.globalGabarit.textObject.isTextTooltip),\n    //   gabaritFileTmp.globalGabarit.textObject.colorBack,\n    //   gabaritFileTmp.globalGabarit.textObject.colorText,\n    //   style,\n    //   Boolean(gabaritFileTmp.globalGabarit.textObject.generateObjectText),\n    //   generateValue,\n    //   generateAux\n    // );\n\n    textObj = new TextObject(value, isTextTooltip, colorBack, colorText, style, generateObjectText, generateValue, generateAux);\n\n    // if (!textObj.value) {\n    //   textObj = new TextObject(\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.value,\n    //     Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.isTextTooltip),\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.colorBack,\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.colorText,\n    //     style,\n    //     Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateObjectText),\n    //     generateValue,\n    //     generateAux\n    //   );\n    // }\n\n    /// Lower Limit\n    lowerLimit = gabaritFileTmp.globalGabarit.lowerLimit;\n    if (lowerLimit.length === 0) {\n      lowerLimit = this.props.options.gabaritDefault.globalGabarit.lowerLimit;\n    }\n\n    gabaritFileTmp.templateGabaritPoint.forEach((point, index) => {\n      if (point.labelfix === 'false') {\n        posPoint.push(coordParse(point.xylabel));\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(gabaritFileTmp.templateGabaritPointDefault[0].xylabel);\n        }\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabel);\n        }\n      } else {\n        posPoint.push(coordParse(point.xylabelfix));\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(gabaritFileTmp.templateGabaritPointDefault[0].xylabelfix);\n        }\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabelfix);\n        }\n      }\n      filterPoint.push(filterParse(point.filtered));\n      if (!filterPoint[index][0]) {\n        filterPoint[index] = filterParse(gabaritFileTmp.templateGabaritPointDefault[0].filtered);\n      }\n      if (!filterPoint[index][0]) {\n        filterPoint[index] = filterParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].filtered);\n      }\n      namePoint.push(point.name);\n      if (!namePoint[index]) {\n        namePoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].name;\n      }\n      if (!namePoint[index]) {\n        namePoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].name;\n      }\n\n      metaPoint.push(this.metaConstructor(point.meta));\n      point.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaPoint[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold) {\n          metaPoint[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaPoint[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic) {\n          metaPoint[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaPoint[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline) {\n          metaPoint[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaPoint[index]) {\n      //   metaPoint[index] = this.metaConstructor(gabaritFileTmp.templateGabaritPointDefault[0].meta);\n      // }\n\n      // if (!metaPoint[index]) {\n      //   metaPoint[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta);\n      // }\n      labelPoint.push(point.label); // c'est le label du point qui est afficher pour la selection\n      if (!labelPoint[index]) {\n        labelPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].label;\n      }\n      if (!labelPoint[index]) {\n        labelPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].label;\n      }\n      mainMetricPoint.push({\n        key: point.mainMetric.key,\n        unit: point.mainMetric.unit,\n        format: point.mainMetric.format,\n        keyValue: '',\n        filter: filterPoint[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: point.mainMetric.manageValue,\n      });\n      if (!mainMetricPoint[index].unit) {\n        mainMetricPoint[index] = {\n          key: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricPoint[index].unit) {\n        mainMetricPoint[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.manageValue,\n        };\n      }\n      point.metrics.forEach((element) => {\n        metricPoint[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      valueMetricPoint.push(point.valueMetric);\n      drawGraphicMarkerPoint.push({\n        label: point.drawGraphicMarker.label,\n        value: point.drawGraphicMarker.value,\n      });\n      //if (!drawGraphicMarkerPoint[index].label || !drawGraphicMarkerPoint[index].label) {\n      if (!drawGraphicMarkerPoint[index].label) {\n        drawGraphicMarkerPoint[index] = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].drawGraphicMarker.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].drawGraphicMarker.value,\n        };\n      }\n      //if (!drawGraphicMarkerPoint[index].label || !drawGraphicMarkerPoint[index].label) {\n      if (!drawGraphicMarkerPoint[index].label) {\n        drawGraphicMarkerPoint[index] = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.value,\n        };\n      }\n      shapePoint.push(point.shape);\n      if (!shapePoint[index]) {\n        shapePoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].shape;\n      }\n      if (!shapePoint[index]) {\n        shapePoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].shape;\n      }\n      sizeWidthPoint.push(point.sizeWidth);\n      if (!sizeWidthPoint[index]) {\n        sizeWidthPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].sizeWidth;\n      }\n      if (!sizeWidthPoint[index]) {\n        sizeWidthPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeWidth;\n      }\n      sizeHeightPoint.push(point.sizeHeight);\n      if (!sizeHeightPoint[index]) {\n        sizeHeightPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].sizeHeight;\n      }\n      if (!sizeHeightPoint[index]) {\n        sizeHeightPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeHeight;\n      }\n      if (point.color.length !== 0) {\n        colorPoint.push(point.color);\n      } else {\n        colorPoint.push(gabaritFileTmp.globalGabarit.defaultColor);\n      }\n      if (!colorPoint[index]) {\n        colorPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].color;\n      }\n      associateOrientedLinksInPoint.push(point.associateOrientedLinksIn);\n      if (!associateOrientedLinksInPoint[index]) {\n        associateOrientedLinksInPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].associateOrientedLinksIn;\n      }\n      if (!associateOrientedLinksInPoint[index]) {\n        associateOrientedLinksInPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksIn;\n      }\n      associateOrientedLinksOutPoint.push(point.associateOrientedLinksOut);\n      if (!associateOrientedLinksOutPoint[index]) {\n        associateOrientedLinksOutPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].associateOrientedLinksOut;\n      }\n      if (!associateOrientedLinksOutPoint[index]) {\n        associateOrientedLinksOutPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksOut;\n      }\n      tmpToolTipA = { label: point.positionParameter.tooltipA.label, value: point.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: point.positionParameter.tooltipB.label, value: point.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(point.positionParameter.xylabelA);\n      if (!tmpLabelAPosition.x || !tmpLabelAPosition.y) {\n        tmpLabelAPosition = {\n          x: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelA,\n          y: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelA,\n        };\n      }\n      if (!tmpLabelAPosition.x || !tmpLabelAPosition.y) {\n        tmpLabelAPosition = {\n          x: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA,\n          y: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA,\n        };\n      }\n      tmpLabelBPosition = coordParse(point.positionParameter.xylabelB);\n      if (!tmpLabelBPosition.x || !tmpLabelBPosition.y) {\n        tmpLabelBPosition = {\n          x: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelB,\n          y: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelB,\n        };\n      }\n      if (!tmpLabelBPosition.x || !tmpLabelBPosition.y) {\n        tmpLabelBPosition = {\n          x: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB,\n          y: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB,\n        };\n      }\n      positionParameterPoint.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      linkURLPoint.push(new LinkURLClass(point.linkURL.followLink, point.linkURL.hoveringTooltipLink, point.linkURL.hoveringTooltipText));\n      if (!linkURLPoint[index].followLink) {\n        linkURLPoint[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLPoint[index].followLink) {\n        linkURLPoint[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n    });\n\n    let newID = 0;\n    this.props.options.arrayPoints.forEach((element) => {\n      newID++;\n    });\n\n    let labelCoordX: string[] = [];\n    let labelCoordY: string[] = [];\n    let labelCoord: LabelCoord2D[][] = [];\n\n    posPoint.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritPoint[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          let remove = element.name?.split('{');\n          if (element.refId === mainMetricPoint[index]!.refId) {\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoord.push([]);\n        labelCoordX.forEach((element, add) => {\n          labelCoord[index].push({ x: labelCoordX[add], y: labelCoordY[add] });\n        });\n      } else {\n        labelCoord[index] = [];\n      }\n    });\n\n    let upId = false;\n\n    labelCoord.forEach((labelCo, posIndex) => {\n      console.log('passage1');\n      if (labelCo.length > 0) {\n        for (const pos of labelCo) {\n          filterPoint.forEach((element, index) => {\n            const defaultPositionX = (((parseInt(pos.x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n            const defaultPositionY = (((parseInt(pos.y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n            if (metricPoint.length > 0) {\n              let toLoad: PointClass = new PointClass(\n                newID + 1,\n                linkURLPoint[index],\n                metaPoint[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelPoint[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricPoint[index], posPoint[index], pos),\n                metricPoint[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterPoint[index],\n                namePoint[index] + '_' + newID,\n                valueMetricPoint[index],\n                drawGraphicMarkerPoint[index],\n                shapePoint[index],\n                sizeWidthPoint[index],\n                sizeHeightPoint[index],\n                '',\n                pos.x,\n                pos.y,\n                colorPoint[index],\n                associateOrientedLinksInPoint[index],\n                associateOrientedLinksOutPoint[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionX,\n                defaultPositionY\n              );\n              upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else {\n              let toLoad: PointClass = new PointClass(\n                newID + 1,\n                linkURLPoint[index],\n                metaPoint[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelPoint[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricPoint[index], posPoint[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterPoint[index],\n                namePoint[index] + '_' + newID,\n                valueMetricPoint[index],\n                drawGraphicMarkerPoint[index],\n                shapePoint[index],\n                sizeWidthPoint[index],\n                sizeHeightPoint[index],\n                '',\n                pos.x,\n                pos.y,\n                colorPoint[index],\n                associateOrientedLinksInPoint[index],\n                associateOrientedLinksOutPoint[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionX,\n                defaultPositionY\n              );\n              upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n          });\n        }\n      } else {\n        const defaultPositionX = (((parseInt(posPoint[posIndex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionY = (((parseInt(posPoint[posIndex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        if (metricPoint.length > 0) {\n          let toLoad: PointClass = new PointClass(\n            newID + 1,\n            linkURLPoint[posIndex],\n            metaPoint[posIndex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelPoint[posIndex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricPoint[posIndex],\n            metricPoint[posIndex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterPoint[posIndex],\n            namePoint[posIndex] + '_' + newID,\n            valueMetricPoint[posIndex],\n            drawGraphicMarkerPoint[posIndex],\n            shapePoint[posIndex],\n            sizeWidthPoint[posIndex],\n            sizeHeightPoint[posIndex],\n            '',\n            posPoint[posIndex].x,\n            posPoint[posIndex].y,\n            colorPoint[posIndex],\n            associateOrientedLinksInPoint[posIndex],\n            associateOrientedLinksOutPoint[posIndex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionX,\n            defaultPositionY\n          );\n          upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else {\n          let toLoad: PointClass = new PointClass(\n            newID + 1,\n            linkURLPoint[posIndex],\n            // changement\n            metaPoint[posIndex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelPoint[posIndex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricPoint[posIndex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterPoint[posIndex],\n            namePoint[posIndex] + '_' + newID,\n            valueMetricPoint[posIndex],\n            drawGraphicMarkerPoint[posIndex],\n            shapePoint[posIndex],\n            sizeWidthPoint[posIndex],\n            sizeHeightPoint[posIndex],\n            '',\n            posPoint[posIndex].x,\n            posPoint[posIndex].y,\n            colorPoint[posIndex],\n            associateOrientedLinksInPoint[posIndex],\n            associateOrientedLinksOutPoint[posIndex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionX,\n            defaultPositionY\n          );\n          upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n      }\n    });\n\n    /* Link */\n    //Template\n    let filterLink: Filtred[][] = []; //\n    let posALink: LabelCoord2D[] = []; //\n    let posBLink: LabelCoord2D[] = []; //\n    let posCLink: LabelCoord2D[] = []; //\n    let nameLink: string[] = []; //\n    let metaLink: Metadata[][] = []; //\n    let labelLink: string[] = []; //\n    let positionParameterLink: PositionParameterClass[] = []; //\n    let mainMetricALink: Metric[] = []; //\n    // let unitA: string;\n    // let formatA: string;\n    // let keyA: string;\n    // let keyValueA: string;\n    // let manageValueA: TManageValue;\n    let metricALink: Metric[][] = []; //\n    let mainMetricBLink: Metric[] = []; //\n    let metricBLink: Metric[][] = []; //\n    let linkURLLink: LinkURLClass[] = []; //\n    let orientationLink: Array<SelectableValue<string>> = []; //\n    let sizeLink: string[] = []; //\n    let colorALink: string[] = []; //\n    let colorBLink: string[] = []; //\n    let valueMetricALink: string[] = []; //\n    let valueMetricBLink: string[] = []; //\n    let pointInLink: string[] = []; //\n    let pointOutLink: string[] = []; //\n    let regionInLink: string[] = []; //\n    let regionOutLink: string[] = []; //\n    let isIncurvedLink: Array<SelectableValue<boolean>> = []; //\n\n    gabaritFileTmp.templateGabaritLink.forEach((link, index) => {\n      if (link.labelfix === 'false') {\n        posALink.push(coordParse(link.xylabelA));\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelA);\n        }\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelA);\n        }\n        posBLink.push(coordParse(link.xylabelB));\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelB);\n        }\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelB);\n        }\n        posCLink.push(coordParse(link.xylabelC));\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelC);\n        }\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelC);\n        }\n      } else {\n        posALink.push(coordParse(link.xylabelfixA));\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixA);\n        }\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixA);\n        }\n        posBLink.push(coordParse(link.xylabelfixB));\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixB);\n        }\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixB);\n        }\n        posCLink.push(coordParse(link.xylabelfixC));\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixC);\n        }\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixC);\n        }\n      }\n      filterLink.push(filterParse(link.filtered));\n      if (!filterLink[index]) {\n        filterLink[index] = filterParse(gabaritFileTmp.templateGabaritLinkDefault[0].filtered);\n      }\n      if (!filterLink[index]) {\n        filterLink[index] = filterParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].filtered);\n      }\n      nameLink.push(link.name);\n      if (!nameLink[index]) {\n        nameLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].name;\n      }\n      if (!nameLink[index]) {\n        nameLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].name;\n      }\n      metaLink.push(this.metaConstructor(link.meta));\n      link.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaLink[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold) {\n          metaLink[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaLink[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic) {\n          metaLink[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaLink[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline) {\n          metaLink[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaLink[index]) {\n      //   metaLink[index] = this.metaConstructor(gabaritFileTmp.templateGabaritLinkDefault[0].meta);\n      // }\n      // if (!metaLink[index]) {\n      //   metaLink[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta);\n      // }\n      labelLink.push(link.label);\n      if (!labelLink[index]) {\n        labelLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].label;\n      }\n      if (!labelLink[index]) {\n        labelLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].label;\n      }\n\n      // // MainMetricA\n\n      // // unitA\n      // unitA = link.mainMetric.unit;\n      // if (!link.mainMetric.unit) {\n      //   unitA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit) {\n      //   unitA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit;\n      // };\n\n      // // formatA\n      // formatA = link.mainMetric.format;\n      // if (!link.mainMetric.format) {\n      //   formatA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format) {\n      //   formatA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format;\n      // };\n\n      // // keyA\n      // keyA = link.mainMetric.key;\n      // if (!link.mainMetric.key) {\n      //   keyA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key) {\n      //   keyA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key;\n      // };\n\n      // // keyValueA\n      // keyValueA = link.mainMetric.keyValue;\n      // if (!link.mainMetric.keyValue) {\n      //   keyValueA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.keyValue;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.keyValue) {\n      //   keyValueA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.keyValue;\n      // };\n\n      // // manageValueA\n      // manageValueA = link.mainMetric.manageValue;\n      // console.log(manageValueA);\n      // if (!link.mainMetric.manageValue) {\n      //   manageValueA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue) {\n      //   manageValueA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue;\n      // };\n\n      // mainMetricALink.push({\n      //   unit: unitA,\n      //   format: formatA,\n      //   key: keyA,\n      //   keyValue: keyValueA,\n      //   filter: filterLink[index],\n      //   refId: gabaritFileTmp.queryID,\n      //   expr: '',\n      //   returnQuery: [],\n      //   manageValue: manageValueA,\n      // });\n\n      mainMetricALink.push({\n        key: link.mainMetric.key,\n        unit: link.mainMetric.unit,\n        format: link.mainMetric.format,\n        keyValue: '',\n        filter: filterLink[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: link.mainMetric.manageValue,\n      });\n      if (!mainMetricALink[index].unit) {\n        mainMetricALink[index] = {\n          key: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricALink[index].unit) {\n        mainMetricALink[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      link.metrics.forEach((element) => {\n        metricALink[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      mainMetricBLink.push({\n        key: link.mainMetricB.key,\n        unit: link.mainMetricB.unit,\n        format: link.mainMetricB.format,\n        keyValue: '',\n        filter: filterLink[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: link.mainMetricB.manageValue,\n      });\n      if (!mainMetricBLink[index].unit) {\n        mainMetricBLink[index] = {\n          key: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricBLink[index].unit) {\n        mainMetricBLink[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      link.metricsB.forEach((element) => {\n        metricBLink[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      valueMetricALink.push(link.valueMainMetricA);\n      if (!valueMetricALink[index]) {\n        valueMetricALink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].valueMainMetricA;\n      }\n      if (!valueMetricALink[index]) {\n        valueMetricALink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricA;\n      }\n      valueMetricBLink.push(link.valueMainMetricB);\n      if (!valueMetricBLink[index]) {\n        valueMetricBLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].valueMainMetricB;\n      }\n      if (!valueMetricBLink[index]) {\n        valueMetricBLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricB;\n      }\n      sizeLink.push(link.size);\n      if (!sizeLink[index]) {\n        sizeLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].size;\n      }\n      if (!sizeLink[index]) {\n        sizeLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].size;\n      }\n      if (link.colorCoordinateA.length !== 0) {\n        colorALink.push(link.colorCoordinateA);\n        colorBLink.push(link.colorCoordinateB);\n      } else {\n        colorALink.push(gabaritFileTmp.globalGabarit.defaultColor);\n        colorBLink.push(gabaritFileTmp.globalGabarit.defaultColor);\n      }\n      if (!colorALink[index]) {\n        colorALink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateA;\n      }\n      if (!colorBLink[index]) {\n        colorBLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateB;\n      }\n      tmpToolTipA = { label: link.positionParameter.tooltipA.label, value: link.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.value || !tmpToolTipA.label) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.value || !tmpToolTipA.label) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: link.positionParameter.tooltipB.label, value: link.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.value || !tmpToolTipB.label) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.value || !tmpToolTipB.label) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(link.positionParameter.xylabelA);\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.xylabelA);\n      }\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelA);\n      }\n      tmpLabelBPosition = coordParse(link.positionParameter.xylabelB);\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.xylabelB);\n      }\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelB);\n      }\n      positionParameterLink.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      linkURLLink.push(new LinkURLClass(link.linkURL.followLink, link.linkURL.hoveringTooltipLink, link.linkURL.hoveringTooltipText));\n      if (!linkURLLink[index].followLink) {\n        linkURLLink[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLLink[index].followLink) {\n        linkURLLink[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      orientationLink.push(link.orientationLink);\n      if (!orientationLink[index]) {\n        orientationLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].orientationLink;\n      }\n      if (!orientationLink[index]) {\n        orientationLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].orientationLink;\n      }\n      pointInLink.push(link.pointIn);\n      if (!pointInLink[index]) {\n        pointInLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].pointIn;\n      }\n      if (!pointInLink[index]) {\n        pointInLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointIn;\n      }\n      pointOutLink.push(link.pointOut);\n      if (!pointOutLink[index]) {\n        pointOutLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].pointOut;\n      }\n      if (!pointOutLink[index]) {\n        pointOutLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointOut;\n      }\n      regionInLink.push(link.regionIn);\n      if (!regionInLink[index]) {\n        regionInLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].regionIn;\n      }\n      if (!regionInLink[index]) {\n        regionInLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionIn;\n      }\n      regionOutLink.push(link.regionOut);\n      if (!regionOutLink[index]) {\n        regionOutLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].regionOut;\n      }\n      if (!regionOutLink[index]) {\n        regionOutLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionOut;\n      }\n      isIncurvedLink.push({ label: link.isIncurved.label, value: this.transformStringToBoolean(link.isIncurved.value || '') });\n      if (\n        (link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n        (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')\n      ) {\n        console.log('level1');\n        isIncurvedLink[index] = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase(),\n          value: this.transformStringToBoolean(gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value || ''),\n        };\n      }\n      if (\n        (((link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n          (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')) &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase() !== 'yes' &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase() !== 'no') ||\n        (((link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n          (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')) &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value !== 'true' &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value !== 'false')\n      ) {\n        isIncurvedLink[index] = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.label,\n          value: this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.value || ''),\n        };\n      }\n      isIncurvedLink[index] = this.transformWithUpperCase(isIncurvedLink[index]);\n      // if (!isIncurvedLink[index].label || !isIncurvedLink[index].value) {\n      //   isIncurvedLink[index] = {\n      //     label: gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label,\n      //     value: this.transformStringToBoolean(gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value || ''),\n      //   };\n      // }\n      // if (!isIncurvedLink[index].label || !isIncurvedLink[index].value) {\n      //   isIncurvedLink[index] = {\n      //     label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.label,\n      //     value: this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.value || ''),\n      //   };\n      // }\n    });\n\n    newID = 0;\n    this.props.options.arrayOrientedLinks.forEach((element) => {\n      newID++;\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordA: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          if (element.refId === mainMetricALink[index]!.refId) {\n            let remove = element.name?.split('{');\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordA[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordA[index] = [];\n      }\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordB: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          if (element.refId === mainMetricBLink[index]!.refId) {\n            let remove = element.name?.split('{');\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordB[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordB[index] = [];\n      }\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordC: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          const nameQuery: string[] =\n            element.name?.split(',').map((value) => {\n              return value.replace(/[\\\"{}]/gm, '');\n            }) || [];\n\n          for (const oneQuery of nameQuery) {\n            if (nameQuery && nameQuery.length > 0) {\n              const keyValue: string[] = oneQuery.split('=');\n              if (keyValue[0] === pos.x) {\n                labelCoordX.push(keyValue[1]);\n              }\n              if (keyValue[0] === pos.y) {\n                labelCoordY.push(keyValue[1]);\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordC[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordC[index] = [];\n      }\n    });\n\n    labelCoordA.forEach((element, coordindex) => {\n      let pointInLinkWithId = '';\n      let labelPointIn = pointInLink[coordindex].split('_')[0];\n      this.props.options.arrayPoints.forEach((point, index) => {\n        if (point.label.startsWith(labelPointIn)) {\n          pointInLinkWithId = labelPointIn + '_' + index;\n        }\n      });\n\n      let pointOutLinkWithId = '';\n      let labelPointOut = pointOutLink[coordindex].split('_')[0];\n      this.props.options.arrayPoints.forEach((point, index) => {\n        if (point.label.startsWith(labelPointOut)) {\n          pointOutLinkWithId = labelPointOut + '_' + index;\n        }\n      });\n\n      let regionInLinkWithId = '';\n      let labelRegionIn = regionInLink[coordindex].split('_')[0];\n      this.props.options.regionCoordinateSpace.forEach((region, index) => {\n        if (region.label.startsWith(labelPointIn)) {\n          pointInLinkWithId = labelRegionIn + '_' + index;\n        }\n      });\n\n      let regionOutLinkWithId = '';\n      let labelRegionOut = regionOutLink[coordindex].split('_')[0];\n      this.props.options.regionCoordinateSpace.forEach((region, index) => {\n        if (region.label.startsWith(labelPointOut)) {\n          pointOutLinkWithId = labelRegionOut + '_' + index;\n        }\n      });\n\n      if (element.length > 0) {\n        for (const pos of element) {\n          filterLink.forEach((element, index) => {\n            let pointInLinkWithId = pointInLink[index];\n            const defaultPositionAX = (((parseInt(pos.x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n            const defaultPositionBX = (\n              ((parseInt(labelCoordB[coordindex][index].x, 10) - xMinInitialSpace) / widthInitialSpace) *\n              widthBackground\n            ).toString();\n            const defaultPositionCX = (\n              ((parseInt(labelCoordC[coordindex][index].x, 10) - xMinInitialSpace) / widthInitialSpace) *\n              widthBackground\n            ).toString();\n            const defaultPositionAY = (((parseInt(pos.y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n            const defaultPositionBY = (\n              ((parseInt(labelCoordB[coordindex][index].y, 10) - yMinInitialSpace) / heightInitialSpace) *\n              heightBackground\n            ).toString();\n            const defaultPositionCY = (\n              ((parseInt(labelCoordC[coordindex][index].y, 10) - yMinInitialSpace) / heightInitialSpace) *\n              heightBackground\n            ).toString();\n\n            let labelPointIn = pointInLink[index].split('_')[0];\n            this.props.options.arrayPoints.forEach((point, index) => {\n              if (point.label.startsWith(labelPointIn)) {\n                pointInLinkWithId = labelPointIn + '_' + index;\n              }\n            });\n\n            let labelPointOut = pointOutLink[index].split('_')[0];\n            this.props.options.arrayPoints.forEach((point, index) => {\n              if (point.label.startsWith(labelPointOut)) {\n                pointOutLinkWithId = labelPointOut + '_' + index;\n              }\n            });\n\n            let regionInLinkWithId = '';\n            let labelRegionIn = regionInLink[index].split('_')[0];\n            this.props.options.regionCoordinateSpace.forEach((region, index) => {\n              if (region.label.startsWith(labelPointIn)) {\n                pointInLinkWithId = labelRegionIn + '_' + index;\n              }\n            });\n\n            let regionOutLinkWithId = '';\n            let labelRegionOut = regionOutLink[index].split('_')[0];\n            this.props.options.regionCoordinateSpace.forEach((region, index) => {\n              if (region.label.startsWith(labelPointOut)) {\n                pointOutLinkWithId = labelRegionOut + '_' + index;\n              }\n            });\n\n            let maA = metricALink.length;\n            let maB = metricBLink.length;\n            if (maA > 0 && maB > 0) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                metricALink[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                metricBLink[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n            if (!(maA > 0) && maB > 0) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                metricBLink[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else if (maA > 0 && !(maB > 0)) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                metricALink[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                [],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                [],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n          });\n        } /////////////////\n      } else {\n        const defaultPositionAX = (((parseInt(posALink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionBX = (((parseInt(posBLink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionCX = (((parseInt(posCLink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionAY = (((parseInt(posALink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        const defaultPositionBY = (((parseInt(posBLink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        const defaultPositionCY = (((parseInt(posCLink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        let maA = metricALink.length;\n        let maB = metricBLink.length;\n        if (maA > 0 && maB > 0) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            metricALink[coordindex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            metricBLink[coordindex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n        if (!(maA > 0) && maB > 0) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            metricBLink[coordindex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else if (maA > 0 && !(maB > 0)) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            metricALink[coordindex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            [],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            [],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n      }\n    });\n\n    /*  */\n    //Template region\n    let filterRegion: Filtred[][] = []; //\n    let posRegion: Coord4D[] = []; //\n\n    let metaRegion: Metadata[][] = []; //\n    let labelRegion: string[] = []; //\n    let positionParameterRegion: PositionParameterClass[] = []; //\n    let mainMetricRegion: Metric[] = []; //\n    let metricRegion: Metric[][] = []; //\n    let linkURLRegion: LinkURLClass[] = [];\n    let idSVGRegion: string[] = [];\n    let modeRegion: boolean[] = [];\n    let imgRegion: string[] = [];\n    let orientedLinkAssociate: OrientedLinkClass[][] = [];\n\n    gabaritFileTmp.templateGabaritRegion.forEach((region, index) => {\n      if (region.labelfix === 'false') {\n        posRegion.push(coordParseRegion(region.xylabel));\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].xylabel);\n        }\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabel);\n        }\n      } else {\n        posRegion.push(coordParseRegion(region.xylabelfix));\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].xylabelfix);\n        }\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabelfix);\n        }\n      }\n      filterRegion.push(filterParseRegion(region.filtered));\n      if (!filterRegion[index]) {\n        filterRegion[index] = filterParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].filtered);\n      }\n      if (!filterRegion[index]) {\n        filterRegion[index] = filterParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].filtered);\n      }\n      linkURLRegion.push(new LinkURLClass(region.linkURL.followLink, region.linkURL.hoveringTooltipLink, region.linkURL.hoveringTooltipTex));\n      if (!linkURLRegion[index].followLink) {\n        linkURLRegion[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLRegion[index].followLink) {\n        linkURLRegion[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      // changement\n      metaRegion.push(this.metaConstructor(region.meta));\n      region.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaRegion[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold) {\n          metaRegion[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaRegion[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic) {\n          metaRegion[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaRegion[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline) {\n          metaRegion[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaRegion[index]) {\n      //   metaRegion[index] = this.metaConstructor(gabaritFileTmp.templateGabaritRegionDefault[0].meta);\n      // }\n      // if (!metaRegion[index]) {\n      //   // changement\n      //   // metaRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta;\n      //   metaRegion[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta);\n      // }\n      labelRegion.push(region.label);\n      if (!labelRegion[index]) {\n        labelRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].label;\n      }\n      if (!labelRegion[index]) {\n        labelRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].label;\n      }\n      mainMetricRegion.push({\n        key: region.mainMetric.key,\n        unit: region.mainMetric.unit,\n        format: region.mainMetric.format,\n        keyValue: '',\n        filter: filterRegion[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: region.mainMetric.manageValue,\n      });\n      if (!mainMetricRegion[index].unit) {\n        mainMetricRegion[index] = {\n          key: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricRegion[index].unit) {\n        mainMetricRegion[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.manageValue,\n        };\n      }\n      region.metrics.forEach((element) => {\n        metricRegion[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      modeRegion.push(this.transformStringToBoolean(region.mode));\n      if (!region.mode) {\n        modeRegion[index] = this.transformStringToBoolean(gabaritFileTmp.templateGabaritRegionDefault[0].mode);\n      }\n      if (!region.mode && !gabaritFileTmp.templateGabaritRegionDefault[0].mode) {\n        modeRegion[index] = this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mode);\n      }\n      idSVGRegion.push(region.idSVG);\n      if (!idSVGRegion[index]) {\n        idSVGRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].idSVG;\n      }\n      if (!idSVGRegion[index]) {\n        idSVGRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].idSVG;\n      }\n      imgRegion.push(region.img);\n      if (!imgRegion[index]) {\n        imgRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].img;\n      }\n      if (!imgRegion[index]) {\n        imgRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].img;\n      }\n      tmpToolTipA = { label: region.positionParameter.tooltipA.label, value: region.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: region.positionParameter.tooltipB.label, value: region.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(region.positionParameter.xylabelA);\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.xylabelA);\n      }\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelA);\n      }\n      tmpLabelBPosition = coordParse(region.positionParameter.xylabelB);\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.xylabelB);\n      }\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelB);\n      }\n      positionParameterRegion.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      orientedLinkAssociate.push(region.orientedLink);\n      if (!orientedLinkAssociate[index]) {\n        orientedLinkAssociate[index] = gabaritFileTmp.templateGabaritRegionDefault[0].orientedLink;\n      }\n      if (!orientedLinkAssociate[index]) {\n        orientedLinkAssociate[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].orientedLink;\n      }\n    });\n\n    newID = 0;\n    this.props.options.regionCoordinateSpace.forEach((element) => {\n      newID++;\n    });\n\n    filterRegion.forEach((element, index) => {\n      if (metricRegion.length > 0) {\n        let toLoad: RegionClass = new RegionClass(\n          newID + 1,\n          linkURLRegion[index],\n          metaRegion[index],\n          JSON.parse(JSON.stringify(lowerLimit)),\n          labelRegion[index] + '_' + newID,\n          JSON.parse(JSON.stringify(textObj)),\n          mainMetricRegion[index],\n          metricRegion[index],\n          colorMode,\n          traceBack,\n          traceBorder,\n          positionParameterRegion[index],\n          idSVGRegion[index],\n          orientedLinkAssociate[index],\n          posRegion[index],\n          posRegion[index],\n          modeRegion[index],\n          imgRegion[index],\n          widthInitialSpace.toString(),\n          heightInitialSpace.toString()\n        );\n        newID++;\n        this.props.options.regionCoordinateSpace.push(toLoad);\n      } else {\n        let toLoad: RegionClass = new RegionClass(\n          newID + 1,\n          linkURLRegion[index],\n          metaRegion[index],\n          JSON.parse(JSON.stringify(lowerLimit)),\n          labelRegion[index] + '_' + newID,\n          JSON.parse(JSON.stringify(textObj)),\n          mainMetricRegion[index],\n          [],\n          colorMode,\n          traceBack,\n          traceBorder,\n          positionParameterRegion[index],\n          idSVGRegion[index],\n          orientedLinkAssociate[index],\n          posRegion[index],\n          posRegion[index],\n          modeRegion[index],\n          imgRegion[index],\n          widthInitialSpace.toString(),\n          heightInitialSpace.toString()\n        );\n        newID++;\n        this.props.options.regionCoordinateSpace.push(toLoad);\n      }\n    });\n  };\n\n  gabaritUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.lenght !== 0) {\n      const list = props.list.map((url: string, index: number) => (\n        <div\n          key={'GabaritUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'GabaritUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={10}\n            inputWidth={25}\n            onChange={this.onGabaritListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button size={'md'} variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.gabaritDeletUrl.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  gabaritDisplay = (props: any): JSX.Element => {\n    if (props.list.lenght !== 0) {\n      const list = props.list.map((gabarit: GabaritFile, index: number) => (\n        <div\n          key={'GabaritDiv' + index.toString()}\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n          }}\n        >\n          <div style={{ display: 'flex' }}>\n            <FormField\n              id={index.toString()}\n              key={'Gabarit' + index.toString()}\n              label={'Gabarit'}\n              labelWidth={5}\n              inputWidth={20}\n              type=\"string\"\n              value={gabarit.fileName || ''}\n              readOnly\n            />\n            <FormLabel width={15}>Querry ID</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectQuerryID(value, index)}\n              allowCustomValue={false}\n              options={this.state.selectQuerryID}\n              width={10}\n              value={{ label: this.props.options.saveGabaritFile[index].queryID, value: this.props.options.saveGabaritFile[index].queryID }}\n            />\n          </div>\n          <div>\n            <Button size={'md'} id={index.toString()} key={'ButtunLoad' + index.toString()} onClick={this.checkLoaderGabarit.bind(this)}>\n              <span style={{ padding: '0px 5px' }}>Load</span>\n            </Button>\n            <Button\n              size={'md'}\n              variant=\"danger\"\n              id={index.toString()}\n              key={'ButtunDel' + index.toString()}\n              onClick={this.gabaritDeletFile.bind(this)}\n            >\n              <span style={{ padding: '0px 23px' }}>Delete</span>\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  gabaritDefaultDisplay = (props: any): JSX.Element => {\n    if (props) {\n      const list = (\n        <div\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            key={'GabaritDefault'}\n            label={'GabaritDefault'}\n            labelWidth={10}\n            inputWidth={25}\n            type=\"string\"\n            value={props.list.fileName || ''}\n            readOnly\n          />\n          <Button size={'md'} variant=\"danger\" key={'ButtunDelDefault'} onClick={this.gabaritDeletFileDefault.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      );\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  delAll = () => {\n    // this.props.options.arrayCoordinateSpace = [];\n    // this.props.options.arrayOrientedLinks = [];\n    // this.props.options.arrayPoints = [];\n    this.props.options.saveGabaritURL = [];\n    //this.props.options.saveGabaritURL = [];\n    // this.props.options.saveGabaritURL.mono = [];\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  printDefault = () => {\n    console.log('gabaritDefault');\n    console.log(this.props.options.gabaritDefault);\n  };\n\n  printPoint = () => {\n    console.log('Point');\n    console.log(this.props.options.arrayPoints);\n    this.props.options.arrayPoints.forEach((element) => {\n      console.log(element.mainMetric.filter);\n    });\n  };\n\n  printRegion = () => {\n    console.log('Region');\n    console.log(this.props.options.regionCoordinateSpace);\n  };\n\n  printLink = () => {\n    console.log('Link');\n    console.log(this.props.options.arrayOrientedLinks);\n  };\n\n  printTemp = () => {\n    console.log('gabaritDefault');\n    console.log(this.props.options.saveGabaritFile);\n  };\n\n  render() {\n    const { options } = this.props;\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseGabaritDefault} label=\"Default Gabarit URL\" onToggle={this.onToggleGabaritDefault}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Gabarit Default Url\"\n              labelWidth={10}\n              key={'GabaritDefaultUrl'}\n              inputWidth={25}\n              onChange={this.onGabaritDefaultUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.saveGabaritDefaultUrl || ''}\n            />\n            <Button size={'md'} key={'AddGabaritDefaultUrl'} onClick={this.addGabaritDefaultUrlInput}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          <this.gabaritDefaultDisplay list={options.gabaritDefault} />\n        </Collapse>\n        <Collapse isOpen={this.state.collapseSelectURL} label=\"Url List\" onToggle={this.onToggleSelectUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Gabarit Url\"\n              labelWidth={10}\n              key={'GabaritUrl'}\n              inputWidth={25}\n              onChange={this.onGabaritUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.gabaritUrlInput || ''}\n            />\n            <Button size={'md'} key={'AddGabaritUrl'} onClick={this.addGabaritUrlInput}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          {/* <div className=\"section gf-form-group\"> */}\n          <div>\n            <this.gabaritUrlDisplay list={options.saveGabaritURL} />\n            {this.props.options.saveGabaritURL.length !== 0 && (\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'row',\n                  justifyContent: 'right',\n                }}\n              >\n                <Button size={'md'} onClick={this.fetchGabarit}>\n                  Finish\n                </Button>\n                <Button size={'md'} key={'delAll'} onClick={this.delAll} variant=\"danger\">\n                  Delete all urls\n                </Button>\n              </div>\n            )}\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseGabarit} label=\"Gabarit List\" onToggle={this.onToggleGabarit}>\n          <this.gabaritDisplay list={options.saveGabaritFile} />\n        </Collapse>\n        {/* <Button onClick={this.printDefault}>Default</Button>\n        <Button onClick={this.printPoint}>Point</Button>\n        <Button onClick={this.printRegion}>Region</Button>\n        <Button onClick={this.printLink}>Link</Button>\n        <Button onClick={this.printTemp}>Temp</Button> */}\n      </div>\n    );\n  }\n}\nexport default Gabarit;\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from '../types';\nimport { FormField, Button, Collapse } from '@grafana/ui';\n//import /*pointClassImport, regionClassImport, multiPointClassImport, multiRegionClassImport */ '../../config/testVariable';\n\nimport { PointClass } from '../Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { OrientedLinkClass } from '../Models/OrientedLinkClass';\n//import { fetchConfFile } from '../Functions/importConfig';\nimport DropZone from '../Models/dropZone';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  collapseTotalUrl: boolean;\n  collapseMultiUrl: boolean;\n  // collapseMonoUrl: boolean;\n  collapseMultiUpload: boolean;\n}\n\n/*\n * TODO\n */\nclass ImportInput extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapseTotalUrl: false,\n      collapseMultiUrl: false,\n      // collapseMonoUrl: false,\n      collapseMultiUpload: false,\n    };\n  }\n  result: any[] = [];\n  totalResult: any[] = [];\n  /**************************************FETCH******************************************/\n\n  // fetchMono = () => {\n  //     console.log(this.props.options.saveImportUrl.mono)\n  //     this.result = fetchConfFile(this.props.options.saveImportUrl.mono);\n  // }\n\n  /**************************************CATCH******************************************/\n  PointValidator = (newSpace: PointClass) => {\n    let resultId = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      if (newSpace.id === point.id) {\n        if (newSpace.name === point.name) {\n          resultId = 2;\n        } else {\n          // console.error('Id of point named \"' + newSpace.name + '\" already given fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  RegionValidator = (newSpace: RegionClass) => {\n    let resultId = 0;\n    this.props.options.regionCoordinateSpace.forEach((region) => {\n      //Id\n      if (newSpace.id === region.id) {\n        if (newSpace.label === region.label) {\n          resultId = 2;\n        } else {\n          // console.error('Id of region labeled \"' + newSpace.label + '\" already given, fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  LinkValidator = (newSpace: OrientedLinkClass) => {\n    let resultId = 0;\n    this.props.options.arrayOrientedLinks.forEach((lien) => {\n      if (newSpace.id === lien.id) {\n        if (newSpace.name === lien.name) {\n          resultId = 2;\n        } else {\n          // console.error('Id of link named \"' + newSpace.name + '\" already given, fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  UrlValidator = (url: string) => {\n    let result = true;\n    for (let index in this.props.options.saveImportUrl.multi) {\n      if (this.props.options.saveImportUrl.multi[index] === url) {\n        result = false;\n        break;\n      }\n    }\n    return result;\n  };\n\n  /**************************************LOADER******************************************/\n  // Mono\n  pointUpdate = (updatedPoint: PointClass) => {\n    this.props.options.arrayPoints.forEach((point, index) => {\n      //Id\n      if (updatedPoint.id === point.id) {\n        if (updatedPoint.name === point.name) {\n          this.props.options.arrayPoints[index] = updatedPoint;\n          this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n        }\n      }\n    });\n  };\n  //Looking for a update after Point rework\n  loadMonoPoint = (point: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new PointClass(\n      point.id,\n      point.linkURL,\n      point.meta,\n      point.lowerLimit,\n      point.label,\n      point.textObj,\n      point.mainMetric,\n      point.metrics,\n      point.colorMode,\n      point.traceBack,\n      point.traceBorder,\n      point.positionParameter,\n      point.name,\n      point.valueMetric,\n      point.drawGraphicMarker,\n      point.shape,\n      point.sizeWidth,\n      point.sizeHeight,\n      point.rotateArrow,\n      point.positionShapeX,\n      point.positionShapeY,\n      point.color,\n      point.associateOrientedLinksIn,\n      point.associateOrientedLinksOut,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault,\n      point.positionXDefault,\n      point.positionYDefault\n    );\n    // console.log(toLoad);\n    let selector: number = this.PointValidator(toLoad);\n    // Do some test here to see if your already load a coordinatespace with this id\n    if (selector === 0) {\n      this.props.options.arrayPoints.push(toLoad);\n    }\n    if (selector === 2) {\n      this.pointUpdate(toLoad);\n    }\n  };\n\n  regionUpdate = (updatedRegion: RegionClass) => {\n    this.props.options.regionCoordinateSpace.forEach((region, index) => {\n      //Id\n      if (updatedRegion.id === region.id) {\n        if (updatedRegion.label === region.label) {\n          this.props.options.regionCoordinateSpace[index] = updatedRegion;\n          this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n        }\n      }\n    });\n  };\n  //Looking for a update after Region rework\n  loadMonoRegion = (region: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new RegionClass(\n      region.id,\n      region.linkURL,\n      region.meta,\n      region.lowerLimit,\n      region.label,\n      region.textObj,\n      region.mainMetric,\n      region.metrics,\n      region.colorMode,\n      region.traceBack,\n      region.traceBorder,\n      region.positionParameter,\n      region.idSVG,\n      region.orientedLink,\n      region.coords,\n      region.coordsDefault,\n      region.mode,\n      region.img,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault\n    );\n    // console.log(toLoad);\n    // Do some test here to see if your already load a coordinatespace with this id\n    let selector: number = this.RegionValidator(toLoad);\n    if (selector === 0) {\n      this.props.options.regionCoordinateSpace.push(toLoad);\n    }\n    if (selector === 2) {\n      this.regionUpdate(toLoad);\n    }\n  };\n\n  linkUpdate = (updatedLink: OrientedLinkClass) => {\n    this.props.options.arrayOrientedLinks.forEach((link, index) => {\n      //Id\n      if (updatedLink.id === link.id) {\n        if (updatedLink.name === link.name) {\n          this.props.options.arrayOrientedLinks[index] = updatedLink;\n          this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n        }\n      }\n    });\n  };\n  loadMonoLink = (link: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new OrientedLinkClass(\n      link.id,\n      link.linkURL,\n      link.meta,\n      link.lowerLimit,\n      link.label,\n      link.textObj,\n      link.mainMetric,\n      link.metrics,\n      link.colorMode,\n      link.traceBack,\n      link.traceBorder,\n      link.positionParameter,\n      link.name,\n      link.orientationLink,\n      link.size,\n      link.pointAPositionX,\n      link.pointAPositionY,\n      link.colorCoordinateA,\n      link.pointBPositionX,\n      link.pointBPositionY,\n      link.colorCoordinateB,\n      link.valueMainMetricA,\n      link.valueMainMetricB,\n      link.pointIn,\n      link.pointOut,\n      link.regionIn,\n      link.regionOut,\n      link.zIndex,\n      link.pointCPositionX,\n      link.pointCPositionY,\n      link.isIncurved,\n      link.mainMetricB,\n      link.metricsB,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault,\n      link.pointAPositionXDefault,\n      link.pointAPositionYDefault,\n      link.pointBPositionXDefault,\n      link.pointBPositionYDefault,\n      link.pointCPositionXDefault,\n      link.pointCPositionYDefault\n    );\n    // Do some test here to see if your already load a coordinatespace with this id\n    let selector: number = this.LinkValidator(toLoad);\n    if (selector === 0) {\n      this.props.options.arrayOrientedLinks.push(toLoad);\n    }\n    if (selector === 2) {\n      this.linkUpdate(toLoad);\n    }\n  };\n\n  //Multi\n  loadMultiPoints = (points: any) => {\n    points.points.forEach((point: any) => {\n      this.loadMonoPoint(point);\n    });\n  };\n\n  loadMultiRegions = (regions: any) => {\n    regions.regions.forEach((region: any) => {\n      this.loadMonoRegion(region);\n    });\n  };\n\n  loadMultiLinks = (links: any) => {\n    links.links.forEach((link: any) => {\n      this.loadMonoLink(link);\n    });\n  };\n\n  //Total\n  loadTotal = (panel: any) => {\n    //console.log(panel.imageUrl);\n    this.props.options.baseMap = panel.baseMap;\n    this.props.options.display.police = panel.texteSettings.police;\n    this.props.options.display.size = panel.texteSettings.size;\n    this.props.options.display.style = panel.texteSettings.style;\n    this.props.options.coordinateSpaceInitial = panel.coordinateSpaceInitial;\n    panel.regions.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    panel.points.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    panel.links.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    this.fetchMulti();\n    // console.log('load total');\n  };\n\n  loaderTotal = async () => {\n    try {\n      let response = await fetch(this.props.options.totalUrlInput);\n      let file = await response.json();\n      this.loadTotal(file);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // fetchTotal = () => {\n  //   this.totalResult = fetchConfFile(this.props.options.saveImportUrl.total);\n  //   console.log('downloadTotal');\n  // };\n\n  // loaderSelector = () => {\n  //     // this.loadMultiRegions(multiRegionClassImport);\n  // \t// console.table(this.props.options.arrayCoordinateSpace);\n  // \tthis.result.forEach(file => {\n  // \t\tif (file.hasOwnProperty('regions')){\n  //             this.loadMultiRegions(file);\n  //             console.log('Load Region');\n  //         }\n  //         if (file.hasOwnProperty('points')){\n  //             this.loadMultiPoints(file);\n  //             console.log('Load Point');\n  //         }\n  //         if (file.hasOwnProperty('links')){\n  //             this.loadMultiLinks(file);\n  //             console.log('Load Links');\n  // \t\t}\n  // \t});\n  // }\n\n  fetchMulti = () => {\n    //this.result = fetchConfFile(this.props.options.saveImportUrl.multi);\n    this.props.options.saveImportUrl.multi.forEach(async (url) => {\n      try {\n        // console.log(url);\n        let file = {};\n        // console.log(file);\n        let response = await fetch(url);\n        file = await response.json();\n        if (file.hasOwnProperty('regions')) {\n          this.loadMultiRegions(file);\n          // console.log('Load Region');\n        }\n        if (file.hasOwnProperty('points')) {\n          this.loadMultiPoints(file);\n          // console.log('Load Point');\n        }\n        if (file.hasOwnProperty('links')) {\n          //console.log(file);\n          this.loadMultiLinks(file);\n          // console.log('Load Links');\n        }\n      } catch (error) {\n        // console.error(error);\n      }\n    });\n  };\n\n  /**************************************INPUT******************************************/\n\n  onToggleTotalUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseTotalUrl: isOpen,\n    });\n  };\n\n  onToggleMultiUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseMultiUrl: isOpen,\n    });\n  };\n\n  onToggleMultiUpload = (isOpen: boolean): void => {\n    this.setState({\n      collapseMultiUpload: isOpen,\n    });\n  };\n\n  // public onToggleMonoUrl = (isOpen: boolean): void => {\n  // \tthis.setState({\n  // \t\tcollapseMonoUrl: isOpen,\n  // \t});\n  // }\n\n  // saveUrl = (url: string, mode: number) => {\n  //   // if (mode === 0){\n  //   //     this.props.options.saveImportUrl.mono.push(url);\n  //   // }\n  //   if (mode === 1) {\n  //     this.props.options.saveImportUrl.multi.push(url);\n  //   }\n  //   if (mode === 2) {\n  //     this.props.options.saveImportUrl.total.push(url);\n  //   }\n  // };\n\n  onTotalUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, totalUrlInput: newData });\n  };\n\n  onTotalListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveImportUrl.total.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveImportUrl.total = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  onMultiUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, multiUrlInput: newData });\n  };\n\n  onMultiListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveImportUrl.multi.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveImportUrl.multi = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // onMonoUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n  // \tlet newData: string = '';\n  // \tnewData = event.currentTarget.value;\n  // \tthis.props.onOptionsChange({ ...this.props.options, monoUrlInput: newData });\n  // }\n\n  // onMonoListUrlChanged = (event: {currentTarget: HTMLInputElement}) => {\n  //     let newData: string[] = this.props.options.saveImportUrl.mono.slice();\n  //     newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n  //     this.props.options.saveImportUrl.mono = newData;\n  //     this.props.onOptionsChange({...this.props.options, saveImportUrl: this.props.options.saveImportUrl})\n  // }\n\n  addTotalUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.saveImportUrl.total.push(this.props.options.totalUrlInput);\n    this.props.options.totalUrlInput = '';\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  addMultiUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.saveImportUrl.multi.push(this.props.options.multiUrlInput);\n    this.props.options.multiUrlInput = '';\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // addMonoUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n  //     this.props.options.saveImportUrl.mono.push(this.props.options.monoUrlInput);\n  //     this.props.options.monoUrlInput = '';\n  //     this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl})\n  // }\n\n  totalDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveImportUrl.total[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportUrl.total.splice(this.props.options.saveImportUrl.total.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  multiDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveImportUrl.multi[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportUrl.multi.splice(this.props.options.saveImportUrl.multi.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // monoDeletUrl = (onClick: { currentTarget: HTMLButtonElement}) => {\n  //     const isUrl = (url: string) => url === this.props.options.saveImportUrl.mono[parseInt(onClick.currentTarget.id, 10)];\n  //     this.props.options.saveImportUrl.mono.splice(this.props.options.saveImportUrl.mono.findIndex(isUrl), 1);\n  //     this.props.onOptionsChange({...this.props.options, saveImportUrl: this.props.options.saveImportUrl});\n  // }\n\n  tempo = () => {\n    // console.log(this.props.options.saveImportUrl);\n  };\n\n  totalUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.total.lenght !== 0) {\n      const list = props.list.total.map((url: string, index: number) => (\n        <div\n          key={'TotalUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'TotalUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={5}\n            inputWidth={20}\n            onChange={this.onTotalListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.totalDeletUrl.bind(this)}>\n            Del\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  multiUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.multi.lenght !== 0) {\n      const list = props.list.multi.map((url: string, index: number) => (\n        <div\n          key={'MultiUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n            marginTop: '5px',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'MultiUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={10}\n            inputWidth={20}\n            onChange={this.onMultiListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.multiDeletUrl.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  // monoUrlDisplay = (props: any): JSX.Element => {\n  // \tif (props.list.multi.lenght !== 0) {\n  // \t\tconst list = props.list.mono.map((url: string, index: number) =>\n  // \t\t\t<div key={'MonoUrlDiv' + index.toString()}>\n  //                 <FormField id={index.toString()} key={'MonoUrl' + index.toString()}\n  // \t\t\t\t\tlabel={'Url'} labelWidth={5}\n  // \t\t\t\t\tinputWidth={20} onChange={this.onMonoListUrlChanged.bind(this)} type='string' value={url || ''} />\n  // \t\t\t\t<Button variant='danger' id={index.toString()} key={'ButtunDel' + index.toString()}\n  // \t\t\t\t\tonClick={this.monoDeletUrl.bind(this)}>Del</Button>\n  // \t\t\t</div>\n  // \t\t);\n  // \t\treturn (\n  // \t\t\t<div>{list}</div>\n  // \t\t);\n  // \t}\n  // \treturn (<div>No targets avalaible</div>);\n  // }\n\n  delAll = () => {\n    // this.props.options.arrayCoordinateSpace = [];\n    // this.props.options.arrayOrientedLinks = [];\n    // this.props.options.arrayPoints = [];\n    this.props.options.saveImportUrl.total = [];\n    this.props.options.saveImportUrl.multi = [];\n    // this.props.options.saveImportUrl.mono = [];\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  toDel = () => {\n    // console.log(this.props.options.saveImportUrl.multi);\n    // console.log(this.props.options.arrayPoints);\n  };\n\n  render() {\n    const { options } = this.props;\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseTotalUrl} label=\"Global Url Import\" onToggle={this.onToggleTotalUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Total Url\"\n              labelWidth={10}\n              key={'TotalUrl'}\n              inputWidth={20}\n              onChange={this.onTotalUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.totalUrlInput || ''}\n            />\n            <Button onClick={this.loaderTotal}>Finish</Button>\n          </div>\n          {/* <Button key={'AddTotalUrl'} onClick={this.addTotalUrlInput}>Add</Button> */}\n          <div className=\"section gf-form-group\">\n            <this.totalUrlDisplay list={options.saveImportUrl} />\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseMultiUrl} label=\"Multi Url Import\" onToggle={this.onToggleMultiUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Multi Url\"\n              labelWidth={10}\n              key={'MultiUrl'}\n              inputWidth={20}\n              onChange={this.onMultiUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.multiUrlInput || ''}\n            />\n            <Button key={'AddMultiUrl'} onClick={this.addMultiUrlInput}>\n              Add\n            </Button>\n            <Button onClick={this.fetchMulti}>Finish</Button>\n          </div>\n          <div className=\"section gf-form-group\">\n            <this.multiUrlDisplay list={options.saveImportUrl} />\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseMultiUpload} label=\"Multi Local Import\" onToggle={this.onToggleMultiUpload}>\n          <div>\n            <DropZone options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n          </div>\n        </Collapse>\n        {/* <div className='section gf-form-group'>\n                    <Collapse isOpen={this.state.collapseMonoUrl}\n\t\t\t\t\t\tlabel='Mono Url' onToggle={this.onToggleMonoUrl}>\n                        <FormField label='Mono Url' labelWidth={8} key={'MonoUrl'}\n                            inputWidth={20} onChange={this.onMonoUrlChanged.bind(this)}\n                            type='string' value={options.monoUrlInput || ''} />\n                        <Button key={'AddMonoUrl'} onClick={this.addMonoUrlInput}>Add</Button>\n                        <div className='section gf-form-group'>\n                            <Button onClick={this.fetchMono}>Load</Button>\n\t\t\t\t\t        <this.monoUrlDisplay list={options.saveImportUrl} />\n\t\t\t\t        </div>\n\t\t\t\t\t</Collapse>\n                </div> */}\n        {/* <div className=\"section gf-form-group\">\n          <Button key={'delAll'} onClick={this.delAll}>\n            Del all urls\n          </Button>\n        </div>\n        <Button onClick={this.toDel}>toDel</Button> */}\n      </div>\n    );\n  }\n}\nexport default ImportInput;\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport { RegionClass } from 'Models/RegionClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { Button } from '@grafana/ui';\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  // legend: Legend;\n  /** save data */\n  callBack: (event: any) => void;\n  callBackClose: () => void;\n}\n\ninterface State {\n  finalHTML: JSX.Element;\n  legend: Legend;\n}\n\n/**\n * def\n */\nclass LegendComponent extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      finalHTML: <div></div>,\n      legend: this.props.options.legend,\n    };\n  }\n\n  /** async state */\n  setStateAsyncFinalHTML = (state: {\n    /** mew value */\n    finalHTML: JSX.Element;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** fill lowerlimit in JSX.Element */\n  fillLowerLimit = (lowerLimit: LowerLimitClass[], name: string): JSX.Element[] => {\n    const allLimit: JSX.Element[] = [];\n    let i = 0;\n    const max: number = lowerLimit.length - 1;\n\n    for (const lower of lowerLimit) {\n      allLimit.push(\n        <div key={name + 'LowerLimit' + i} className=\"LegendMatt\">\n          <span\n            style={{\n              padding: '5px',\n              // margin: '10px',\n              width: '130px',\n              //width: '3.5rem',\n              //borderRadius: '39%',\n              backgroundColor: lower.backColor,\n              border: lower.sizeBorder + 'px solid ' + lower.borderColor,\n              listStyleType: 'none',\n              display: 'inline-block',\n              textAlign: 'center',\n            }}\n          >\n            {lowerLimit.length > 1 && (\n              <span\n                style={{\n                  //display: 'inline-block',\n                  //verticalAlign: 'middle',\n                  //marginBottom: '1.25rem',\n                  fontSize: '10px',\n                  //fontWeight: 'bold',\n                }}\n              >\n                {i === 0 ? '-∞' : lower.lowerLimitMin} - {i === max ? '+∞' : lower.lowerLimitMax}\n              </span>\n            )}\n          </span>\n        </div>\n      );\n      ++i;\n    }\n    return allLimit;\n  };\n\n  /** get all lower limit for region */\n  fillRegion = () => {\n    const allRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    const rendu: JSX.Element[] = [];\n    for (const line of allRegion) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'region');\n      const ownElement: JSX.Element = (\n        <div key={line.id + 'DisplayLegendRegion'}>\n          {line.label}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  closeLegend = (event: any) => {\n    this.props.callBackClose();\n    // const close = document.getElementById('iconclose');\n    // close?.addEventListener('click', () => {\n\n    //   const disappear = document.getElementById('L');\n    //   const appear = document.getElementById('legnd');\n    //   if (disappear) {\n    //     disappear.style.visibility = 'hidden';\n    //   }\n    //   appear?.addEventListener('click', () => {\n    //     if (disappear) {\n    //       disappear.style.visibility = 'visible';\n    //     }\n    //   });\n    // });\n  };\n\n  /** get all limit for point */\n  fillPoint = () => {\n    const allPoint: PointClass[] = this.props.options.arrayPoints;\n    const rendu: JSX.Element[] = [];\n\n    for (const line of allPoint) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'point');\n      const name: string = line.label || line.name;\n      const ownElement: JSX.Element = (\n        <div key={name + 'DisplayLegendPoint'}>\n          {name}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  /** get all limit for orientedLink */\n  fillLink = () => {\n    const allLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    const rendu: JSX.Element[] = [];\n\n    for (const line of allLinks) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'link');\n      const name: string = line.label || line.name;\n      const ownElement: JSX.Element = (\n        <div key={name + 'DisplayLegendLink'}>\n          {name}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  /** generate legend */\n  renduState = async () => {\n    const value: JSX.Element = (\n      <div\n        key={'contentLegend'}\n        style={{\n          position: 'relative',\n          left: this.state.legend.x,\n          top: this.state.legend.y,\n          maxWidth: '100%',\n          zIndex: 'auto',\n        }}\n        hidden={this.state.legend.hiddenLegend}\n      >\n        <article\n          id=\"L\"\n          style={{\n            width: '200px',\n            position: 'absolute',\n            overflowY: 'scroll',\n            margin: '0',\n            height: '240px',\n            backgroundColor: '#FFF',\n            color: '#000',\n            border: '4px solid #299c46',\n            borderRadius: '4px',\n            // scrollbarColor: '#09090b #212124',\n            scrollbarColor: '#299c46',\n            scrollbarWidth: 'thin',\n            zIndex: 9999,\n            resize: 'both',\n          }}\n        >\n          <div key={'legendTitle'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <h5 style={{ width: '100%', fontSize: '20px', display: 'flex', padding: '10px' }}>\n              Legend\n              <Button onClick={this.closeLegend} style={{ marginLeft: 'auto' }} id=\"iconclose\">\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n              </Button>\n            </h5>\n            {/* <p style={{ color: '#d8d9da', fontSize: '15px', marginLeft: '14px', fontWeight: 'bold' }}>Region</p>\n            <p style={{ color: '#d8d9da', fontSize: '11px', marginLeft: '17px' }}>Label</p> */}\n\n            {/* <p style={{ fontSize: '15px', marginLeft: '14px', fontWeight: 'bold' }}>Region</p> */}\n            <div key={'legendTitleRegion'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n              <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Region</p>\n            </div>\n          </div>\n          <div key=\"regionLegend\" style={{ paddingLeft: '5px', lineHeight: '1.5' }}>\n            {this.fillRegion()}\n          </div>\n          <div key={'legendTitlePoint'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Point</p>\n          </div>\n          <div key=\"pointLegend\" style={{ paddingLeft: '5px', lineHeight: '1.5' }}>\n            {this.fillPoint()}\n          </div>\n          <div key={'legendTitleLink'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Oriented Link</p>\n          </div>\n          <div key=\"linkLegend\" style={{ paddingLeft: '5px' }}>\n            {this.fillLink()}\n          </div>\n        </article>\n      </div>\n    );\n    await this.setStateAsyncFinalHTML({\n      finalHTML: value,\n    });\n  };\n\n  setStateLegendAsync = (state: { legend: Legend }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update when legend is edited */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps !== this.props || prevState.legend.hiddenLegend !== this.props.options.legend.hiddenLegend) {\n      await this.setStateLegendAsync({ legend: this.props.options.legend });\n      this.renduState();\n    }\n  };\n\n  /** fill state value when component is mounted */\n  componentDidMount = () => {\n    this.renduState();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    // rip testMoi\n    return <div key={'contentHtmlLegend'}>{this.state.finalHTML}</div>;\n  }\n}\nexport default LegendComponent;\n","import { PanelPlugin } from '@grafana/data';\nimport { SimpleOptions, defaults } from './types';\nimport { SimplePanel } from 'SimplePanel';\nimport { SimpleEditor } from 'SimpleEditor';\n\nexport const plugin = new PanelPlugin<SimpleOptions>(SimplePanel).setDefaults(defaults).setEditor(SimpleEditor);\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { SelectableValue, DataFrame } from '@grafana/data';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { PointClass } from 'Models/PointClass';\nimport { LinkClass } from 'Models/LinkClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { Style } from 'components/Parametrage/styleComponent';\n// import { TextObject } from 'Models/TextObjectClass';\nimport { Filtred } from 'Functions/loaderGabarit';\nimport { TextObject } from 'Models/TextObjectClass';\n\n/**\n * interface to save texte settings (police, size, style)\n */\nexport interface TexteSettings {\n  /** police simple panel */\n  police: string;\n  /** size simple panel */\n  size: string;\n  /** style simple panel */\n  style: Style;\n}\n\nexport interface MetaFile {\n  meta: string;\n  obj: {\n    colorText: string;\n    colorBack: string;\n    style: {\n      bold: string;\n      italic: string;\n      underline: string;\n    };\n  };\n}\n\nexport interface LowerLimit {\n  id: number;\n  lowerLimitMin: string;\n  lowerLimitMax: string;\n  backColor: string;\n  borderColor: string;\n  sizeBorder: string;\n}\n\nexport interface GabaritFile {\n  fileName: string;\n  queryID: string;\n  loaded: boolean;\n  globalGabarit: GlobalGabarit;\n  templateGabaritPoint: TemplateGabaritPoint[];\n  templateGabaritRegion: TemplateGabaritRegion[];\n  templateGabaritLink: TemplateGabaritLink[];\n  templateGabaritPointDefault: TemplateGabaritPoint[];\n  templateGabaritRegionDefault: TemplateGabaritRegion[];\n  templateGabaritLinkDefault: TemplateGabaritLink[];\n}\n\nexport interface GlobalGabarit {\n  lowerLimit: any[];\n  textObject: any;\n  defaultColor: string;\n  colorMode: string;\n  traceBack: string;\n  traceBorder: string;\n}\n\nexport interface TemplateGabaritPoint {\n  filtered: string;\n  labelfix: string;\n  xylabel: string;\n  xylabelfix: string;\n  type: string;\n  name: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  linkURL: any;\n  valueMetric: string;\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  // sizeWidth: SelectableValue<string>;\n  sizeWidth: string;\n  sizeHeight: SelectableValue<string>;\n  color: string;\n  associateOrientedLinksIn: OrientedLinkClass[];\n  associateOrientedLinksOut: OrientedLinkClass[];\n}\n\nexport interface TemplateGabaritRegion {\n  filtered: string;\n  labelfix: string;\n  xylabel: string;\n  //xylabel0: string;\n  xylabelfix: string;\n  //xylabelfix0: string;\n  type: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  linkURL: any;\n  idSVG: string;\n  mode: string;\n  img: string;\n  orientedLink: OrientedLinkClass[];\n  color: string;\n}\n\nexport interface TemplateGabaritLink {\n  filtered: string;\n  labelfix: string;\n  xylabelA: string;\n  xylabelB: string;\n  xylabelC: string;\n  xylabelfixA: string;\n  xylabelfixB: string;\n  xylabelfixC: string;\n  type: string;\n  name: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  mainMetricB: Metric;\n  metricsB: Metric[];\n  linkURL: any;\n  orientationLink: SelectableValue<string>;\n  size: string;\n  colorCoordinateA: string;\n  colorCoordinateB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  pointIn: string;\n  pointOut: string;\n  regionIn: string;\n  regionOut: string;\n  zIndex: string;\n  isIncurved: SelectableValue<string>;\n  color: string;\n}\n\nexport interface Metadata {\n  meta: string;\n  obj: TextObject;\n}\n\nexport declare type TManageValue = 'avg' | 'sum' | 'err';\n\nexport interface Metric {\n  key: string;\n  unit: string;\n  /** ecriture scientifique */\n  format: string;\n  keyValue: string;\n  filter?: Filtred[];\n  refId?: string;\n  expr?: string;\n  returnQuery?: DataFrame[];\n  /** avg, count, error */\n  manageValue: TManageValue;\n}\n\nexport interface MetricSettings {\n  /**\n   * fond is active (color)\n   */\n  fondIsActive: boolean;\n  /**\n   * contour is active\n   */\n  contourIsActive: boolean;\n  /**\n   * seuil for variable color\n   */\n  lowerLimit: LowerLimitClass[];\n  /**\n   * color mode for parametresGeneriques\n   */\n  colorMode: boolean;\n}\n\nexport interface MetricQuery {\n  __name__: string;\n  job: string;\n  //key: string,\n}\n\nexport interface ResultQuery {\n  metric: any;\n  value: any[];\n}\n\nexport interface DataQuery {\n  resultType: string;\n  result: ResultQuery[];\n}\n\nexport interface ReturnQuery {\n  status: string;\n  data: DataQuery;\n}\n\nexport interface Target {\n  expr: string;\n  refId?: string;\n}\n\nexport interface Background {\n  /** background image */\n  image: string;\n  /** layer image */\n  layerImage: string;\n  /** use image svg or value get by user */\n  modeSVG: boolean;\n  /** size width image or get by user */\n  width: string;\n  /** size height image or get by user */\n  height: string;\n  /** id svg for tag */\n  idSVG: string;\n  /** check if is Url or Uploaded from computer */\n  isUploaded: boolean;\n  /** name of uploaded file if image is uploaded from computer */\n  nameUploadedImage?: string;\n}\n\nexport interface TimeRange {\n  from: string;\n  to: string;\n}\n\nexport interface UrlList {\n  total: string[];\n  multi: string[];\n  mono: string[];\n}\n\nexport interface ImportFile {\n  name: string;\n  content: string;\n}\n\nexport interface CoordinateSpaceInitial {\n  /** coordinate for initial space */\n  coordinate: Coord4D;\n  /** display zone in SimplePanel (orange rectangle) */\n  displayArea: boolean;\n  /** if true use default coor 0-100 else use -100-100 */\n  //defaultReferentiel: boolean;\n}\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\n/**\n * Stock the values between SimpleEditor and SimplePanel\n */\n// tslint:disable-next-line:interface-name\nexport interface SimpleOptions extends MetricSettings {\n  /** legend */\n  legend: Legend;\n\n  /** display: police, size and style text */\n  display: TexteSettings;\n  /****to do */\n  displayButton: boolean;\n  /**\n   * Espace de visualisation initial\n   */\n  coordinateSpaceInitial: CoordinateSpaceInitial;\n\n  /**\n   * Espace de coordonnees\n   */\n  regionCoordinateSpace: RegionClass[];\n\n  /**\n   * Liste des points générés depuis l'onglet Point\n   */\n  arrayPoints: PointClass[];\n\n  /**\n   * Liste des liens générés depuis l'onglet Link\n   */\n  arrayLinks: LinkClass[];\n\n  /**\n   * Liste des liens orientés générés depuis l'onglet OrientedLink\n   */\n  arrayOrientedLinks: OrientedLinkClass[];\n\n  /**\n   * Raw format of dashboard's json\n   */\n  contentJson: string;\n  /**\n   * Object format of dashboard's json\n   */\n  Json: any;\n  /**\n   * Id of dashboard\n   */\n  Id: number;\n  /**\n   * Uid of dashboard\n   */\n  uid: string;\n  /**\n   * Title of dashboard\n   */\n  title: string;\n  /**\n   * Style of dashboard\n   */\n  style: string;\n  /**\n   * True of false is the dashboard is editable\n   */\n  editable: string;\n  /**\n   * Version number of the dashboard\n   */\n  version: number;\n  /**\n   * Refresh time that is picked\n   */\n  refresh: SelectableValue<string>;\n  /**\n   * Shemas version number of the dashboard\n   */\n  shemaVersion: number;\n  /**\n   * Timezone of the dashboard\n   */\n  timezone: string;\n  /**\n   * Actual panel selected in \"Time selector display\"\n   */\n  actualPanel: SelectableValue<string>;\n  /**\n   * List of panel selectable in the dashboard\n   */\n  panelList: Array<SelectableValue<string>>;\n  /**\n   * Id of the selected panel\n   */\n  panelId: number;\n  /**\n   * Type of the selected panel\n   */\n  panelType: string;\n  /**\n   * List of targets in the selected panel\n   */\n  panelTargets: Target[];\n  /**\n   * List of targets loaded for fetch data\n   */\n  promTargets: Target[];\n  /**\n   * List of target load at init for fetch data\n   */\n  promGlobalTargets: Target[];\n  /**\n   * Time range selected for fetch data\n   */\n  timeRange: TimeRange;\n  /**\n   * Input of editable target\n   */\n  personalTarget: Target;\n  /**\n   * Time instant selected for fetch data\n   */\n  timeQuery: string;\n  /**\n   * Input of prometheus server url\n   */\n  promUrl: string;\n  /**\n   * List of query that will be send to the server\n   */\n  queryProm: string[];\n  /**\n   * List of iniot query that will be send to the server\n   */\n  queryPromGlobal: string[];\n  /**\n   * List of range query that will be send to the server\n   */\n  queryPromRange: string[];\n  /**\n   * List of time that can be picked in \"Time selector display\"\n   */\n  listStep: Array<SelectableValue<string>>;\n  /**\n   * Return of the prometheus's API call\n   */\n  jsonQueryReturn: ReturnQuery[];\n  /**\n   * Return of the init prometheus's API call\n   */\n  jsonGlobalQueryReturn: ReturnQuery[];\n  /**\n   * TODO\n   */\n  mainTarget: Target;\n  /**\n   * TODO\n   */\n  mainQueryProm: string;\n  /**\n   * TODO\n   */\n  mainQueryReturn: ReturnQuery;\n\n  testMainQueryReturn: any;\n\n  coordinatesToDrawLinkWithClick: [\n    {\n      id: number;\n    },\n    {\n      x: number;\n      xDefault: number;\n      y: number;\n      yDefault: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    },\n    {\n      x: number;\n      xDefault: number;\n      y: number;\n      yDefault: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    },\n    {\n      x: number;\n      y: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    }\n  ];\n\n  indexOrientedLink: number;\n\n  indexPoint: number;\n\n  indexRegion: number;\n\n  listCollapsePoint: boolean[];\n\n  listCollapseOrientedLink: boolean[];\n  /** background image with property */\n  baseMap: Background;\n  saveImportUrl: UrlList;\n  saveImportFile: ImportFile[];\n  totalUrlInput: string;\n  multiUrlInput: string;\n  monoUrlInput: string;\n\n  zIndexOrientedLink: number;\n  orientedLinkToUpgrade: SelectableValue<OrientedLinkClass>;\n  orientedLinkToDowngrade: SelectableValue<OrientedLinkClass>;\n  checkIndexMultiLink: number;\n\n  newPoint: boolean;\n  newOrientedLink: boolean;\n\n  currentDashboard: boolean;\n\n  gabaritUrlInput: string;\n\n  saveGabaritDefaultUrl: string;\n\n  saveMetadatavalue: string[];\n  saveGabaritURL: string[];\n  saveGabaritFile: GabaritFile[];\n  saveDefaultGabaritFile: GabaritFile;\n  gabaritDefault: GabaritFile;\n  updateOnlyInitialSpace: boolean;\n}\n\nexport const defaults: SimpleOptions = {\n  saveGabaritDefaultUrl: '',\n  saveDefaultGabaritFile: {\n    queryID: 'A',\n    fileName: '',\n    loaded: false,\n    globalGabarit: {\n      lowerLimit: [\n        {\n          id: 0,\n          lowerLimitMin: '0',\n          lowerLimitMax: '0',\n          backColor: 'blue',\n          borderColor: 'red',\n          sizeBorder: '1px',\n        },\n      ],\n      textObject: {\n        value: 'default',\n        isTextTooltip: 'false',\n        colorBack: 'blue',\n        colorText: 'black',\n        style: {\n          bold: 'false',\n          italic: 'false',\n          underline: 'false',\n        },\n        generateObjectText: 'false',\n        valueGenerateObjectText: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n        generateAuxiliaryElement: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n      },\n      defaultColor: 'black',\n      colorMode: 'true',\n      traceBack: 'true',\n      traceBorder: 'true',\n    },\n    templateGabaritPoint: [],\n    templateGabaritRegion: [],\n    templateGabaritLink: [],\n    templateGabaritPointDefault: [],\n    templateGabaritRegionDefault: [],\n    templateGabaritLinkDefault: [],\n  },\n  legend: { hiddenLegend: true, x: 0, y: 0 },\n  baseMap: {\n    image: '',\n    layerImage: '',\n    modeSVG: true,\n    width: '0',\n    height: '0',\n    idSVG: '',\n    isUploaded: false,\n  },\n  // imageUrl: 'https://upload.wikimedia.org/wikipedia/en/b/be/Locator_Grid.png',\n  coordinateSpaceInitial: {\n    coordinate: {\n      xMin: '0',\n      xMax: '0',\n      yMin: '0',\n      yMax: '0',\n    },\n    displayArea: true,\n  },\n  displayButton: false,\n  regionCoordinateSpace: [],\n  arrayPoints: [],\n  arrayLinks: [],\n  arrayOrientedLinks: [],\n  display: {\n    police: 'Helvetica',\n    size: '1em',\n    style: { italic: false, bold: false, underline: false },\n  },\n  fondIsActive: true,\n  contourIsActive: true,\n  lowerLimit: [],\n  colorMode: true,\n  contentJson: 'contenu du dashboard',\n  Id: 0,\n  uid: '',\n  title: '',\n  style: '',\n  editable: '',\n  version: 0,\n  refresh: { value: '0', label: '0' },\n  shemaVersion: 0,\n  timezone: '',\n  actualPanel: { value: '0', label: '0' },\n  panelList: [{ value: '0', label: '0' }],\n  panelId: 0,\n  panelType: '',\n  panelTargets: [],\n  promTargets: [],\n  promGlobalTargets: [],\n  Json: {},\n  timeRange: { from: '2020-01-02 00:00:00', to: '2020-01-02 00:00:00' },\n  personalTarget: { expr: '' },\n  timeQuery: '2020-01-02 00:00:00',\n  promUrl: 'http://localhost:9090/api/v1/',\n  queryProm: [],\n  queryPromGlobal: [],\n  queryPromRange: [],\n  listStep: [{ value: '0', label: '0' }],\n  jsonQueryReturn: [],\n  jsonGlobalQueryReturn: [],\n  mainTarget: { expr: '' },\n  mainQueryProm: '',\n  mainQueryReturn: {\n    status: '',\n    data: {\n      resultType: '',\n      result: [\n        {\n          metric: {\n            __name__: '',\n            job: '',\n            //key: '',\n          },\n          value: [],\n        },\n      ],\n    },\n  },\n  testMainQueryReturn: {},\n  coordinatesToDrawLinkWithClick: [\n    {\n      id: 0,\n    },\n    {\n      x: 0,\n      xDefault: 0,\n      y: 0,\n      yDefault: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n    {\n      x: 0,\n      xDefault: 0,\n      y: 0,\n      yDefault: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n    {\n      x: 0,\n      y: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n  ],\n  indexOrientedLink: 0,\n  indexPoint: 0,\n  indexRegion: 0,\n  listCollapsePoint: [],\n  listCollapseOrientedLink: [],\n  saveImportUrl: {\n    total: [],\n    multi: [],\n    mono: [],\n  },\n  saveImportFile: [],\n  totalUrlInput: '',\n  multiUrlInput: '',\n  monoUrlInput: '',\n  zIndexOrientedLink: 1,\n  orientedLinkToUpgrade: {},\n  orientedLinkToDowngrade: {},\n  checkIndexMultiLink: 0,\n  newPoint: true,\n  newOrientedLink: true,\n  currentDashboard: false,\n  gabaritUrlInput: '',\n  saveGabaritURL: [],\n  saveMetadatavalue: [],\n  saveGabaritFile: [],\n  gabaritDefault: {\n    queryID: 'A',\n    fileName: 'default',\n    loaded: false,\n    globalGabarit: {\n      lowerLimit: [\n        {\n          id: 0,\n          lowerLimitMin: '',\n          lowerLimitMax: '',\n          backColor: 'blue',\n          borderColor: 'red',\n          sizeBorder: '1',\n        },\n      ],\n      textObject: {\n        value: 'default',\n        isTextTooltip: 'false',\n        colorBack: 'blue',\n        colorText: 'black',\n        style: {\n          bold: 'false',\n          italic: 'false',\n          underline: 'false',\n        },\n        generateObjectText: 'false',\n        valueGenerateObjectText: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n        generateAuxiliaryElement: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n      },\n      defaultColor: 'black',\n      colorMode: 'true',\n      traceBack: 'true',\n      traceBorder: 'true',\n    },\n    templateGabaritPoint: [],\n    templateGabaritRegion: [],\n    templateGabaritLink: [],\n    templateGabaritPointDefault: [],\n    templateGabaritRegionDefault: [],\n    templateGabaritLinkDefault: [],\n  },\n  updateOnlyInitialSpace: false,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}